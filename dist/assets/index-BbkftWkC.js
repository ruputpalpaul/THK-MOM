function gT(e,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();var zF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _g={exports:{}},rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function xT(){if(w5)return rh;w5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:i,key:u,ref:o!==void 0?o:null,props:l}}return rh.Fragment=t,rh.jsx=s,rh.jsxs=s,rh}var N5;function vT(){return N5||(N5=1,_g.exports=xT()),_g.exports}var n=vT(),kg={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function yT(){if(j5)return Yt;j5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,S={};function j(_,k,q){this.props=_,this.context=k,this.refs=S,this.updater=q||C}j.prototype.isReactComponent={},j.prototype.setState=function(_,k){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,k,"setState")},j.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function L(){}L.prototype=j.prototype;function R(_,k,q){this.props=_,this.context=k,this.refs=S,this.updater=q||C}var D=R.prototype=new L;D.constructor=R,M(D,j.prototype),D.isPureReactComponent=!0;var U=Array.isArray;function G(){}var $={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function Y(_,k,q){var J=q.ref;return{$$typeof:e,type:_,key:k,ref:J!==void 0?J:null,props:q}}function fe(_,k){return Y(_.type,k,_.props)}function V(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function P(_){var k={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(q){return k[q]})}var F=/\/+/g;function W(_,k){return typeof _=="object"&&_!==null&&_.key!=null?P(""+_.key):k.toString(36)}function te(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(G,G):(_.status="pending",_.then(function(k){_.status==="pending"&&(_.status="fulfilled",_.value=k)},function(k){_.status==="pending"&&(_.status="rejected",_.reason=k)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function z(_,k,q,J,oe){var ce=typeof _;(ce==="undefined"||ce==="boolean")&&(_=null);var me=!1;if(_===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(_.$$typeof){case e:case t:me=!0;break;case p:return me=_._init,z(me(_._payload),k,q,J,oe)}}if(me)return oe=oe(_),me=J===""?"."+W(_,0):J,U(oe)?(q="",me!=null&&(q=me.replace(F,"$&/")+"/"),z(oe,k,q,"",function(Me){return Me})):oe!=null&&(V(oe)&&(oe=fe(oe,q+(oe.key==null||_&&_.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+me)),k.push(oe)),1;me=0;var be=J===""?".":J+":";if(U(_))for(var ve=0;ve<_.length;ve++)J=_[ve],ce=be+W(J,ve),me+=z(J,k,q,ce,oe);else if(ve=y(_),typeof ve=="function")for(_=ve.call(_),ve=0;!(J=_.next()).done;)J=J.value,ce=be+W(J,ve++),me+=z(J,k,q,ce,oe);else if(ce==="object"){if(typeof _.then=="function")return z(te(_),k,q,J,oe);throw k=String(_),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return me}function K(_,k,q){if(_==null)return _;var J=[],oe=0;return z(_,J,"","",function(ce){return k.call(q,ce,oe++)}),J}function H(_){if(_._status===-1){var k=_._result;k=k(),k.then(function(q){(_._status===0||_._status===-1)&&(_._status=1,_._result=q)},function(q){(_._status===0||_._status===-1)&&(_._status=2,_._result=q)}),_._status===-1&&(_._status=0,_._result=k)}if(_._status===1)return _._result.default;throw _._result}var ue=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},ae={map:K,forEach:function(_,k,q){K(_,function(){k.apply(this,arguments)},q)},count:function(_){var k=0;return K(_,function(){k++}),k},toArray:function(_){return K(_,function(k){return k})||[]},only:function(_){if(!V(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Yt.Activity=x,Yt.Children=ae,Yt.Component=j,Yt.Fragment=s,Yt.Profiler=o,Yt.PureComponent=R,Yt.StrictMode=i,Yt.Suspense=f,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return $.H.useMemoCache(_)}},Yt.cache=function(_){return function(){return _.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(_,k,q){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var J=M({},_.props),oe=_.key;if(k!=null)for(ce in k.key!==void 0&&(oe=""+k.key),k)!B.call(k,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&k.ref===void 0||(J[ce]=k[ce]);var ce=arguments.length-2;if(ce===1)J.children=q;else if(1<ce){for(var me=Array(ce),be=0;be<ce;be++)me[be]=arguments[be+2];J.children=me}return Y(_.type,oe,J)},Yt.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},Yt.createElement=function(_,k,q){var J,oe={},ce=null;if(k!=null)for(J in k.key!==void 0&&(ce=""+k.key),k)B.call(k,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=k[J]);var me=arguments.length-2;if(me===1)oe.children=q;else if(1<me){for(var be=Array(me),ve=0;ve<me;ve++)be[ve]=arguments[ve+2];oe.children=be}if(_&&_.defaultProps)for(J in me=_.defaultProps,me)oe[J]===void 0&&(oe[J]=me[J]);return Y(_,ce,oe)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(_){return{$$typeof:d,render:_}},Yt.isValidElement=V,Yt.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:H}},Yt.memo=function(_,k){return{$$typeof:m,type:_,compare:k===void 0?null:k}},Yt.startTransition=function(_){var k=$.T,q={};$.T=q;try{var J=_(),oe=$.S;oe!==null&&oe(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(G,ue)}catch(ce){ue(ce)}finally{k!==null&&q.types!==null&&(k.types=q.types),$.T=k}},Yt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Yt.use=function(_){return $.H.use(_)},Yt.useActionState=function(_,k,q){return $.H.useActionState(_,k,q)},Yt.useCallback=function(_,k){return $.H.useCallback(_,k)},Yt.useContext=function(_){return $.H.useContext(_)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(_,k){return $.H.useDeferredValue(_,k)},Yt.useEffect=function(_,k){return $.H.useEffect(_,k)},Yt.useEffectEvent=function(_){return $.H.useEffectEvent(_)},Yt.useId=function(){return $.H.useId()},Yt.useImperativeHandle=function(_,k,q){return $.H.useImperativeHandle(_,k,q)},Yt.useInsertionEffect=function(_,k){return $.H.useInsertionEffect(_,k)},Yt.useLayoutEffect=function(_,k){return $.H.useLayoutEffect(_,k)},Yt.useMemo=function(_,k){return $.H.useMemo(_,k)},Yt.useOptimistic=function(_,k){return $.H.useOptimistic(_,k)},Yt.useReducer=function(_,k,q){return $.H.useReducer(_,k,q)},Yt.useRef=function(_){return $.H.useRef(_)},Yt.useState=function(_){return $.H.useState(_)},Yt.useSyncExternalStore=function(_,k,q){return $.H.useSyncExternalStore(_,k,q)},Yt.useTransition=function(){return $.H.useTransition()},Yt.version="19.2.0",Yt}var S5;function Lx(){return S5||(S5=1,kg.exports=yT()),kg.exports}var T=Lx();const tt=sj(T),aj=gT({__proto__:null,default:tt},[T]);var Lg={exports:{}},oh={},Dg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function bT(){return A5||(A5=1,(function(e){function t(z,K){var H=z.length;z.push(K);e:for(;0<H;){var ue=H-1>>>1,ae=z[ue];if(0<o(ae,K))z[ue]=K,z[H]=ae,H=ue;else break e}}function s(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var K=z[0],H=z.pop();if(H!==K){z[0]=H;e:for(var ue=0,ae=z.length,_=ae>>>1;ue<_;){var k=2*(ue+1)-1,q=z[k],J=k+1,oe=z[J];if(0>o(q,H))J<ae&&0>o(oe,q)?(z[ue]=oe,z[J]=H,ue=J):(z[ue]=q,z[k]=H,ue=k);else if(J<ae&&0>o(oe,H))z[ue]=oe,z[J]=H,ue=J;else break e}}return K}function o(z,K){var H=z.sortIndex-K.sortIndex;return H!==0?H:z.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],p=1,x=null,N=3,y=!1,C=!1,M=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(z){for(var K=s(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=z)i(m),K.sortIndex=K.expirationTime,t(f,K);else break;K=s(m)}}function U(z){if(M=!1,D(z),!C)if(s(f)!==null)C=!0,G||(G=!0,P());else{var K=s(m);K!==null&&te(U,K.startTime-z)}}var G=!1,$=-1,B=5,Y=-1;function fe(){return S?!0:!(e.unstable_now()-Y<B)}function V(){if(S=!1,G){var z=e.unstable_now();Y=z;var K=!0;try{e:{C=!1,M&&(M=!1,L($),$=-1),y=!0;var H=N;try{t:{for(D(z),x=s(f);x!==null&&!(x.expirationTime>z&&fe());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,N=x.priorityLevel;var ae=ue(x.expirationTime<=z);if(z=e.unstable_now(),typeof ae=="function"){x.callback=ae,D(z),K=!0;break t}x===s(f)&&i(f),D(z)}else i(f);x=s(f)}if(x!==null)K=!0;else{var _=s(m);_!==null&&te(U,_.startTime-z),K=!1}}break e}finally{x=null,N=H,y=!1}K=void 0}}finally{K?P():G=!1}}}var P;if(typeof R=="function")P=function(){R(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=V,P=function(){W.postMessage(null)}}else P=function(){j(V,0)};function te(z,K){$=j(function(){z(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(z){switch(N){case 1:case 2:case 3:var K=3;break;default:K=N}var H=N;N=K;try{return z()}finally{N=H}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=N;N=z;try{return K()}finally{N=H}},e.unstable_scheduleCallback=function(z,K,H){var ue=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=H+ae,z={id:p++,callback:K,priorityLevel:z,startTime:H,expirationTime:ae,sortIndex:-1},H>ue?(z.sortIndex=H,t(m,z),s(f)===null&&z===s(m)&&(M?(L($),$=-1):M=!0,te(U,H-ue))):(z.sortIndex=ae,t(f,z),C||y||(C=!0,G||(G=!0,P()))),z},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(z){var K=N;return function(){var H=N;N=K;try{return z.apply(this,arguments)}finally{N=H}}}})(Rg)),Rg}var C5;function wT(){return C5||(C5=1,Dg.exports=bT()),Dg.exports}var Og={exports:{}},Ga={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T5;function NT(){if(T5)return Ga;T5=1;var e=Lx();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,m,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:f,containerInfo:m,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ga.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,p)},Ga.flushSync=function(f){var m=u.T,p=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=m,i.p=p,i.d.f()}},Ga.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},Ga.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ga.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,x=d(p,m.crossOrigin),N=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:y}):p==="script"&&i.d.X(f,{crossOrigin:x,integrity:N,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ga.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},Ga.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,x=d(p,m.crossOrigin);i.d.L(f,p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ga.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=d(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},Ga.requestFormReset=function(f){i.d.r(f)},Ga.unstable_batchedUpdates=function(f,m){return f(m)},Ga.useFormState=function(f,m,p){return u.H.useFormState(f,m,p)},Ga.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ga.version="19.2.0",Ga}var M5;function ij(){if(M5)return Og.exports;M5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Og.exports=NT(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5;function jT(){if(E5)return oh;E5=1;var e=wT(),t=Lx(),s=ij();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var r=a,c=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(c=r.return),a=r.return;while(a)}return r.tag===3?c:null}function u(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function d(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function f(a){if(l(a)!==a)throw Error(i(188))}function m(a){var r=a.alternate;if(!r){if(r=l(a),r===null)throw Error(i(188));return r!==a?null:a}for(var c=a,h=r;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return f(v),a;if(w===h)return f(v),r;w=w.sibling}throw Error(i(188))}if(c.return!==h.return)c=v,h=w;else{for(var I=!1,ne=v.child;ne;){if(ne===c){I=!0,c=v,h=w;break}if(ne===h){I=!0,h=v,c=w;break}ne=ne.sibling}if(!I){for(ne=w.child;ne;){if(ne===c){I=!0,c=w,h=v;break}if(ne===h){I=!0,h=w,c=v;break}ne=ne.sibling}if(!I)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?a:r}function p(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=p(a),r!==null)return r;a=a.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function W(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList";case Y:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case C:return"Portal";case R:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case D:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case $:return r=a.displayName||null,r!==null?r:W(a.type)||"Memo";case B:r=a._payload,a=a._init;try{return W(a(r))}catch{}}return null}var te=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ue=[],ae=-1;function _(a){return{current:a}}function k(a){0>ae||(a.current=ue[ae],ue[ae]=null,ae--)}function q(a,r){ae++,ue[ae]=a.current,a.current=r}var J=_(null),oe=_(null),ce=_(null),me=_(null);function be(a,r){switch(q(ce,r),q(oe,a),q(J,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?Vy(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=Vy(r),a=Gy(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}k(J),q(J,a)}function ve(){k(J),k(oe),k(ce)}function Me(a){a.memoizedState!==null&&q(me,a);var r=J.current,c=Gy(r,a.type);r!==c&&(q(oe,a),q(J,c))}function Pe(a){oe.current===a&&(k(J),k(oe)),me.current===a&&(k(me),nh._currentValue=H)}var Xe,Qe;function ge(a){if(Xe===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);Xe=r&&r[1]||"",Qe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+a+Qe}var re=!1;function Pt(a,r){if(!a||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(He){var Oe=He}Reflect.construct(a,[],Ye)}else{try{Ye.call()}catch(He){Oe=He}a.call(Ye.prototype)}}else{try{throw Error()}catch(He){Oe=He}(Ye=a())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(He){if(He&&Oe&&typeof He.stack=="string")return[He.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),I=w[0],ne=w[1];if(I&&ne){var xe=I.split(`
`),Re=ne.split(`
`);for(v=h=0;h<xe.length&&!xe[h].includes("DetermineComponentFrameRoot");)h++;for(;v<Re.length&&!Re[v].includes("DetermineComponentFrameRoot");)v++;if(h===xe.length||v===Re.length)for(h=xe.length-1,v=Re.length-1;1<=h&&0<=v&&xe[h]!==Re[v];)v--;for(;1<=h&&0<=v;h--,v--)if(xe[h]!==Re[v]){if(h!==1||v!==1)do if(h--,v--,0>v||xe[h]!==Re[v]){var qe=`
`+xe[h].replace(" at new "," at ");return a.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",a.displayName)),qe}while(1<=h&&0<=v);break}}}finally{re=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ge(c):""}function Te(a,r){switch(a.tag){case 26:case 27:case 5:return ge(a.type);case 16:return ge("Lazy");case 13:return a.child!==r&&r!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return Pt(a.type,!1);case 11:return Pt(a.type.render,!1);case 1:return Pt(a.type,!0);case 31:return ge("Activity");default:return""}}function we(a){try{var r="",c=null;do r+=Te(a,c),c=a,a=a.return;while(a);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ke=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,le=e.unstable_shouldYield,et=e.unstable_requestPaint,ut=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,At=e.unstable_ImmediatePriority,mn=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,ht=e.unstable_LowPriority,Ct=e.unstable_IdlePriority,jt=e.log,wn=e.unstable_setDisableYieldValue,cn=null,lt=null;function kt(a){if(typeof jt=="function"&&wn(a),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(cn,a)}catch{}}var Zt=Math.clz32?Math.clz32:Ot,Rt=Math.log,en=Math.LN2;function Ot(a){return a>>>=0,a===0?32:31-(Rt(a)/en|0)|0}var Kn=256,ds=262144,Nn=4194304;function Mt(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ot(a,r,c){var h=a.pendingLanes;if(h===0)return 0;var v=0,w=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var ne=h&134217727;return ne!==0?(h=ne&~w,h!==0?v=Mt(h):(I&=ne,I!==0?v=Mt(I):c||(c=ne&~a,c!==0&&(v=Mt(c))))):(ne=h&~w,ne!==0?v=Mt(ne):I!==0?v=Mt(I):c||(c=h&~a,c!==0&&(v=Mt(c)))),v===0?0:r!==0&&r!==v&&(r&w)===0&&(w=v&-v,c=r&-r,w>=c||w===32&&(c&4194048)!==0)?r:v}function Pn(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function jn(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fs(){var a=Nn;return Nn<<=1,(Nn&62914560)===0&&(Nn=4194304),a}function aa(a){for(var r=[],c=0;31>c;c++)r.push(a);return r}function ct(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function bs(a,r,c,h,v,w){var I=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var ne=a.entanglements,xe=a.expirationTimes,Re=a.hiddenUpdates;for(c=I&~c;0<c;){var qe=31-Zt(c),Ye=1<<qe;ne[qe]=0,xe[qe]=-1;var Oe=Re[qe];if(Oe!==null)for(Re[qe]=null,qe=0;qe<Oe.length;qe++){var He=Oe[qe];He!==null&&(He.lane&=-536870913)}c&=~Ye}h!==0&&Ea(a,h,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(I&~r))}function Ea(a,r,c){a.pendingLanes|=r,a.suspendedLanes&=~r;var h=31-Zt(r);a.entangledLanes|=r,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function as(a,r){var c=a.entangledLanes|=r;for(a=a.entanglements;c;){var h=31-Zt(c),v=1<<h;v&r|a[h]&r&&(a[h]|=r),c&=~v}}function is(a,r){var c=r&-r;return c=(c&42)!==0?1:Gn(c),(c&(a.suspendedLanes|r))!==0?0:c}function Gn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function qn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Gs(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:m5(a.type))}function mo(a,r){var c=K.p;try{return K.p=a,r()}finally{K.p=c}}var _a=Math.random().toString(36).slice(2),Wn="__reactFiber$"+_a,hs="__reactProps$"+_a,va="__reactContainer$"+_a,ei="__reactEvents$"+_a,hi="__reactListeners$"+_a,Jo="__reactHandles$"+_a,Ri="__reactResources$"+_a,Oi="__reactMarker$"+_a;function po(a){delete a[Wn],delete a[hs],delete a[ei],delete a[hi],delete a[Jo]}function Pi(a){var r=a[Wn];if(r)return r;for(var c=a.parentNode;c;){if(r=c[va]||c[Wn]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(a=Qy(a);a!==null;){if(c=a[Wn])return c;a=Qy(a)}return r}a=c,c=a.parentNode}return null}function Ii(a){if(a=a[Wn]||a[va]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function el(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function nr(a){var r=a[Ri];return r||(r=a[Ri]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ms(a){a[Oi]=!0}var zc=new Set,ti={};function Bi(a,r){Tr(a,r),Tr(a+"Capture",r)}function Tr(a,r){for(ti[a]=r,a=0;a<r.length;a++)zc.add(r[a])}var Uc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},Vc={};function Xu(a){return ke.call(Vc,a)?!0:ke.call(qc,a)?!1:Uc.test(a)?Vc[a]=!0:(qc[a]=!0,!1)}function Mr(a,r,c){if(Xu(r))if(c===null)a.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+c)}}function ql(a,r,c){if(c===null)a.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+c)}}function Vn(a,r,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(r,c,""+h)}}function ka(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Gc(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Er(a,r,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return v.call(this)},set:function(I){c=""+I,w.call(this,I)}}),Object.defineProperty(a,r,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function _r(a){if(!a._valueTracker){var r=Gc(a)?"checked":"value";a._valueTracker=Er(a,r,""+a[r])}}function mi(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var c=r.getValue(),h="";return a&&(h=Gc(a)?a.checked?"true":"false":a.value),a=h,a!==c?(r.setValue(a),!0):!1}function sr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Es=/[\n"\\]/g;function ya(a){return a.replace(Es,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wc(a,r,c,h,v,w,I,ne){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),r!=null?I==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+ka(r)):a.value!==""+ka(r)&&(a.value=""+ka(r)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),r!=null?Xc(a,I,ka(r)):c!=null?Xc(a,I,ka(c)):h!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?a.name=""+ka(ne):a.removeAttribute("name")}function Zu(a,r,c,h,v,w,I,ne){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),r!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||r!=null)){_r(a);return}c=c!=null?""+ka(c):"",r=r!=null?""+ka(r):c,ne||r===a.value||(a.value=r),a.defaultValue=r}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=ne?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),_r(a)}function Xc(a,r,c){r==="number"&&sr(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function La(a,r,c,h){if(a=a.options,r){r={};for(var v=0;v<c.length;v++)r["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=r.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&h&&(a[c].defaultSelected=!0)}else{for(c=""+ka(c),r=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}r!==null||a[v].disabled||(r=a[v])}r!==null&&(r.selected=!0)}}function Zc(a,r,c){if(r!=null&&(r=""+ka(r),r!==a.value&&(a.value=r),c==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=c!=null?""+ka(c):""}function $c(a,r,c,h){if(r==null){if(h!=null){if(c!=null)throw Error(i(92));if(te(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),r=c}c=ka(r),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),_r(a)}function ni(a,r){if(r){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=r;return}}a.textContent=r}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(a,r,c){var h=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":h?a.setProperty(r,c):typeof c!="number"||c===0||Yc.has(r)?r==="float"?a.cssFloat=c:a[r]=(""+c).trim():a[r]=c+"px"}function Yu(a,r,c){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in r)h=r[v],r.hasOwnProperty(v)&&c[v]!==h&&$u(a,v,h)}else for(var w in r)r.hasOwnProperty(w)&&$u(a,w,r[w])}function Kc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(a){return tl.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Fi(){}var kr=null;function nl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var It=null,go=null;function Ku(a){var r=Ii(a);if(r&&(a=r.stateNode)){var c=a[hs]||null;e:switch(a=r.stateNode,r.type){case"input":if(Wc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ya(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var h=c[r];if(h!==a&&h.form===a.form){var v=h[hs]||null;if(!v)throw Error(i(90));Wc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<c.length;r++)h=c[r],h.form===a.form&&mi(h)}break e;case"textarea":Zc(a,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&La(a,!!c.multiple,r,!1)}}}var Jc=!1;function Qu(a,r,c){if(Jc)return a(r,c);Jc=!0;try{var h=a(r);return h}finally{if(Jc=!1,(It!==null||go!==null)&&(pm(),It&&(r=It,a=go,go=It=null,Ku(r),a)))for(r=0;r<a.length;r++)Ku(a[r])}}function si(a,r){var c=a.stateNode;if(c===null)return null;var h=c[hs]||null;if(h===null)return null;c=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(i(231,r,typeof c));return c}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=!1;if(ia)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){eu=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{eu=!1}var ai=null,al=null,ar=null;function il(){if(ar)return ar;var a,r=al,c=r.length,h,v="value"in ai?ai.value:ai.textContent,w=v.length;for(a=0;a<c&&r[a]===v[a];a++);var I=c-a;for(h=1;h<=I&&r[c-h]===v[w-h];h++);return ar=v.slice(a,1<h?1-h:void 0)}function Lr(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function Vl(){return!0}function Gl(){return!1}function Js(a){function r(c,h,v,w,I){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var ne in a)a.hasOwnProperty(ne)&&(c=a[ne],this[ne]=c?c(w):w[ne]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Vl:Gl,this.isPropagationStopped=Gl,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),r}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Js(ii),Dr=x({},ii,{view:0,detail:0}),Wl=Js(Dr),rl,Rr,xo,ol=x({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xo&&(xo&&a.type==="mousemove"?(rl=a.screenX-xo.screenX,Rr=a.screenY-xo.screenY):Rr=rl=0,xo=a),rl)},movementY:function(a){return"movementY"in a?a.movementY:Rr}}),rr=Js(ol),Or=x({},ol,{dataTransfer:0}),Ju=Js(Or),ed=x({},Dr,{relatedTarget:0}),Pr=Js(ed),td=x({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Js(td),X=x({},ii,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),pe=Js(X),ye=x({},ii,{data:0}),Ae=Js(ye),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=pt[a])?!!r[a]:!1}function zt(){return wt}var Xt=x({},Dr,{key:function(a){if(a.key){var r=Ge[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=Lr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Je[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zt,charCode:function(a){return a.type==="keypress"?Lr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Lr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),En=Js(Xt),ms=x({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=Js(ms),Qn=x({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zt}),Ws=Js(Qn),Ps=x({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),ra=Js(Ps),pi=x({},ol,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Js(pi),nd=x({},ii,{newState:0,oldState:0}),Xl=Js(nd),ll=[9,13,27,32],or=ia&&"CompositionEvent"in window,zi=null;ia&&"documentMode"in document&&(zi=document.documentMode);var cl=ia&&"TextEvent"in window&&!zi,vo=ia&&(!or||zi&&8<zi&&11>=zi),oa=" ",yo=!1;function bo(a,r){switch(a){case"keyup":return ll.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lr=!1;function ws(a,r){switch(a){case"compositionend":return Zl(r);case"keypress":return r.which!==32?null:(yo=!0,oa);case"textInput":return a=r.data,a===oa&&yo?null:a;default:return null}}function Ir(a,r){if(lr)return a==="compositionend"||!or&&bo(a,r)?(a=il(),ar=al=ai=null,lr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vo&&r.locale!=="ko"?null:r.data;default:return null}}var $l={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!$l[a.type]:r==="textarea"}function ri(a,r,c,h){It?go?go.push(h):go=[h]:It=h,r=Nm(r,"onChange"),0<r.length&&(c=new ir("onChange","change",null,c,h),a.push({event:c,listeners:r}))}var Ui=null,Br=null;function nu(a){By(a,0)}function qi(a){var r=el(a);if(mi(r))return a}function wo(a,r){if(a==="change")return r}var qa=!1;if(ia){var Da;if(ia){var cr="oninput"in document;if(!cr){var ur=document.createElement("div");ur.setAttribute("oninput","return;"),cr=typeof ur.oninput=="function"}Da=cr}else Da=!1;qa=Da&&(!document.documentMode||9<document.documentMode)}function Hr(){Ui&&(Ui.detachEvent("onpropertychange",Yl),Br=Ui=null)}function Yl(a){if(a.propertyName==="value"&&qi(Br)){var r=[];ri(r,Br,a,nl(a)),Qu(nu,r)}}function Kl(a,r,c){a==="focusin"?(Hr(),Ui=r,Br=c,Ui.attachEvent("onpropertychange",Yl)):a==="focusout"&&Hr()}function ks(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qi(Br)}function sd(a,r){if(a==="click")return qi(r)}function dr(a,r){if(a==="input"||a==="change")return qi(r)}function fr(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var la=typeof Object.is=="function"?Object.is:fr;function Fr(a,r){if(la(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var c=Object.keys(a),h=Object.keys(r);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!ke.call(r,v)||!la(a[v],r[v]))return!1}return!0}function Ql(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Jl(a,r){var c=Ql(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=r&&h>=r)return{node:c,offset:r-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ql(c)}}function zr(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?zr(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function Ur(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=sr(a.document);r instanceof a.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)a=r.contentWindow;else break;r=sr(a.document)}return r}function hr(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var ul=ia&&"documentMode"in document&&11>=document.documentMode,oi=null,qr=null,ba=null,gi=!1;function _n(a,r,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;gi||oi==null||oi!==sr(h)||(h=oi,"selectionStart"in h&&hr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ba&&Fr(ba,h)||(ba=h,h=Nm(qr,"onSelect"),0<h.length&&(r=new ir("onSelect","select",null,r,c),a.push({event:r,listeners:h}),r.target=oi)))}function Sn(a,r){var c={};return c[a.toLowerCase()]=r.toLowerCase(),c["Webkit"+a]="webkit"+r,c["Moz"+a]="moz"+r,c}var Jn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ls={},mr={};ia&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Vi(a){if(Ls[a])return Ls[a];if(!Jn[a])return a;var r=Jn[a],c;for(c in r)if(r.hasOwnProperty(c)&&c in mr)return Ls[a]=r[c];return a}var dl=Vi("animationend"),su=Vi("animationiteration"),Af=Vi("animationstart"),Gh=Vi("transitionrun"),Wh=Vi("transitionstart"),Xh=Vi("transitioncancel"),Cf=Vi("transitionend"),Tf=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function xi(a,r){Tf.set(a,r),Bi(r,[a])}var au=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},li=[],hl=0,ad=0;function iu(){for(var a=hl,r=ad=hl=0;r<a;){var c=li[r];li[r++]=null;var h=li[r];li[r++]=null;var v=li[r];li[r++]=null;var w=li[r];if(li[r++]=null,h!==null&&v!==null){var I=h.pending;I===null?v.next=v:(v.next=I.next,I.next=v),h.pending=v}w!==0&&ou(c,v,w)}}function ru(a,r,c,h){li[hl++]=a,li[hl++]=r,li[hl++]=c,li[hl++]=h,ad|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function id(a,r,c,h){return ru(a,r,c,h),wa(a)}function Vr(a,r){return ru(a,null,null,r),wa(a)}function ou(a,r,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var v=!1,w=a.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&r!==null&&(v=31-Zt(c),a=w.hiddenUpdates,h=a[v],h===null?a[v]=[r]:h.push(r),r.lane=c|536870912),w):null}function wa(a){if(50<$f)throw $f=0,eg=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var ca={};function rd(a,r,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(a,r,c,h){return new rd(a,r,c,h)}function od(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vi(a,r){var c=a.alternate;return c===null?(c=Na(a.tag,r,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=r,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,r=a.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function lu(a,r){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,r=c.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function ec(a,r,c,h,v,w){var I=0;if(h=a,typeof a=="function")od(a)&&(I=1);else if(typeof a=="string")I=aT(a,c,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Y:return a=Na(31,c,r,v),a.elementType=Y,a.lanes=w,a;case M:return No(c.children,v,w,r);case S:I=8,v|=24;break;case j:return a=Na(12,c,r,v|2),a.elementType=j,a.lanes=w,a;case U:return a=Na(13,c,r,v),a.elementType=U,a.lanes=w,a;case G:return a=Na(19,c,r,v),a.elementType=G,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:I=10;break e;case L:I=9;break e;case D:I=11;break e;case $:I=14;break e;case B:I=16,h=null;break e}I=29,c=Error(i(130,a===null?"null":typeof a,"")),h=null}return r=Na(I,c,r,v),r.elementType=a,r.type=h,r.lanes=w,r}function No(a,r,c,h){return a=Na(7,a,h,r),a.lanes=c,a}function cu(a,r,c){return a=Na(6,a,null,r),a.lanes=c,a}function ld(a){var r=Na(18,null,null,0);return r.stateNode=a,r}function tc(a,r,c){return r=Na(4,a.children!==null?a.children:[],a.key,r),r.lanes=c,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var cd=new WeakMap;function yi(a,r){if(typeof a=="object"&&a!==null){var c=cd.get(a);return c!==void 0?c:(r={value:a,source:r,stack:we(r)},cd.set(a,r),r)}return{value:a,source:r,stack:we(r)}}var nc=[],ml=0,ud=null,uu=0,bi=[],wi=0,jo=null,Ni=1,ji="";function ci(a,r){nc[ml++]=uu,nc[ml++]=ud,ud=a,uu=r}function Zh(a,r,c){bi[wi++]=Ni,bi[wi++]=ji,bi[wi++]=jo,jo=a;var h=Ni;a=ji;var v=32-Zt(h)-1;h&=~(1<<v),c+=1;var w=32-Zt(r)+v;if(30<w){var I=v-v%5;w=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Ni=1<<32-Zt(r)+v|c<<v|h,ji=w+a}else Ni=1<<w|c<<v|h,ji=a}function Mf(a){a.return!==null&&(ci(a,1),Zh(a,1,0))}function dd(a){for(;a===ud;)ud=nc[--ml],nc[ml]=null,uu=nc[--ml],nc[ml]=null;for(;a===jo;)jo=bi[--wi],bi[wi]=null,ji=bi[--wi],bi[wi]=null,Ni=bi[--wi],bi[wi]=null}function $h(a,r){bi[wi++]=Ni,bi[wi++]=ji,bi[wi++]=jo,Ni=r.id,ji=r.overflow,jo=a}var ua=null,rs=null,pn=!1,Ra=null,Ns=!1,Gi=Error(i(519));function So(a){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sc(yi(r,a)),Gi}function Ef(a){var r=a.stateNode,c=a.type,h=a.memoizedProps;switch(r[Wn]=a,r[hs]=h,c){case"dialog":xn("cancel",r),xn("close",r);break;case"iframe":case"object":case"embed":xn("load",r);break;case"video":case"audio":for(c=0;c<Kf.length;c++)xn(Kf[c],r);break;case"source":xn("error",r);break;case"img":case"image":case"link":xn("error",r),xn("load",r);break;case"details":xn("toggle",r);break;case"input":xn("invalid",r),Zu(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":xn("invalid",r);break;case"textarea":xn("invalid",r),$c(r,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||h.suppressHydrationWarning===!0||Uy(r.textContent,c)?(h.popover!=null&&(xn("beforetoggle",r),xn("toggle",r)),h.onScroll!=null&&xn("scroll",r),h.onScrollEnd!=null&&xn("scrollend",r),h.onClick!=null&&(r.onclick=Fi),r=!0):r=!1,r||So(a,!0)}function Gr(a){for(ua=a.return;ua;)switch(ua.tag){case 5:case 31:case 13:Ns=!1;return;case 27:case 3:Ns=!0;return;default:ua=ua.return}}function da(a){if(a!==ua)return!1;if(!pn)return Gr(a),pn=!0,!1;var r=a.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||pg(a.type,a.memoizedProps)),c=!c),c&&rs&&So(a),Gr(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));rs=Ky(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));rs=Ky(a)}else r===27?(r=rs,xc(a.type)?(a=bg,bg=null,rs=a):rs=r):rs=ua?vr(a.stateNode.nextSibling):null;return!0}function pl(){rs=ua=null,pn=!1}function _f(){var a=Ra;return a!==null&&(Ei===null?Ei=a:Ei.push.apply(Ei,a),Ra=null),a}function sc(a){Ra===null?Ra=[a]:Ra.push(a)}var fd=_(null),Ao=null,pr=null;function Co(a,r,c){q(fd,r._currentValue),r._currentValue=c}function Si(a){a._currentValue=fd.current,k(fd)}function ac(a,r,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),a===c)break;a=a.return}}function gl(a,r,c,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var I=v.child;w=w.firstContext;e:for(;w!==null;){var ne=w;w=v;for(var xe=0;xe<r.length;xe++)if(ne.context===r[xe]){w.lanes|=c,ne=w.alternate,ne!==null&&(ne.lanes|=c),ac(w.return,c,a),h||(I=null);break e}w=ne.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(i(341));I.lanes|=c,w=I.alternate,w!==null&&(w.lanes|=c),ac(I,c,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function To(a,r,c,h){a=null;for(var v=r,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var ne=v.type;la(v.pendingProps.value,I.value)||(a!==null?a.push(ne):a=[ne])}}else if(v===me.current){if(I=v.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(nh):a=[nh])}v=v.return}a!==null&&gl(r,a,c,h),r.flags|=262144}function hd(a){for(a=a.firstContext;a!==null;){if(!la(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Mo(a){Ao=a,pr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function fa(a){return Yh(Ao,a)}function md(a,r){return Ao===null&&Mo(a),Yh(a,r)}function Yh(a,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},pr===null){if(a===null)throw Error(i(308));pr=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else pr=pr.next=r;return c}var y0=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){r.aborted=!0,a.forEach(function(c){return c()})}},b0=e.unstable_scheduleCallback,w0=e.unstable_NormalPriority,Ds={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new y0,data:new Map,refCount:0}}function du(a){a.refCount--,a.refCount===0&&b0(w0,function(){a.controller.abort()})}var fu=null,pd=0,g=0,b=null;function E(a,r){if(fu===null){var c=fu=[];pd=0,g=rg(),b={status:"pending",value:void 0,then:function(h){c.push(h)}}}return pd++,r.then(O,O),r}function O(){if(--pd===0&&fu!==null){b!==null&&(b.status="fulfilled");var a=fu;fu=null,g=0,b=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function Z(a,r){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){h.status="fulfilled",h.value=r;for(var v=0;v<c.length;v++)(0,c[v])(r)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var Q=z.S;z.S=function(a,r){fy=ut(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&E(a,r),Q!==null&&Q(a,r)};var ee=_(null);function se(){var a=ee.current;return a!==null?a:ls.pooledCache}function ie(a,r){r===null?q(ee,ee.current):q(ee,r.pool)}function he(){var a=se();return a===null?null:{parent:Ds._currentValue,pool:a}}var Ne=Error(i(460)),Le=Error(i(474)),de=Error(i(542)),Se={then:function(){}};function Ee(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ze(a,r,c){switch(c=a[c],c===void 0?a.push(r):c!==r&&(r.then(Fi,Fi),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,at(a),a;default:if(typeof r.status=="string")r.then(Fi,Fi);else{if(a=ls,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(h){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=h}},function(h){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,at(a),a}throw Fe=r,Ne}}function _e(a){try{var r=a._init;return r(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Fe=c,Ne):c}}var Fe=null;function We(){if(Fe===null)throw Error(i(459));var a=Fe;return Fe=null,a}function at(a){if(a===Ne||a===de)throw Error(i(483))}var Ke=null,xt=0;function dt(a){var r=xt;return xt+=1,Ke===null&&(Ke=[]),ze(Ke,a,r)}function Gt(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function mt(a,r){throw r.$$typeof===N?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function dn(a){function r(Ce,je){if(a){var De=Ce.deletions;De===null?(Ce.deletions=[je],Ce.flags|=16):De.push(je)}}function c(Ce,je){if(!a)return null;for(;je!==null;)r(Ce,je),je=je.sibling;return null}function h(Ce){for(var je=new Map;Ce!==null;)Ce.key!==null?je.set(Ce.key,Ce):je.set(Ce.index,Ce),Ce=Ce.sibling;return je}function v(Ce,je){return Ce=vi(Ce,je),Ce.index=0,Ce.sibling=null,Ce}function w(Ce,je,De){return Ce.index=De,a?(De=Ce.alternate,De!==null?(De=De.index,De<je?(Ce.flags|=67108866,je):De):(Ce.flags|=67108866,je)):(Ce.flags|=1048576,je)}function I(Ce){return a&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ne(Ce,je,De,Ze){return je===null||je.tag!==6?(je=cu(De,Ce.mode,Ze),je.return=Ce,je):(je=v(je,De),je.return=Ce,je)}function xe(Ce,je,De,Ze){var Dt=De.type;return Dt===M?qe(Ce,je,De.props.children,Ze,De.key):je!==null&&(je.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===B&&_e(Dt)===je.type)?(je=v(je,De.props),Gt(je,De),je.return=Ce,je):(je=ec(De.type,De.key,De.props,null,Ce.mode,Ze),Gt(je,De),je.return=Ce,je)}function Re(Ce,je,De,Ze){return je===null||je.tag!==4||je.stateNode.containerInfo!==De.containerInfo||je.stateNode.implementation!==De.implementation?(je=tc(De,Ce.mode,Ze),je.return=Ce,je):(je=v(je,De.children||[]),je.return=Ce,je)}function qe(Ce,je,De,Ze,Dt){return je===null||je.tag!==7?(je=No(De,Ce.mode,Ze,Dt),je.return=Ce,je):(je=v(je,De),je.return=Ce,je)}function Ye(Ce,je,De){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=cu(""+je,Ce.mode,De),je.return=Ce,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return De=ec(je.type,je.key,je.props,null,Ce.mode,De),Gt(De,je),De.return=Ce,De;case C:return je=tc(je,Ce.mode,De),je.return=Ce,je;case B:return je=_e(je),Ye(Ce,je,De)}if(te(je)||P(je))return je=No(je,Ce.mode,De,null),je.return=Ce,je;if(typeof je.then=="function")return Ye(Ce,dt(je),De);if(je.$$typeof===R)return Ye(Ce,md(Ce,je),De);mt(Ce,je)}return null}function Oe(Ce,je,De,Ze){var Dt=je!==null?je.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Dt!==null?null:ne(Ce,je,""+De,Ze);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return De.key===Dt?xe(Ce,je,De,Ze):null;case C:return De.key===Dt?Re(Ce,je,De,Ze):null;case B:return De=_e(De),Oe(Ce,je,De,Ze)}if(te(De)||P(De))return Dt!==null?null:qe(Ce,je,De,Ze,null);if(typeof De.then=="function")return Oe(Ce,je,dt(De),Ze);if(De.$$typeof===R)return Oe(Ce,je,md(Ce,De),Ze);mt(Ce,De)}return null}function He(Ce,je,De,Ze,Dt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ce=Ce.get(De)||null,ne(je,Ce,""+Ze,Dt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case y:return Ce=Ce.get(Ze.key===null?De:Ze.key)||null,xe(je,Ce,Ze,Dt);case C:return Ce=Ce.get(Ze.key===null?De:Ze.key)||null,Re(je,Ce,Ze,Dt);case B:return Ze=_e(Ze),He(Ce,je,De,Ze,Dt)}if(te(Ze)||P(Ze))return Ce=Ce.get(De)||null,qe(je,Ce,Ze,Dt,null);if(typeof Ze.then=="function")return He(Ce,je,De,dt(Ze),Dt);if(Ze.$$typeof===R)return He(Ce,je,De,md(je,Ze),Dt);mt(je,Ze)}return null}function gt(Ce,je,De,Ze){for(var Dt=null,In=null,Nt=je,tn=je=0,bn=null;Nt!==null&&tn<De.length;tn++){Nt.index>tn?(bn=Nt,Nt=null):bn=Nt.sibling;var Bn=Oe(Ce,Nt,De[tn],Ze);if(Bn===null){Nt===null&&(Nt=bn);break}a&&Nt&&Bn.alternate===null&&r(Ce,Nt),je=w(Bn,je,tn),In===null?Dt=Bn:In.sibling=Bn,In=Bn,Nt=bn}if(tn===De.length)return c(Ce,Nt),pn&&ci(Ce,tn),Dt;if(Nt===null){for(;tn<De.length;tn++)Nt=Ye(Ce,De[tn],Ze),Nt!==null&&(je=w(Nt,je,tn),In===null?Dt=Nt:In.sibling=Nt,In=Nt);return pn&&ci(Ce,tn),Dt}for(Nt=h(Nt);tn<De.length;tn++)bn=He(Nt,Ce,tn,De[tn],Ze),bn!==null&&(a&&bn.alternate!==null&&Nt.delete(bn.key===null?tn:bn.key),je=w(bn,je,tn),In===null?Dt=bn:In.sibling=bn,In=bn);return a&&Nt.forEach(function(Nc){return r(Ce,Nc)}),pn&&ci(Ce,tn),Dt}function Ft(Ce,je,De,Ze){if(De==null)throw Error(i(151));for(var Dt=null,In=null,Nt=je,tn=je=0,bn=null,Bn=De.next();Nt!==null&&!Bn.done;tn++,Bn=De.next()){Nt.index>tn?(bn=Nt,Nt=null):bn=Nt.sibling;var Nc=Oe(Ce,Nt,Bn.value,Ze);if(Nc===null){Nt===null&&(Nt=bn);break}a&&Nt&&Nc.alternate===null&&r(Ce,Nt),je=w(Nc,je,tn),In===null?Dt=Nc:In.sibling=Nc,In=Nc,Nt=bn}if(Bn.done)return c(Ce,Nt),pn&&ci(Ce,tn),Dt;if(Nt===null){for(;!Bn.done;tn++,Bn=De.next())Bn=Ye(Ce,Bn.value,Ze),Bn!==null&&(je=w(Bn,je,tn),In===null?Dt=Bn:In.sibling=Bn,In=Bn);return pn&&ci(Ce,tn),Dt}for(Nt=h(Nt);!Bn.done;tn++,Bn=De.next())Bn=He(Nt,Ce,tn,Bn.value,Ze),Bn!==null&&(a&&Bn.alternate!==null&&Nt.delete(Bn.key===null?tn:Bn.key),je=w(Bn,je,tn),In===null?Dt=Bn:In.sibling=Bn,In=Bn);return a&&Nt.forEach(function(pT){return r(Ce,pT)}),pn&&ci(Ce,tn),Dt}function ss(Ce,je,De,Ze){if(typeof De=="object"&&De!==null&&De.type===M&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case y:e:{for(var Dt=De.key;je!==null;){if(je.key===Dt){if(Dt=De.type,Dt===M){if(je.tag===7){c(Ce,je.sibling),Ze=v(je,De.props.children),Ze.return=Ce,Ce=Ze;break e}}else if(je.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===B&&_e(Dt)===je.type){c(Ce,je.sibling),Ze=v(je,De.props),Gt(Ze,De),Ze.return=Ce,Ce=Ze;break e}c(Ce,je);break}else r(Ce,je);je=je.sibling}De.type===M?(Ze=No(De.props.children,Ce.mode,Ze,De.key),Ze.return=Ce,Ce=Ze):(Ze=ec(De.type,De.key,De.props,null,Ce.mode,Ze),Gt(Ze,De),Ze.return=Ce,Ce=Ze)}return I(Ce);case C:e:{for(Dt=De.key;je!==null;){if(je.key===Dt)if(je.tag===4&&je.stateNode.containerInfo===De.containerInfo&&je.stateNode.implementation===De.implementation){c(Ce,je.sibling),Ze=v(je,De.children||[]),Ze.return=Ce,Ce=Ze;break e}else{c(Ce,je);break}else r(Ce,je);je=je.sibling}Ze=tc(De,Ce.mode,Ze),Ze.return=Ce,Ce=Ze}return I(Ce);case B:return De=_e(De),ss(Ce,je,De,Ze)}if(te(De))return gt(Ce,je,De,Ze);if(P(De)){if(Dt=P(De),typeof Dt!="function")throw Error(i(150));return De=Dt.call(De),Ft(Ce,je,De,Ze)}if(typeof De.then=="function")return ss(Ce,je,dt(De),Ze);if(De.$$typeof===R)return ss(Ce,je,md(Ce,De),Ze);mt(Ce,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,je!==null&&je.tag===6?(c(Ce,je.sibling),Ze=v(je,De),Ze.return=Ce,Ce=Ze):(c(Ce,je),Ze=cu(De,Ce.mode,Ze),Ze.return=Ce,Ce=Ze),I(Ce)):c(Ce,je)}return function(Ce,je,De,Ze){try{xt=0;var Dt=ss(Ce,je,De,Ze);return Ke=null,Dt}catch(Nt){if(Nt===Ne||Nt===de)throw Nt;var In=Na(29,Nt,null,Ce.mode);return In.lanes=Ze,In.return=Ce,In}finally{}}}var os=dn(!0),$t=dn(!1),ft=!1;function rt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ps(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Bt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Jt(a,r,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Un&2)!==0){var v=h.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),h.pending=r,r=wa(a),ou(a,null,c),r}return ru(a,h,r,c),wa(a)}function Fn(a,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var h=r.lanes;h&=a.pendingLanes,c|=h,r.lanes=c,as(a,c)}}function Xs(a,r){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=I:w=w.next=I,c=c.next}while(c!==null);w===null?v=w=r:w=w.next=r}else v=w=r;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=r:a.next=r,c.lastBaseUpdate=r}var ha=!1;function es(){if(ha){var a=b;if(a!==null)throw a}}function Is(a,r,c,h){ha=!1;var v=a.updateQueue;ft=!1;var w=v.firstBaseUpdate,I=v.lastBaseUpdate,ne=v.shared.pending;if(ne!==null){v.shared.pending=null;var xe=ne,Re=xe.next;xe.next=null,I===null?w=Re:I.next=Re,I=xe;var qe=a.alternate;qe!==null&&(qe=qe.updateQueue,ne=qe.lastBaseUpdate,ne!==I&&(ne===null?qe.firstBaseUpdate=Re:ne.next=Re,qe.lastBaseUpdate=xe))}if(w!==null){var Ye=v.baseState;I=0,qe=Re=xe=null,ne=w;do{var Oe=ne.lane&-536870913,He=Oe!==ne.lane;if(He?(yn&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===g&&(ha=!0),qe!==null&&(qe=qe.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var gt=a,Ft=ne;Oe=r;var ss=c;switch(Ft.tag){case 1:if(gt=Ft.payload,typeof gt=="function"){Ye=gt.call(ss,Ye,Oe);break e}Ye=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Ft.payload,Oe=typeof gt=="function"?gt.call(ss,Ye,Oe):gt,Oe==null)break e;Ye=x({},Ye,Oe);break e;case 2:ft=!0}}Oe=ne.callback,Oe!==null&&(a.flags|=64,He&&(a.flags|=8192),He=v.callbacks,He===null?v.callbacks=[Oe]:He.push(Oe))}else He={lane:Oe,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},qe===null?(Re=qe=He,xe=Ye):qe=qe.next=He,I|=Oe;if(ne=ne.next,ne===null){if(ne=v.shared.pending,ne===null)break;He=ne,ne=He.next,He.next=null,v.lastBaseUpdate=He,v.shared.pending=null}}while(!0);qe===null&&(xe=Ye),v.baseState=xe,v.firstBaseUpdate=Re,v.lastBaseUpdate=qe,w===null&&(v.shared.lanes=0),fc|=I,a.lanes=I,a.memoizedState=Ye}}function ja(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function Bs(a,r){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)ja(c[a],r)}var nn=_(null),Cn=_(0);function gs(a,r){a=Cl,q(Cn,a),q(nn,r),Cl=a|r.baseLanes}function kn(){q(Cn,Cl),q(nn,nn.current)}function Zs(){Cl=Cn.current,k(nn),k(Cn)}var xs=_(null),Tn=null;function Rs(a){var r=a.alternate;q(An,An.current&1),q(xs,a),Tn===null&&(r===null||nn.current!==null||r.memoizedState!==null)&&(Tn=a)}function zn(a){q(An,An.current),q(xs,a),Tn===null&&(Tn=a)}function Hs(a){a.tag===22?(q(An,An.current),q(xs,a),Tn===null&&(Tn=a)):Fs()}function Fs(){q(An,An.current),q(xs,xs.current)}function Xn(a){k(xs),Tn===a&&(Tn=null),k(An)}var An=_(0);function Sa(a){for(var r=a;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||vg(c)||yg(c)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var js=0,Et=null,Lt=null,Mn=null,Va=!1,Ai=!1,Oa=!1,zs=0,Eo=0,_o=null,gd=0;function ts(){throw Error(i(321))}function kf(a,r){if(r===null)return!1;for(var c=0;c<r.length&&c<a.length;c++)if(!la(a[c],r[c]))return!1;return!0}function Lf(a,r,c,h,v,w){return js=w,Et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=a===null||a.memoizedState===null?jv:E0,Oa=!1,w=c(h,v),Oa=!1,Ai&&(w=Wr(r,c,h,v)),xd(a),w}function xd(a){z.H=Ff;var r=Lt!==null&&Lt.next!==null;if(js=0,Mn=Lt=Et=null,Va=!1,Eo=0,_o=null,r)throw Error(i(300));a===null||ta||(a=a.dependencies,a!==null&&hd(a)&&(ta=!0))}function Wr(a,r,c,h){Et=a;var v=0;do{if(Ai&&(_o=null),Eo=0,Ai=!1,25<=v)throw Error(i(301));if(v+=1,Mn=Lt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}z.H=Sv,w=r(c,h)}while(Ai);return w}function N0(){var a=z.H,r=a.useState()[0];return r=typeof r.then=="function"?ko(r):r,a=a.useState()[0],(Lt!==null?Lt.memoizedState:null)!==a&&(Et.flags|=1024),r}function Df(){var a=zs!==0;return zs=0,a}function Rf(a,r,c){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~c}function vd(a){if(Va){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}Va=!1}js=0,Mn=Lt=Et=null,Ai=!1,Eo=zs=0,_o=null}function ea(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Et.memoizedState=Mn=a:Mn=Mn.next=a,Mn}function Ss(){if(Lt===null){var a=Et.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var r=Mn===null?Et.memoizedState:Mn.next;if(r!==null)Mn=r,Lt=a;else{if(a===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Mn===null?Et.memoizedState=Mn=a:Mn=Mn.next=a}return Mn}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(a){var r=Eo;return Eo+=1,_o===null&&(_o=[]),a=ze(_o,a,r),r=Et,(Mn===null?r.memoizedState:Mn.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?jv:E0),a}function rc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ko(a);if(a.$$typeof===R)return fa(a)}throw Error(i(438,String(a)))}function xl(a){var r=null,c=Et.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var h=Et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=hu(),Et.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(a),h=0;h<a;h++)c[h]=fe;return r.index++,c}function gr(a,r){return typeof r=="function"?r(a):r}function yd(a){var r=Ss();return oc(r,Lt,a)}function oc(a,r,c){var h=a.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var v=a.baseQueue,w=h.pending;if(w!==null){if(v!==null){var I=v.next;v.next=w.next,w.next=I}r.baseQueue=v=w,h.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{r=v.next;var ne=I=null,xe=null,Re=r,qe=!1;do{var Ye=Re.lane&-536870913;if(Ye!==Re.lane?(yn&Ye)===Ye:(js&Ye)===Ye){var Oe=Re.revertLane;if(Oe===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ye===g&&(qe=!0);else if((js&Oe)===Oe){Re=Re.next,Oe===g&&(qe=!0);continue}else Ye={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},xe===null?(ne=xe=Ye,I=w):xe=xe.next=Ye,Et.lanes|=Oe,fc|=Oe;Ye=Re.action,Oa&&c(w,Ye),w=Re.hasEagerState?Re.eagerState:c(w,Ye)}else Oe={lane:Ye,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},xe===null?(ne=xe=Oe,I=w):xe=xe.next=Oe,Et.lanes|=Ye,fc|=Ye;Re=Re.next}while(Re!==null&&Re!==r);if(xe===null?I=w:xe.next=ne,!la(w,a.memoizedState)&&(ta=!0,qe&&(c=b,c!==null)))throw c;a.memoizedState=w,a.baseState=I,a.baseQueue=xe,h.lastRenderedState=w}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function bd(a){var r=Ss(),c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var h=c.dispatch,v=c.pending,w=r.memoizedState;if(v!==null){c.pending=null;var I=v=v.next;do w=a(w,I.action),I=I.next;while(I!==v);la(w,r.memoizedState)||(ta=!0),r.memoizedState=w,r.baseQueue===null&&(r.baseState=w),c.lastRenderedState=w}return[w,h]}function wd(a,r,c){var h=Et,v=Ss(),w=pn;if(w){if(c===void 0)throw Error(i(407));c=c()}else c=r();var I=!la((Lt||v).memoizedState,c);if(I&&(v.memoizedState=c,ta=!0),v=v.queue,j0(Pf.bind(null,h,v,a),[a]),v.getSnapshot!==r||I||Mn!==null&&Mn.memoizedState.tag&1){if(h.flags|=2048,yl(9,{destroy:void 0},Of.bind(null,h,v,c,r),null),ls===null)throw Error(i(349));w||(js&127)!==0||Xr(h,r,c)}return c}function Xr(a,r,c){a.flags|=16384,a={getSnapshot:r,value:c},r=Et.updateQueue,r===null?(r=hu(),Et.updateQueue=r,r.stores=[a]):(c=r.stores,c===null?r.stores=[a]:c.push(a))}function Of(a,r,c,h){r.value=c,r.getSnapshot=h,Kh(r)&&If(a)}function Pf(a,r,c){return c(function(){Kh(r)&&If(a)})}function Kh(a){var r=a.getSnapshot;a=a.value;try{var c=r();return!la(a,c)}catch{return!0}}function If(a){var r=Vr(a,2);r!==null&&_i(r,a,2)}function Lo(a){var r=ea();if(typeof a=="function"){var c=a;if(a=c(),Oa){kt(!0);try{c()}finally{kt(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},r}function Qh(a,r,c,h){return a.baseState=c,oc(a,Lt,typeof h=="function"?h:gr)}function Jh(a,r,c,h,v){if(sm(a))throw Error(i(485));if(a=r.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};z.T!==null?c(!0):w.isTransition=!1,h(w),c=r.pending,c===null?(w.next=r.pending=w,em(r,w)):(w.next=c.next,r.pending=c.next=w)}}function em(a,r){var c=r.action,h=r.payload,v=a.state;if(r.isTransition){var w=z.T,I={};z.T=I;try{var ne=c(v,h),xe=z.S;xe!==null&&xe(I,ne),Bf(a,r,ne)}catch(Re){vl(a,r,Re)}finally{w!==null&&I.types!==null&&(w.types=I.types),z.T=w}}else try{w=c(v,h),Bf(a,r,w)}catch(Re){vl(a,r,Re)}}function Bf(a,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){tm(a,r,h)},function(h){return vl(a,r,h)}):tm(a,r,c)}function tm(a,r,c){r.status="fulfilled",r.value=c,Nd(r),a.state=c,r=a.pending,r!==null&&(c=r.next,c===r?a.pending=null:(c=c.next,r.next=c,em(a,c)))}function vl(a,r,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=c,Nd(r),r=r.next;while(r!==h)}a.action=null}function Nd(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function mu(a,r){return r}function xr(a,r){if(pn){var c=ls.formState;if(c!==null){e:{var h=Et;if(pn){if(rs){t:{for(var v=rs,w=Ns;v.nodeType!==8;){if(!w){v=null;break t}if(v=vr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){rs=vr(v.nextSibling),h=v.data==="F!";break e}}So(h)}h=!1}h&&(r=c[0])}}return c=ea(),c.memoizedState=c.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:r},c.queue=h,c=bv.bind(null,Et,h),h.dispatch=c,h=Lo(!1),w=M0.bind(null,Et,!1,h.queue),h=ea(),v={state:r,dispatch:null,action:a,pending:null},h.queue=v,c=Jh.bind(null,Et,v,w,c),v.dispatch=c,h.memoizedState=a,[r,c,!1]}function Zr(a){var r=Ss();return $r(r,Lt,a)}function $r(a,r,c){if(r=oc(a,r,mu)[0],a=yd(gr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=ko(r)}catch(I){throw I===Ne?de:I}else h=r;r=Ss();var v=r.queue,w=v.dispatch;return c!==r.memoizedState&&(Et.flags|=2048,yl(9,{destroy:void 0},jd.bind(null,v,c),null)),[h,w,a]}function jd(a,r){a.action=r}function Sd(a){var r=Ss(),c=Lt;if(c!==null)return $r(r,c,a);Ss(),r=r.memoizedState,c=Ss();var h=c.queue.dispatch;return c.memoizedState=a,[r,h,!1]}function yl(a,r,c,h){return a={tag:a,create:c,deps:h,inst:r,next:null},r=Et.updateQueue,r===null&&(r=hu(),Et.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,r.lastEffect=a),a}function nm(){return Ss().memoizedState}function lc(a,r,c,h){var v=ea();Et.flags|=a,v.memoizedState=yl(1|r,{destroy:void 0},c,h===void 0?null:h)}function cc(a,r,c,h){var v=Ss();h=h===void 0?null:h;var w=v.memoizedState.inst;Lt!==null&&h!==null&&kf(h,Lt.memoizedState.deps)?v.memoizedState=yl(r,w,c,h):(Et.flags|=a,v.memoizedState=yl(1|r,w,c,h))}function rv(a,r){lc(8390656,8,a,r)}function j0(a,r){cc(2048,8,a,r)}function c6(a){Et.flags|=4;var r=Et.updateQueue;if(r===null)r=hu(),Et.updateQueue=r,r.events=[a];else{var c=r.events;c===null?r.events=[a]:c.push(a)}}function ov(a){var r=Ss().memoizedState;return c6({ref:r,nextImpl:a}),function(){if((Un&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function lv(a,r){return cc(4,2,a,r)}function cv(a,r){return cc(4,4,a,r)}function uv(a,r){if(typeof r=="function"){a=a();var c=r(a);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function dv(a,r,c){c=c!=null?c.concat([a]):null,cc(4,4,uv.bind(null,r,a),c)}function S0(){}function fv(a,r){var c=Ss();r=r===void 0?null:r;var h=c.memoizedState;return r!==null&&kf(r,h[1])?h[0]:(c.memoizedState=[a,r],a)}function hv(a,r){var c=Ss();r=r===void 0?null:r;var h=c.memoizedState;if(r!==null&&kf(r,h[1]))return h[0];if(h=a(),Oa){kt(!0);try{a()}finally{kt(!1)}}return c.memoizedState=[h,r],h}function A0(a,r,c){return c===void 0||(js&1073741824)!==0&&(yn&261930)===0?a.memoizedState=r:(a.memoizedState=c,a=my(),Et.lanes|=a,fc|=a,c)}function mv(a,r,c,h){return la(c,r)?c:nn.current!==null?(a=A0(a,c,h),la(a,r)||(ta=!0),a):(js&42)===0||(js&1073741824)!==0&&(yn&261930)===0?(ta=!0,a.memoizedState=c):(a=my(),Et.lanes|=a,fc|=a,r)}function pv(a,r,c,h,v){var w=K.p;K.p=w!==0&&8>w?w:8;var I=z.T,ne={};z.T=ne,M0(a,!1,r,c);try{var xe=v(),Re=z.S;if(Re!==null&&Re(ne,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var qe=Z(xe,h);Hf(a,r,qe,Zi(a))}else Hf(a,r,h,Zi(a))}catch(Ye){Hf(a,r,{then:function(){},status:"rejected",reason:Ye},Zi())}finally{K.p=w,I!==null&&ne.types!==null&&(I.types=ne.types),z.T=I}}function u6(){}function C0(a,r,c,h){if(a.tag!==5)throw Error(i(476));var v=gv(a).queue;pv(a,v,r,H,c===null?u6:function(){return xv(a),c(h)})}function gv(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:H},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:c},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function xv(a){var r=gv(a);r.next===null&&(r=a.alternate.memoizedState),Hf(a,r.next.queue,{},Zi())}function T0(){return fa(nh)}function vv(){return Ss().memoizedState}function yv(){return Ss().memoizedState}function d6(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var c=Zi();a=Bt(c);var h=Jt(r,a,c);h!==null&&(_i(h,r,c),Fn(h,r,c)),r={cache:ic()},a.payload=r;return}r=r.return}}function f6(a,r,c){var h=Zi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},sm(a)?wv(r,c):(c=id(a,r,c,h),c!==null&&(_i(c,a,h),Nv(c,r,h)))}function bv(a,r,c){var h=Zi();Hf(a,r,c,h)}function Hf(a,r,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(sm(a))wv(r,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=r.lastRenderedReducer,w!==null))try{var I=r.lastRenderedState,ne=w(I,c);if(v.hasEagerState=!0,v.eagerState=ne,la(ne,I))return ru(a,r,v,0),ls===null&&iu(),!1}catch{}finally{}if(c=id(a,r,v,h),c!==null)return _i(c,a,h),Nv(c,r,h),!0}return!1}function M0(a,r,c,h){if(h={lane:2,revertLane:rg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},sm(a)){if(r)throw Error(i(479))}else r=id(a,c,h,2),r!==null&&_i(r,a,2)}function sm(a){var r=a.alternate;return a===Et||r!==null&&r===Et}function wv(a,r){Ai=Va=!0;var c=a.pending;c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r}function Nv(a,r,c){if((c&4194048)!==0){var h=r.lanes;h&=a.pendingLanes,c|=h,r.lanes=c,as(a,c)}}var Ff={readContext:fa,use:rc,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useLayoutEffect:ts,useInsertionEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useSyncExternalStore:ts,useId:ts,useHostTransitionStatus:ts,useFormState:ts,useActionState:ts,useOptimistic:ts,useMemoCache:ts,useCacheRefresh:ts};Ff.useEffectEvent=ts;var jv={readContext:fa,use:rc,useCallback:function(a,r){return ea().memoizedState=[a,r===void 0?null:r],a},useContext:fa,useEffect:rv,useImperativeHandle:function(a,r,c){c=c!=null?c.concat([a]):null,lc(4194308,4,uv.bind(null,r,a),c)},useLayoutEffect:function(a,r){return lc(4194308,4,a,r)},useInsertionEffect:function(a,r){lc(4,2,a,r)},useMemo:function(a,r){var c=ea();r=r===void 0?null:r;var h=a();if(Oa){kt(!0);try{a()}finally{kt(!1)}}return c.memoizedState=[h,r],h},useReducer:function(a,r,c){var h=ea();if(c!==void 0){var v=c(r);if(Oa){kt(!0);try{c(r)}finally{kt(!1)}}}else v=r;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=f6.bind(null,Et,a),[h.memoizedState,a]},useRef:function(a){var r=ea();return a={current:a},r.memoizedState=a},useState:function(a){a=Lo(a);var r=a.queue,c=bv.bind(null,Et,r);return r.dispatch=c,[a.memoizedState,c]},useDebugValue:S0,useDeferredValue:function(a,r){var c=ea();return A0(c,a,r)},useTransition:function(){var a=Lo(!1);return a=pv.bind(null,Et,a.queue,!0,!1),ea().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,c){var h=Et,v=ea();if(pn){if(c===void 0)throw Error(i(407));c=c()}else{if(c=r(),ls===null)throw Error(i(349));(yn&127)!==0||Xr(h,r,c)}v.memoizedState=c;var w={value:c,getSnapshot:r};return v.queue=w,rv(Pf.bind(null,h,w,a),[a]),h.flags|=2048,yl(9,{destroy:void 0},Of.bind(null,h,w,c,r),null),c},useId:function(){var a=ea(),r=ls.identifierPrefix;if(pn){var c=ji,h=Ni;c=(h&~(1<<32-Zt(h)-1)).toString(32)+c,r="_"+r+"R_"+c,c=zs++,0<c&&(r+="H"+c.toString(32)),r+="_"}else c=gd++,r="_"+r+"r_"+c.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:T0,useFormState:xr,useActionState:xr,useOptimistic:function(a){var r=ea();r.memoizedState=r.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=M0.bind(null,Et,!0,c),c.dispatch=r,[a,r]},useMemoCache:xl,useCacheRefresh:function(){return ea().memoizedState=d6.bind(null,Et)},useEffectEvent:function(a){var r=ea(),c={impl:a};return r.memoizedState=c,function(){if((Un&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},E0={readContext:fa,use:rc,useCallback:fv,useContext:fa,useEffect:j0,useImperativeHandle:dv,useInsertionEffect:lv,useLayoutEffect:cv,useMemo:hv,useReducer:yd,useRef:nm,useState:function(){return yd(gr)},useDebugValue:S0,useDeferredValue:function(a,r){var c=Ss();return mv(c,Lt.memoizedState,a,r)},useTransition:function(){var a=yd(gr)[0],r=Ss().memoizedState;return[typeof a=="boolean"?a:ko(a),r]},useSyncExternalStore:wd,useId:vv,useHostTransitionStatus:T0,useFormState:Zr,useActionState:Zr,useOptimistic:function(a,r){var c=Ss();return Qh(c,Lt,a,r)},useMemoCache:xl,useCacheRefresh:yv};E0.useEffectEvent=ov;var Sv={readContext:fa,use:rc,useCallback:fv,useContext:fa,useEffect:j0,useImperativeHandle:dv,useInsertionEffect:lv,useLayoutEffect:cv,useMemo:hv,useReducer:bd,useRef:nm,useState:function(){return bd(gr)},useDebugValue:S0,useDeferredValue:function(a,r){var c=Ss();return Lt===null?A0(c,a,r):mv(c,Lt.memoizedState,a,r)},useTransition:function(){var a=bd(gr)[0],r=Ss().memoizedState;return[typeof a=="boolean"?a:ko(a),r]},useSyncExternalStore:wd,useId:vv,useHostTransitionStatus:T0,useFormState:Sd,useActionState:Sd,useOptimistic:function(a,r){var c=Ss();return Lt!==null?Qh(c,Lt,a,r):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:xl,useCacheRefresh:yv};Sv.useEffectEvent=ov;function _0(a,r,c,h){r=a.memoizedState,c=c(h,r),c=c==null?r:x({},r,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var k0={enqueueSetState:function(a,r,c){a=a._reactInternals;var h=Zi(),v=Bt(h);v.payload=r,c!=null&&(v.callback=c),r=Jt(a,v,h),r!==null&&(_i(r,a,h),Fn(r,a,h))},enqueueReplaceState:function(a,r,c){a=a._reactInternals;var h=Zi(),v=Bt(h);v.tag=1,v.payload=r,c!=null&&(v.callback=c),r=Jt(a,v,h),r!==null&&(_i(r,a,h),Fn(r,a,h))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var c=Zi(),h=Bt(c);h.tag=2,r!=null&&(h.callback=r),r=Jt(a,h,c),r!==null&&(_i(r,a,c),Fn(r,a,c))}};function Av(a,r,c,h,v,w,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,I):r.prototype&&r.prototype.isPureReactComponent?!Fr(c,h)||!Fr(v,w):!0}function Cv(a,r,c,h){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,h),r.state!==a&&k0.enqueueReplaceState(r,r.state,null)}function pu(a,r){var c=r;if("ref"in r){c={};for(var h in r)h!=="ref"&&(c[h]=r[h])}if(a=a.defaultProps){c===r&&(c=x({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function Tv(a){au(a)}function Mv(a){console.error(a)}function Ev(a){au(a)}function am(a,r){try{var c=a.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function _v(a,r,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function L0(a,r,c){return c=Bt(c),c.tag=3,c.payload={element:null},c.callback=function(){am(a,r)},c}function kv(a){return a=Bt(a),a.tag=3,a}function Lv(a,r,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;a.payload=function(){return v(w)},a.callback=function(){_v(r,c,h)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){_v(r,c,h),typeof v!="function"&&(hc===null?hc=new Set([this]):hc.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})})}function h6(a,r,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=c.alternate,r!==null&&To(r,c,v,!0),c=xs.current,c!==null){switch(c.tag){case 31:case 13:return Tn===null?gm():c.alternate===null&&Us===0&&(Us=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===Se?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([h]):r.add(h),sg(a,h,v)),!1;case 22:return c.flags|=65536,h===Se?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([h]):c.add(h)),sg(a,h,v)),!1}throw Error(i(435,c.tag))}return sg(a,h,v),gm(),!1}if(pn)return r=xs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,h!==Gi&&(a=Error(i(422),{cause:h}),sc(yi(a,c)))):(h!==Gi&&(r=Error(i(423),{cause:h}),sc(yi(r,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=yi(h,c),v=L0(a.stateNode,h,v),Xs(a,v),Us!==4&&(Us=2)),!1;var w=Error(i(520),{cause:h});if(w=yi(w,c),Zf===null?Zf=[w]:Zf.push(w),Us!==4&&(Us=2),r===null)return!0;h=yi(h,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=L0(c.stateNode,h,a),Xs(c,a),!1;case 1:if(r=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(hc===null||!hc.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=kv(v),Lv(v,a,c,h),Xs(c,v),!1}c=c.return}while(c!==null);return!1}var D0=Error(i(461)),ta=!1;function Pa(a,r,c,h){r.child=a===null?$t(r,null,c,h):os(r,a.child,c,h)}function Dv(a,r,c,h,v){c=c.render;var w=r.ref;if("ref"in h){var I={};for(var ne in h)ne!=="ref"&&(I[ne]=h[ne])}else I=h;return Mo(r),h=Lf(a,r,c,I,w,v),ne=Df(),a!==null&&!ta?(Rf(a,r,v),bl(a,r,v)):(pn&&ne&&Mf(r),r.flags|=1,Pa(a,r,h,v),r.child)}function Rv(a,r,c,h,v){if(a===null){var w=c.type;return typeof w=="function"&&!od(w)&&w.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=w,Ov(a,r,w,h,v)):(a=ec(c.type,null,h,r,r.mode,v),a.ref=r.ref,a.return=r,r.child=a)}if(w=a.child,!z0(a,v)){var I=w.memoizedProps;if(c=c.compare,c=c!==null?c:Fr,c(I,h)&&a.ref===r.ref)return bl(a,r,v)}return r.flags|=1,a=vi(w,h),a.ref=r.ref,a.return=r,r.child=a}function Ov(a,r,c,h,v){if(a!==null){var w=a.memoizedProps;if(Fr(w,h)&&a.ref===r.ref)if(ta=!1,r.pendingProps=h=w,z0(a,v))(a.flags&131072)!==0&&(ta=!0);else return r.lanes=a.lanes,bl(a,r,v)}return R0(a,r,c,h,v)}function Pv(a,r,c,h){var v=h.children,w=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(h=r.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,r.child=null;return Iv(a,r,w,c,h)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&ie(r,w!==null?w.cachePool:null),w!==null?gs(r,w):kn(),Hs(r);else return h=r.lanes=536870912,Iv(a,r,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(ie(r,w.cachePool),gs(r,w),Fs(),r.memoizedState=null):(a!==null&&ie(r,null),kn(),Fs());return Pa(a,r,v,c),r.child}function zf(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Iv(a,r,c,h,v){var w=se();return w=w===null?null:{parent:Ds._currentValue,pool:w},r.memoizedState={baseLanes:c,cachePool:w},a!==null&&ie(r,null),kn(),Hs(r),a!==null&&To(a,r,h,!0),r.childLanes=v,null}function im(a,r){return r=om({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function Bv(a,r,c){return os(r,a.child,null,c),a=im(r,r.pendingProps),a.flags|=2,Xn(r),r.memoizedState=null,a}function m6(a,r,c){var h=r.pendingProps,v=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(pn){if(h.mode==="hidden")return a=im(r,h),r.lanes=536870912,zf(null,a);if(zn(r),(a=rs)?(a=Yy(a,Ns),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:jo!==null?{id:Ni,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},c=ld(a),c.return=r,r.child=c,ua=r,rs=null)):a=null,a===null)throw So(r);return r.lanes=536870912,null}return im(r,h)}var w=a.memoizedState;if(w!==null){var I=w.dehydrated;if(zn(r),v)if(r.flags&256)r.flags&=-257,r=Bv(a,r,c);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(i(558));else if(ta||To(a,r,c,!1),v=(c&a.childLanes)!==0,ta||v){if(h=ls,h!==null&&(I=is(h,c),I!==0&&I!==w.retryLane))throw w.retryLane=I,Vr(a,I),_i(h,a,I),D0;gm(),r=Bv(a,r,c)}else a=w.treeContext,rs=vr(I.nextSibling),ua=r,pn=!0,Ra=null,Ns=!1,a!==null&&$h(r,a),r=im(r,h),r.flags|=4096;return r}return a=vi(a.child,{mode:h.mode,children:h.children}),a.ref=r.ref,r.child=a,a.return=r,a}function rm(a,r){var c=r.ref;if(c===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(a===null||a.ref!==c)&&(r.flags|=4194816)}}function R0(a,r,c,h,v){return Mo(r),c=Lf(a,r,c,h,void 0,v),h=Df(),a!==null&&!ta?(Rf(a,r,v),bl(a,r,v)):(pn&&h&&Mf(r),r.flags|=1,Pa(a,r,c,v),r.child)}function Hv(a,r,c,h,v,w){return Mo(r),r.updateQueue=null,c=Wr(r,h,c,v),xd(a),h=Df(),a!==null&&!ta?(Rf(a,r,w),bl(a,r,w)):(pn&&h&&Mf(r),r.flags|=1,Pa(a,r,c,w),r.child)}function Fv(a,r,c,h,v){if(Mo(r),r.stateNode===null){var w=ca,I=c.contextType;typeof I=="object"&&I!==null&&(w=fa(I)),w=new c(h,w),r.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=k0,r.stateNode=w,w._reactInternals=r,w=r.stateNode,w.props=h,w.state=r.memoizedState,w.refs={},rt(r),I=c.contextType,w.context=typeof I=="object"&&I!==null?fa(I):ca,w.state=r.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(_0(r,c,I,h),w.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&k0.enqueueReplaceState(w,w.state,null),Is(r,h,w,v),es(),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(a===null){w=r.stateNode;var ne=r.memoizedProps,xe=pu(c,ne);w.props=xe;var Re=w.context,qe=c.contextType;I=ca,typeof qe=="object"&&qe!==null&&(I=fa(qe));var Ye=c.getDerivedStateFromProps;qe=typeof Ye=="function"||typeof w.getSnapshotBeforeUpdate=="function",ne=r.pendingProps!==ne,qe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ne||Re!==I)&&Cv(r,w,h,I),ft=!1;var Oe=r.memoizedState;w.state=Oe,Is(r,h,w,v),es(),Re=r.memoizedState,ne||Oe!==Re||ft?(typeof Ye=="function"&&(_0(r,c,Ye,h),Re=r.memoizedState),(xe=ft||Av(r,c,xe,h,Oe,Re,I))?(qe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=Re),w.props=h,w.state=Re,w.context=I,h=xe):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{w=r.stateNode,ps(a,r),I=r.memoizedProps,qe=pu(c,I),w.props=qe,Ye=r.pendingProps,Oe=w.context,Re=c.contextType,xe=ca,typeof Re=="object"&&Re!==null&&(xe=fa(Re)),ne=c.getDerivedStateFromProps,(Re=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Ye||Oe!==xe)&&Cv(r,w,h,xe),ft=!1,Oe=r.memoizedState,w.state=Oe,Is(r,h,w,v),es();var He=r.memoizedState;I!==Ye||Oe!==He||ft||a!==null&&a.dependencies!==null&&hd(a.dependencies)?(typeof ne=="function"&&(_0(r,c,ne,h),He=r.memoizedState),(qe=ft||Av(r,c,qe,h,Oe,He,xe)||a!==null&&a.dependencies!==null&&hd(a.dependencies))?(Re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,He,xe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,He,xe)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===a.memoizedProps&&Oe===a.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&Oe===a.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=He),w.props=h,w.state=He,w.context=xe,h=qe):(typeof w.componentDidUpdate!="function"||I===a.memoizedProps&&Oe===a.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&Oe===a.memoizedState||(r.flags|=1024),h=!1)}return w=h,rm(a,r),h=(r.flags&128)!==0,w||h?(w=r.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),r.flags|=1,a!==null&&h?(r.child=os(r,a.child,null,v),r.child=os(r,null,c,v)):Pa(a,r,c,v),r.memoizedState=w.state,a=r.child):a=bl(a,r,v),a}function zv(a,r,c,h){return pl(),r.flags|=256,Pa(a,r,c,h),r.child}var O0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P0(a){return{baseLanes:a,cachePool:he()}}function I0(a,r,c){return a=a!==null?a.childLanes&~c:0,r&&(a|=Xi),a}function Uv(a,r,c){var h=r.pendingProps,v=!1,w=(r.flags&128)!==0,I;if((I=w)||(I=a!==null&&a.memoizedState===null?!1:(An.current&2)!==0),I&&(v=!0,r.flags&=-129),I=(r.flags&32)!==0,r.flags&=-33,a===null){if(pn){if(v?Rs(r):Fs(),(a=rs)?(a=Yy(a,Ns),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:jo!==null?{id:Ni,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},c=ld(a),c.return=r,r.child=c,ua=r,rs=null)):a=null,a===null)throw So(r);return yg(a)?r.lanes=32:r.lanes=536870912,null}var ne=h.children;return h=h.fallback,v?(Fs(),v=r.mode,ne=om({mode:"hidden",children:ne},v),h=No(h,v,c,null),ne.return=r,h.return=r,ne.sibling=h,r.child=ne,h=r.child,h.memoizedState=P0(c),h.childLanes=I0(a,I,c),r.memoizedState=O0,zf(null,h)):(Rs(r),B0(r,ne))}var xe=a.memoizedState;if(xe!==null&&(ne=xe.dehydrated,ne!==null)){if(w)r.flags&256?(Rs(r),r.flags&=-257,r=H0(a,r,c)):r.memoizedState!==null?(Fs(),r.child=a.child,r.flags|=128,r=null):(Fs(),ne=h.fallback,v=r.mode,h=om({mode:"visible",children:h.children},v),ne=No(ne,v,c,null),ne.flags|=2,h.return=r,ne.return=r,h.sibling=ne,r.child=h,os(r,a.child,null,c),h=r.child,h.memoizedState=P0(c),h.childLanes=I0(a,I,c),r.memoizedState=O0,r=zf(null,h));else if(Rs(r),yg(ne)){if(I=ne.nextSibling&&ne.nextSibling.dataset,I)var Re=I.dgst;I=Re,h=Error(i(419)),h.stack="",h.digest=I,sc({value:h,source:null,stack:null}),r=H0(a,r,c)}else if(ta||To(a,r,c,!1),I=(c&a.childLanes)!==0,ta||I){if(I=ls,I!==null&&(h=is(I,c),h!==0&&h!==xe.retryLane))throw xe.retryLane=h,Vr(a,h),_i(I,a,h),D0;vg(ne)||gm(),r=H0(a,r,c)}else vg(ne)?(r.flags|=192,r.child=a.child,r=null):(a=xe.treeContext,rs=vr(ne.nextSibling),ua=r,pn=!0,Ra=null,Ns=!1,a!==null&&$h(r,a),r=B0(r,h.children),r.flags|=4096);return r}return v?(Fs(),ne=h.fallback,v=r.mode,xe=a.child,Re=xe.sibling,h=vi(xe,{mode:"hidden",children:h.children}),h.subtreeFlags=xe.subtreeFlags&65011712,Re!==null?ne=vi(Re,ne):(ne=No(ne,v,c,null),ne.flags|=2),ne.return=r,h.return=r,h.sibling=ne,r.child=h,zf(null,h),h=r.child,ne=a.child.memoizedState,ne===null?ne=P0(c):(v=ne.cachePool,v!==null?(xe=Ds._currentValue,v=v.parent!==xe?{parent:xe,pool:xe}:v):v=he(),ne={baseLanes:ne.baseLanes|c,cachePool:v}),h.memoizedState=ne,h.childLanes=I0(a,I,c),r.memoizedState=O0,zf(a.child,h)):(Rs(r),c=a.child,a=c.sibling,c=vi(c,{mode:"visible",children:h.children}),c.return=r,c.sibling=null,a!==null&&(I=r.deletions,I===null?(r.deletions=[a],r.flags|=16):I.push(a)),r.child=c,r.memoizedState=null,c)}function B0(a,r){return r=om({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function om(a,r){return a=Na(22,a,null,r),a.lanes=0,a}function H0(a,r,c){return os(r,a.child,null,c),a=B0(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function qv(a,r,c){a.lanes|=r;var h=a.alternate;h!==null&&(h.lanes|=r),ac(a.return,r,c)}function F0(a,r,c,h,v,w){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:w}:(I.isBackwards=r,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=c,I.tailMode=v,I.treeForkCount=w)}function Vv(a,r,c){var h=r.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var I=An.current,ne=(I&2)!==0;if(ne?(I=I&1|2,r.flags|=128):I&=1,q(An,I),Pa(a,r,h,c),h=pn?uu:0,!ne&&a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&qv(a,c,r);else if(a.tag===19)qv(a,c,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=r.child,v=null;c!==null;)a=c.alternate,a!==null&&Sa(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=r.child,r.child=null):(v=c.sibling,c.sibling=null),F0(r,!1,v,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=r.child,r.child=null;v!==null;){if(a=v.alternate,a!==null&&Sa(a)===null){r.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}F0(r,!0,c,null,w,h);break;case"together":F0(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function bl(a,r,c){if(a!==null&&(r.dependencies=a.dependencies),fc|=r.lanes,(c&r.childLanes)===0)if(a!==null){if(To(a,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,c=vi(a,a.pendingProps),r.child=c,c.return=r;a.sibling!==null;)a=a.sibling,c=c.sibling=vi(a,a.pendingProps),c.return=r;c.sibling=null}return r.child}function z0(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&hd(a)))}function p6(a,r,c){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),Co(r,Ds,a.memoizedState.cache),pl();break;case 27:case 5:Me(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:Co(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,zn(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Rs(r),r.flags|=128,null):(c&r.child.childLanes)!==0?Uv(a,r,c):(Rs(r),a=bl(a,r,c),a!==null?a.sibling:null);Rs(r);break;case 19:var v=(a.flags&128)!==0;if(h=(c&r.childLanes)!==0,h||(To(a,r,c,!1),h=(c&r.childLanes)!==0),v){if(h)return Vv(a,r,c);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(An,An.current),h)break;return null;case 22:return r.lanes=0,Pv(a,r,c,r.pendingProps);case 24:Co(r,Ds,a.memoizedState.cache)}return bl(a,r,c)}function Gv(a,r,c){if(a!==null)if(a.memoizedProps!==r.pendingProps)ta=!0;else{if(!z0(a,c)&&(r.flags&128)===0)return ta=!1,p6(a,r,c);ta=(a.flags&131072)!==0}else ta=!1,pn&&(r.flags&1048576)!==0&&Zh(r,uu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(a=_e(r.elementType),r.type=a,typeof a=="function")od(a)?(h=pu(a,h),r.tag=1,r=Fv(null,r,a,h,c)):(r.tag=0,r=R0(null,r,a,h,c));else{if(a!=null){var v=a.$$typeof;if(v===D){r.tag=11,r=Dv(null,r,a,h,c);break e}else if(v===$){r.tag=14,r=Rv(null,r,a,h,c);break e}}throw r=W(a)||a,Error(i(306,r,""))}}return r;case 0:return R0(a,r,r.type,r.pendingProps,c);case 1:return h=r.type,v=pu(h,r.pendingProps),Fv(a,r,h,v,c);case 3:e:{if(be(r,r.stateNode.containerInfo),a===null)throw Error(i(387));h=r.pendingProps;var w=r.memoizedState;v=w.element,ps(a,r),Is(r,h,null,c);var I=r.memoizedState;if(h=I.cache,Co(r,Ds,h),h!==w.cache&&gl(r,[Ds],c,!0),es(),h=I.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:I.cache},r.updateQueue.baseState=w,r.memoizedState=w,r.flags&256){r=zv(a,r,h,c);break e}else if(h!==v){v=yi(Error(i(424)),r),sc(v),r=zv(a,r,h,c);break e}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(rs=vr(a.firstChild),ua=r,pn=!0,Ra=null,Ns=!0,c=$t(r,null,h,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(pl(),h===v){r=bl(a,r,c);break e}Pa(a,r,h,c)}r=r.child}return r;case 26:return rm(a,r),a===null?(c=n5(r.type,null,r.pendingProps,null))?r.memoizedState=c:pn||(c=r.type,a=r.pendingProps,h=jm(ce.current).createElement(c),h[Wn]=r,h[hs]=a,Ia(h,c,a),Ms(h),r.stateNode=h):r.memoizedState=n5(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return Me(r),a===null&&pn&&(h=r.stateNode=Jy(r.type,r.pendingProps,ce.current),ua=r,Ns=!0,v=rs,xc(r.type)?(bg=v,rs=vr(h.firstChild)):rs=v),Pa(a,r,r.pendingProps.children,c),rm(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&pn&&((v=h=rs)&&(h=G6(h,r.type,r.pendingProps,Ns),h!==null?(r.stateNode=h,ua=r,rs=vr(h.firstChild),Ns=!1,v=!0):v=!1),v||So(r)),Me(r),v=r.type,w=r.pendingProps,I=a!==null?a.memoizedProps:null,h=w.children,pg(v,w)?h=null:I!==null&&pg(v,I)&&(r.flags|=32),r.memoizedState!==null&&(v=Lf(a,r,N0,null,null,c),nh._currentValue=v),rm(a,r),Pa(a,r,h,c),r.child;case 6:return a===null&&pn&&((a=c=rs)&&(c=W6(c,r.pendingProps,Ns),c!==null?(r.stateNode=c,ua=r,rs=null,a=!0):a=!1),a||So(r)),null;case 13:return Uv(a,r,c);case 4:return be(r,r.stateNode.containerInfo),h=r.pendingProps,a===null?r.child=os(r,null,h,c):Pa(a,r,h,c),r.child;case 11:return Dv(a,r,r.type,r.pendingProps,c);case 7:return Pa(a,r,r.pendingProps,c),r.child;case 8:return Pa(a,r,r.pendingProps.children,c),r.child;case 12:return Pa(a,r,r.pendingProps.children,c),r.child;case 10:return h=r.pendingProps,Co(r,r.type,h.value),Pa(a,r,h.children,c),r.child;case 9:return v=r.type._context,h=r.pendingProps.children,Mo(r),v=fa(v),h=h(v),r.flags|=1,Pa(a,r,h,c),r.child;case 14:return Rv(a,r,r.type,r.pendingProps,c);case 15:return Ov(a,r,r.type,r.pendingProps,c);case 19:return Vv(a,r,c);case 31:return m6(a,r,c);case 22:return Pv(a,r,c,r.pendingProps);case 24:return Mo(r),h=fa(Ds),a===null?(v=se(),v===null&&(v=ls,w=ic(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),r.memoizedState={parent:h,cache:v},rt(r),Co(r,Ds,v)):((a.lanes&c)!==0&&(ps(a,r),Is(r,null,null,c),es()),v=a.memoizedState,w=r.memoizedState,v.parent!==h?(v={parent:h,cache:h},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),Co(r,Ds,h)):(h=w.cache,Co(r,Ds,h),h!==v.cache&&gl(r,[Ds],c,!0))),Pa(a,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function wl(a){a.flags|=4}function U0(a,r,c,h,v){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(vy())a.flags|=8192;else throw Fe=Se,Le}else a.flags&=-16777217}function Wv(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!o5(r))if(vy())a.flags|=8192;else throw Fe=Se,Le}function lm(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?fs():536870912,a.lanes|=r,Md|=r)}function Uf(a,r){if(!pn)switch(a.tailMode){case"hidden":r=a.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function vs(a){var r=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(r)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=c,r}function g6(a,r,c){var h=r.pendingProps;switch(dd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(r),null;case 1:return vs(r),null;case 3:return c=r.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Si(Ds),ve(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(da(r)?wl(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_f())),vs(r),null;case 26:var v=r.type,w=r.memoizedState;return a===null?(wl(r),w!==null?(vs(r),Wv(r,w)):(vs(r),U0(r,v,null,h,c))):w?w!==a.memoizedState?(wl(r),vs(r),Wv(r,w)):(vs(r),r.flags&=-16777217):(a=a.memoizedProps,a!==h&&wl(r),vs(r),U0(r,v,a,h,c)),null;case 27:if(Pe(r),c=ce.current,v=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==h&&wl(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return vs(r),null}a=J.current,da(r)?Ef(r):(a=Jy(v,h,c),r.stateNode=a,wl(r))}return vs(r),null;case 5:if(Pe(r),v=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==h&&wl(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return vs(r),null}if(w=J.current,da(r))Ef(r);else{var I=jm(ce.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?I.createElement(v,{is:h.is}):I.createElement(v)}}w[Wn]=r,w[hs]=h;e:for(I=r.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===r)break e;for(;I.sibling===null;){if(I.return===null||I.return===r)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}r.stateNode=w;e:switch(Ia(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&wl(r)}}return vs(r),U0(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,c),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==h&&wl(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(i(166));if(a=ce.current,da(r)){if(a=r.stateNode,c=r.memoizedProps,h=null,v=ua,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[Wn]=r,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Uy(a.nodeValue,c)),a||So(r,!0)}else a=jm(a).createTextNode(h),a[Wn]=r,r.stateNode=a}return vs(r),null;case 31:if(c=r.memoizedState,a===null||a.memoizedState!==null){if(h=da(r),c!==null){if(a===null){if(!h)throw Error(i(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Wn]=r}else pl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vs(r),a=!1}else c=_f(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return r.flags&256?(Xn(r),r):(Xn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return vs(r),null;case 13:if(h=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=da(r),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Wn]=r}else pl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vs(r),v=!1}else v=_f(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(Xn(r),r):(Xn(r),null)}return Xn(r),(r.flags&128)!==0?(r.lanes=c,r):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=r.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),c!==a&&c&&(r.child.flags|=8192),lm(r,r.updateQueue),vs(r),null);case 4:return ve(),a===null&&ug(r.stateNode.containerInfo),vs(r),null;case 10:return Si(r.type),vs(r),null;case 19:if(k(An),h=r.memoizedState,h===null)return vs(r),null;if(v=(r.flags&128)!==0,w=h.rendering,w===null)if(v)Uf(h,!1);else{if(Us!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(w=Sa(a),w!==null){for(r.flags|=128,Uf(h,!1),a=w.updateQueue,r.updateQueue=a,lm(r,a),r.subtreeFlags=0,a=c,c=r.child;c!==null;)lu(c,a),c=c.sibling;return q(An,An.current&1|2),pn&&ci(r,h.treeForkCount),r.child}a=a.sibling}h.tail!==null&&ut()>hm&&(r.flags|=128,v=!0,Uf(h,!1),r.lanes=4194304)}else{if(!v)if(a=Sa(w),a!==null){if(r.flags|=128,v=!0,a=a.updateQueue,r.updateQueue=a,lm(r,a),Uf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!pn)return vs(r),null}else 2*ut()-h.renderingStartTime>hm&&c!==536870912&&(r.flags|=128,v=!0,Uf(h,!1),r.lanes=4194304);h.isBackwards?(w.sibling=r.child,r.child=w):(a=h.last,a!==null?a.sibling=w:r.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=ut(),a.sibling=null,c=An.current,q(An,v?c&1|2:c&1),pn&&ci(r,h.treeForkCount),a):(vs(r),null);case 22:case 23:return Xn(r),Zs(),h=r.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(c&536870912)!==0&&(r.flags&128)===0&&(vs(r),r.subtreeFlags&6&&(r.flags|=8192)):vs(r),c=r.updateQueue,c!==null&&lm(r,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048),a!==null&&k(ee),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Si(Ds),vs(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function x6(a,r){switch(dd(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return Si(Ds),ve(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return Pe(r),null;case 31:if(r.memoizedState!==null){if(Xn(r),r.alternate===null)throw Error(i(340));pl()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(Xn(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));pl()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return k(An),null;case 4:return ve(),null;case 10:return Si(r.type),null;case 22:case 23:return Xn(r),Zs(),a!==null&&k(ee),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return Si(Ds),null;case 25:return null;default:return null}}function Xv(a,r){switch(dd(r),r.tag){case 3:Si(Ds),ve();break;case 26:case 27:case 5:Pe(r);break;case 4:ve();break;case 31:r.memoizedState!==null&&Xn(r);break;case 13:Xn(r);break;case 19:k(An);break;case 10:Si(r.type);break;case 22:case 23:Xn(r),Zs(),a!==null&&k(ee);break;case 24:Si(Ds)}}function qf(a,r){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&a)===a){h=void 0;var w=c.create,I=c.inst;h=w(),I.destroy=h}c=c.next}while(c!==v)}}catch(ne){$n(r,r.return,ne)}}function uc(a,r,c){try{var h=r.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&a)===a){var I=h.inst,ne=I.destroy;if(ne!==void 0){I.destroy=void 0,v=r;var xe=c,Re=ne;try{Re()}catch(qe){$n(v,xe,qe)}}}h=h.next}while(h!==w)}}catch(qe){$n(r,r.return,qe)}}function Zv(a){var r=a.updateQueue;if(r!==null){var c=a.stateNode;try{Bs(r,c)}catch(h){$n(a,a.return,h)}}}function $v(a,r,c){c.props=pu(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){$n(a,r,h)}}function Vf(a,r){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(v){$n(a,r,v)}}function Do(a,r){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){$n(a,r,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){$n(a,r,v)}else c.current=null}function Yv(a){var r=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){$n(a,a.return,v)}}function q0(a,r,c){try{var h=a.stateNode;H6(h,a.type,c,r),h[hs]=r}catch(v){$n(a,a.return,v)}}function Kv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xc(a.type)||a.tag===4}function V0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Kv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function G0(a,r,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(a),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Fi));else if(h!==4&&(h===27&&xc(a.type)&&(c=a.stateNode,r=null),a=a.child,a!==null))for(G0(a,r,c),a=a.sibling;a!==null;)G0(a,r,c),a=a.sibling}function cm(a,r,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,r?c.insertBefore(a,r):c.appendChild(a);else if(h!==4&&(h===27&&xc(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(cm(a,r,c),a=a.sibling;a!==null;)cm(a,r,c),a=a.sibling}function Qv(a){var r=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Ia(r,h,c),r[Wn]=a,r[hs]=c}catch(w){$n(a,a.return,w)}}var Nl=!1,na=!1,W0=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,Aa=null;function v6(a,r){if(a=a.containerInfo,hg=_m,a=Ur(a),hr(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var I=0,ne=-1,xe=-1,Re=0,qe=0,Ye=a,Oe=null;t:for(;;){for(var He;Ye!==c||v!==0&&Ye.nodeType!==3||(ne=I+v),Ye!==w||h!==0&&Ye.nodeType!==3||(xe=I+h),Ye.nodeType===3&&(I+=Ye.nodeValue.length),(He=Ye.firstChild)!==null;)Oe=Ye,Ye=He;for(;;){if(Ye===a)break t;if(Oe===c&&++Re===v&&(ne=I),Oe===w&&++qe===h&&(xe=I),(He=Ye.nextSibling)!==null)break;Ye=Oe,Oe=Ye.parentNode}Ye=He}c=ne===-1||xe===-1?null:{start:ne,end:xe}}else c=null}c=c||{start:0,end:0}}else c=null;for(mg={focusedElem:a,selectionRange:c},_m=!1,Aa=r;Aa!==null;)if(r=Aa,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,Aa=a;else for(;Aa!==null;){switch(r=Aa,w=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=r,v=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var gt=pu(c.type,v);a=h.getSnapshotBeforeUpdate(gt,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ft){$n(c,c.return,Ft)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,c=a.nodeType,c===9)xg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":xg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,Aa=a;break}Aa=r.return}}function ey(a,r,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Sl(a,c),h&4&&qf(5,c);break;case 1:if(Sl(a,c),h&4)if(a=c.stateNode,r===null)try{a.componentDidMount()}catch(I){$n(c,c.return,I)}else{var v=pu(c.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(v,r,a.__reactInternalSnapshotBeforeUpdate)}catch(I){$n(c,c.return,I)}}h&64&&Zv(c),h&512&&Vf(c,c.return);break;case 3:if(Sl(a,c),h&64&&(a=c.updateQueue,a!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{Bs(a,r)}catch(I){$n(c,c.return,I)}}break;case 27:r===null&&h&4&&Qv(c);case 26:case 5:Sl(a,c),r===null&&h&4&&Yv(c),h&512&&Vf(c,c.return);break;case 12:Sl(a,c);break;case 31:Sl(a,c),h&4&&sy(a,c);break;case 13:Sl(a,c),h&4&&ay(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=T6.bind(null,c),X6(a,c))));break;case 22:if(h=c.memoizedState!==null||Nl,!h){r=r!==null&&r.memoizedState!==null||na,v=Nl;var w=na;Nl=h,(na=r)&&!w?Al(a,c,(c.subtreeFlags&8772)!==0):Sl(a,c),Nl=v,na=w}break;case 30:break;default:Sl(a,c)}}function ty(a){var r=a.alternate;r!==null&&(a.alternate=null,ty(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&po(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var As=null,Ci=!1;function jl(a,r,c){for(c=c.child;c!==null;)ny(a,r,c),c=c.sibling}function ny(a,r,c){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(cn,c)}catch{}switch(c.tag){case 26:na||Do(c,r),jl(a,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:na||Do(c,r);var h=As,v=Ci;xc(c.type)&&(As=c.stateNode,Ci=!1),jl(a,r,c),Jf(c.stateNode),As=h,Ci=v;break;case 5:na||Do(c,r);case 6:if(h=As,v=Ci,As=null,jl(a,r,c),As=h,Ci=v,As!==null)if(Ci)try{(As.nodeType===9?As.body:As.nodeName==="HTML"?As.ownerDocument.body:As).removeChild(c.stateNode)}catch(w){$n(c,r,w)}else try{As.removeChild(c.stateNode)}catch(w){$n(c,r,w)}break;case 18:As!==null&&(Ci?(a=As,Zy(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Pd(a)):Zy(As,c.stateNode));break;case 4:h=As,v=Ci,As=c.stateNode.containerInfo,Ci=!0,jl(a,r,c),As=h,Ci=v;break;case 0:case 11:case 14:case 15:uc(2,c,r),na||uc(4,c,r),jl(a,r,c);break;case 1:na||(Do(c,r),h=c.stateNode,typeof h.componentWillUnmount=="function"&&$v(c,r,h)),jl(a,r,c);break;case 21:jl(a,r,c);break;case 22:na=(h=na)||c.memoizedState!==null,jl(a,r,c),na=h;break;default:jl(a,r,c)}}function sy(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pd(a)}catch(c){$n(r,r.return,c)}}}function ay(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pd(a)}catch(c){$n(r,r.return,c)}}function y6(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new Jv),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new Jv),r;default:throw Error(i(435,a.tag))}}function um(a,r){var c=y6(a);r.forEach(function(h){if(!c.has(h)){c.add(h);var v=M6.bind(null,a,h);h.then(v,v)}})}function Ti(a,r){var c=r.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],w=a,I=r,ne=I;e:for(;ne!==null;){switch(ne.tag){case 27:if(xc(ne.type)){As=ne.stateNode,Ci=!1;break e}break;case 5:As=ne.stateNode,Ci=!1;break e;case 3:case 4:As=ne.stateNode.containerInfo,Ci=!0;break e}ne=ne.return}if(As===null)throw Error(i(160));ny(w,I,v),As=null,Ci=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)iy(r,a),r=r.sibling}var Yr=null;function iy(a,r){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ti(r,a),Mi(a),h&4&&(uc(3,a,a.return),qf(3,a),uc(5,a,a.return));break;case 1:Ti(r,a),Mi(a),h&512&&(na||c===null||Do(c,c.return)),h&64&&Nl&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Yr;if(Ti(r,a),Mi(a),h&512&&(na||c===null||Do(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Oi]||w[Wn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),Ia(w,h,c),w[Wn]=a,Ms(w),h=w;break e;case"link":var I=i5("link","href",v).get(h+(c.href||""));if(I){for(var ne=0;ne<I.length;ne++)if(w=I[ne],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(ne,1);break t}}w=v.createElement(h),Ia(w,h,c),v.head.appendChild(w);break;case"meta":if(I=i5("meta","content",v).get(h+(c.content||""))){for(ne=0;ne<I.length;ne++)if(w=I[ne],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(ne,1);break t}}w=v.createElement(h),Ia(w,h,c),v.head.appendChild(w);break;default:throw Error(i(468,h))}w[Wn]=a,Ms(w),h=w}a.stateNode=h}else r5(v,a.type,a.stateNode);else a.stateNode=a5(v,h,a.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?r5(v,a.type,a.stateNode):a5(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&q0(a,a.memoizedProps,c.memoizedProps)}break;case 27:Ti(r,a),Mi(a),h&512&&(na||c===null||Do(c,c.return)),c!==null&&h&4&&q0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Ti(r,a),Mi(a),h&512&&(na||c===null||Do(c,c.return)),a.flags&32){v=a.stateNode;try{ni(v,"")}catch(gt){$n(a,a.return,gt)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,q0(a,v,c!==null?c.memoizedProps:v)),h&1024&&(W0=!0);break;case 6:if(Ti(r,a),Mi(a),h&4){if(a.stateNode===null)throw Error(i(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(gt){$n(a,a.return,gt)}}break;case 3:if(Cm=null,v=Yr,Yr=Sm(r.containerInfo),Ti(r,a),Yr=v,Mi(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Pd(r.containerInfo)}catch(gt){$n(a,a.return,gt)}W0&&(W0=!1,ry(a));break;case 4:h=Yr,Yr=Sm(a.stateNode.containerInfo),Ti(r,a),Mi(a),Yr=h;break;case 12:Ti(r,a),Mi(a);break;case 31:Ti(r,a),Mi(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,um(a,h)));break;case 13:Ti(r,a),Mi(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(fm=ut()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,um(a,h)));break;case 22:v=a.memoizedState!==null;var xe=c!==null&&c.memoizedState!==null,Re=Nl,qe=na;if(Nl=Re||v,na=qe||xe,Ti(r,a),na=qe,Nl=Re,Mi(a),h&8192)e:for(r=a.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(c===null||xe||Nl||na||gu(a)),c=null,r=a;;){if(r.tag===5||r.tag===26){if(c===null){xe=c=r;try{if(w=xe.stateNode,v)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{ne=xe.stateNode;var Ye=xe.memoizedProps.style,Oe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;ne.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(gt){$n(xe,xe.return,gt)}}}else if(r.tag===6){if(c===null){xe=r;try{xe.stateNode.nodeValue=v?"":xe.memoizedProps}catch(gt){$n(xe,xe.return,gt)}}}else if(r.tag===18){if(c===null){xe=r;try{var He=xe.stateNode;v?$y(He,!0):$y(xe.stateNode,!1)}catch(gt){$n(xe,xe.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,um(a,c))));break;case 19:Ti(r,a),Mi(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,um(a,h)));break;case 30:break;case 21:break;default:Ti(r,a),Mi(a)}}function Mi(a){var r=a.flags;if(r&2){try{for(var c,h=a.return;h!==null;){if(Kv(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var v=c.stateNode,w=V0(a);cm(a,w,v);break;case 5:var I=c.stateNode;c.flags&32&&(ni(I,""),c.flags&=-33);var ne=V0(a);cm(a,ne,I);break;case 3:case 4:var xe=c.stateNode.containerInfo,Re=V0(a);G0(a,Re,xe);break;default:throw Error(i(161))}}catch(qe){$n(a,a.return,qe)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function ry(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;ry(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function Sl(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ey(a,r.alternate,r),r=r.sibling}function gu(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:uc(4,r,r.return),gu(r);break;case 1:Do(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&$v(r,r.return,c),gu(r);break;case 27:Jf(r.stateNode);case 26:case 5:Do(r,r.return),gu(r);break;case 22:r.memoizedState===null&&gu(r);break;case 30:gu(r);break;default:gu(r)}a=a.sibling}}function Al(a,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,v=a,w=r,I=w.flags;switch(w.tag){case 0:case 11:case 15:Al(v,w,c),qf(4,w);break;case 1:if(Al(v,w,c),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Re){$n(h,h.return,Re)}if(h=w,v=h.updateQueue,v!==null){var ne=h.stateNode;try{var xe=v.shared.hiddenCallbacks;if(xe!==null)for(v.shared.hiddenCallbacks=null,v=0;v<xe.length;v++)ja(xe[v],ne)}catch(Re){$n(h,h.return,Re)}}c&&I&64&&Zv(w),Vf(w,w.return);break;case 27:Qv(w);case 26:case 5:Al(v,w,c),c&&h===null&&I&4&&Yv(w),Vf(w,w.return);break;case 12:Al(v,w,c);break;case 31:Al(v,w,c),c&&I&4&&sy(v,w);break;case 13:Al(v,w,c),c&&I&4&&ay(v,w);break;case 22:w.memoizedState===null&&Al(v,w,c),Vf(w,w.return);break;case 30:break;default:Al(v,w,c)}r=r.sibling}}function X0(a,r){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&du(c))}function Z0(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&du(a))}function Kr(a,r,c,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)oy(a,r,c,h),r=r.sibling}function oy(a,r,c,h){var v=r.flags;switch(r.tag){case 0:case 11:case 15:Kr(a,r,c,h),v&2048&&qf(9,r);break;case 1:Kr(a,r,c,h);break;case 3:Kr(a,r,c,h),v&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&du(a)));break;case 12:if(v&2048){Kr(a,r,c,h),a=r.stateNode;try{var w=r.memoizedProps,I=w.id,ne=w.onPostCommit;typeof ne=="function"&&ne(I,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(xe){$n(r,r.return,xe)}}else Kr(a,r,c,h);break;case 31:Kr(a,r,c,h);break;case 13:Kr(a,r,c,h);break;case 23:break;case 22:w=r.stateNode,I=r.alternate,r.memoizedState!==null?w._visibility&2?Kr(a,r,c,h):Gf(a,r):w._visibility&2?Kr(a,r,c,h):(w._visibility|=2,Ad(a,r,c,h,(r.subtreeFlags&10256)!==0||!1)),v&2048&&X0(I,r);break;case 24:Kr(a,r,c,h),v&2048&&Z0(r.alternate,r);break;default:Kr(a,r,c,h)}}function Ad(a,r,c,h,v){for(v=v&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var w=a,I=r,ne=c,xe=h,Re=I.flags;switch(I.tag){case 0:case 11:case 15:Ad(w,I,ne,xe,v),qf(8,I);break;case 23:break;case 22:var qe=I.stateNode;I.memoizedState!==null?qe._visibility&2?Ad(w,I,ne,xe,v):Gf(w,I):(qe._visibility|=2,Ad(w,I,ne,xe,v)),v&&Re&2048&&X0(I.alternate,I);break;case 24:Ad(w,I,ne,xe,v),v&&Re&2048&&Z0(I.alternate,I);break;default:Ad(w,I,ne,xe,v)}r=r.sibling}}function Gf(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=a,h=r,v=h.flags;switch(h.tag){case 22:Gf(c,h),v&2048&&X0(h.alternate,h);break;case 24:Gf(c,h),v&2048&&Z0(h.alternate,h);break;default:Gf(c,h)}r=r.sibling}}var Wf=8192;function Cd(a,r,c){if(a.subtreeFlags&Wf)for(a=a.child;a!==null;)ly(a,r,c),a=a.sibling}function ly(a,r,c){switch(a.tag){case 26:Cd(a,r,c),a.flags&Wf&&a.memoizedState!==null&&iT(c,Yr,a.memoizedState,a.memoizedProps);break;case 5:Cd(a,r,c);break;case 3:case 4:var h=Yr;Yr=Sm(a.stateNode.containerInfo),Cd(a,r,c),Yr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Wf,Wf=16777216,Cd(a,r,c),Wf=h):Cd(a,r,c));break;default:Cd(a,r,c)}}function cy(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function Xf(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Aa=h,dy(h,a)}cy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uy(a),a=a.sibling}function uy(a){switch(a.tag){case 0:case 11:case 15:Xf(a),a.flags&2048&&uc(9,a,a.return);break;case 3:Xf(a);break;case 12:Xf(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,dm(a)):Xf(a);break;default:Xf(a)}}function dm(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Aa=h,dy(h,a)}cy(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:uc(8,r,r.return),dm(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,dm(r));break;default:dm(r)}a=a.sibling}}function dy(a,r){for(;Aa!==null;){var c=Aa;switch(c.tag){case 0:case 11:case 15:uc(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:du(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Aa=h;else e:for(c=a;Aa!==null;){h=Aa;var v=h.sibling,w=h.return;if(ty(h),h===c){Aa=null;break e}if(v!==null){v.return=w,Aa=v;break e}Aa=w}}}var b6={getCacheForType:function(a){var r=fa(Ds),c=r.data.get(a);return c===void 0&&(c=a(),r.data.set(a,c)),c},cacheSignal:function(){return fa(Ds).controller.signal}},w6=typeof WeakMap=="function"?WeakMap:Map,Un=0,ls=null,gn=null,yn=0,Zn=0,Wi=null,dc=!1,Td=!1,$0=!1,Cl=0,Us=0,fc=0,xu=0,Y0=0,Xi=0,Md=0,Zf=null,Ei=null,K0=!1,fm=0,fy=0,hm=1/0,mm=null,hc=null,ma=0,mc=null,Ed=null,Tl=0,Q0=0,J0=null,hy=null,$f=0,eg=null;function Zi(){return(Un&2)!==0&&yn!==0?yn&-yn:z.T!==null?rg():Gs()}function my(){if(Xi===0)if((yn&536870912)===0||pn){var a=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),Xi=a}else Xi=536870912;return a=xs.current,a!==null&&(a.flags|=32),Xi}function _i(a,r,c){(a===ls&&(Zn===2||Zn===9)||a.cancelPendingCommit!==null)&&(_d(a,0),pc(a,yn,Xi,!1)),ct(a,c),((Un&2)===0||a!==ls)&&(a===ls&&((Un&2)===0&&(xu|=c),Us===4&&pc(a,yn,Xi,!1)),Ro(a))}function py(a,r,c){if((Un&6)!==0)throw Error(i(327));var h=!c&&(r&127)===0&&(r&a.expiredLanes)===0||Pn(a,r),v=h?S6(a,r):ng(a,r,!0),w=h;do{if(v===0){Td&&!h&&pc(a,r,0,!1);break}else{if(c=a.current.alternate,w&&!N6(c)){v=ng(a,r,!1),w=!1;continue}if(v===2){if(w=r,a.errorRecoveryDisabledLanes&w)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){r=I;e:{var ne=a;v=Zf;var xe=ne.current.memoizedState.isDehydrated;if(xe&&(_d(ne,I).flags|=256),I=ng(ne,I,!1),I!==2){if($0&&!xe){ne.errorRecoveryDisabledLanes|=w,xu|=w,v=4;break e}w=Ei,Ei=v,w!==null&&(Ei===null?Ei=w:Ei.push.apply(Ei,w))}v=I}if(w=!1,v!==2)continue}}if(v===1){_d(a,0),pc(a,r,0,!0);break}e:{switch(h=a,w=v,w){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:pc(h,r,Xi,!dc);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=fm+300-ut(),10<v)){if(pc(h,r,Xi,!dc),ot(h,0,!0)!==0)break e;Tl=r,h.timeoutHandle=Wy(gy.bind(null,h,c,Ei,mm,K0,r,Xi,xu,Md,dc,w,"Throttled",-0,0),v);break e}gy(h,c,Ei,mm,K0,r,Xi,xu,Md,dc,w,null,-0,0)}}break}while(!0);Ro(a)}function gy(a,r,c,h,v,w,I,ne,xe,Re,qe,Ye,Oe,He){if(a.timeoutHandle=-1,Ye=r.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fi},ly(r,w,Ye);var gt=(w&62914560)===w?fm-ut():(w&4194048)===w?fy-ut():0;if(gt=rT(Ye,gt),gt!==null){Tl=w,a.cancelPendingCommit=gt(Sy.bind(null,a,r,w,c,h,v,I,ne,xe,qe,Ye,null,Oe,He)),pc(a,w,I,!Re);return}}Sy(a,r,w,c,h,v,I,ne,xe)}function N6(a){for(var r=a;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],w=v.getSnapshot;v=v.value;try{if(!la(w(),v))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pc(a,r,c,h){r&=~Y0,r&=~xu,a.suspendedLanes|=r,a.pingedLanes&=~r,h&&(a.warmLanes|=r),h=a.expirationTimes;for(var v=r;0<v;){var w=31-Zt(v),I=1<<w;h[w]=-1,v&=~I}c!==0&&Ea(a,c,r)}function pm(){return(Un&6)===0?(Yf(0),!1):!0}function tg(){if(gn!==null){if(Zn===0)var a=gn.return;else a=gn,pr=Ao=null,vd(a),Ke=null,xt=0,a=gn;for(;a!==null;)Xv(a.alternate,a),a=a.return;gn=null}}function _d(a,r){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,U6(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Tl=0,tg(),ls=a,gn=c=vi(a.current,null),yn=r,Zn=0,Wi=null,dc=!1,Td=Pn(a,r),$0=!1,Md=Xi=Y0=xu=fc=Us=0,Ei=Zf=null,K0=!1,(r&8)!==0&&(r|=r&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=r;0<h;){var v=31-Zt(h),w=1<<v;r|=a[v],h&=~w}return Cl=r,iu(),c}function xy(a,r){Et=null,z.H=Ff,r===Ne||r===de?(r=We(),Zn=3):r===Le?(r=We(),Zn=4):Zn=r===D0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Wi=r,gn===null&&(Us=1,am(a,yi(r,a.current)))}function vy(){var a=xs.current;return a===null?!0:(yn&4194048)===yn?Tn===null:(yn&62914560)===yn||(yn&536870912)!==0?a===Tn:!1}function yy(){var a=z.H;return z.H=Ff,a===null?Ff:a}function by(){var a=z.A;return z.A=b6,a}function gm(){Us=4,dc||(yn&4194048)!==yn&&xs.current!==null||(Td=!0),(fc&134217727)===0&&(xu&134217727)===0||ls===null||pc(ls,yn,Xi,!1)}function ng(a,r,c){var h=Un;Un|=2;var v=yy(),w=by();(ls!==a||yn!==r)&&(mm=null,_d(a,r)),r=!1;var I=Us;e:do try{if(Zn!==0&&gn!==null){var ne=gn,xe=Wi;switch(Zn){case 8:tg(),I=6;break e;case 3:case 2:case 9:case 6:xs.current===null&&(r=!0);var Re=Zn;if(Zn=0,Wi=null,kd(a,ne,xe,Re),c&&Td){I=0;break e}break;default:Re=Zn,Zn=0,Wi=null,kd(a,ne,xe,Re)}}j6(),I=Us;break}catch(qe){xy(a,qe)}while(!0);return r&&a.shellSuspendCounter++,pr=Ao=null,Un=h,z.H=v,z.A=w,gn===null&&(ls=null,yn=0,iu()),I}function j6(){for(;gn!==null;)wy(gn)}function S6(a,r){var c=Un;Un|=2;var h=yy(),v=by();ls!==a||yn!==r?(mm=null,hm=ut()+500,_d(a,r)):Td=Pn(a,r);e:do try{if(Zn!==0&&gn!==null){r=gn;var w=Wi;t:switch(Zn){case 1:Zn=0,Wi=null,kd(a,r,w,1);break;case 2:case 9:if(Ee(w)){Zn=0,Wi=null,Ny(r);break}r=function(){Zn!==2&&Zn!==9||ls!==a||(Zn=7),Ro(a)},w.then(r,r);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:Ee(w)?(Zn=0,Wi=null,Ny(r)):(Zn=0,Wi=null,kd(a,r,w,7));break;case 5:var I=null;switch(gn.tag){case 26:I=gn.memoizedState;case 5:case 27:var ne=gn;if(I?o5(I):ne.stateNode.complete){Zn=0,Wi=null;var xe=ne.sibling;if(xe!==null)gn=xe;else{var Re=ne.return;Re!==null?(gn=Re,xm(Re)):gn=null}break t}}Zn=0,Wi=null,kd(a,r,w,5);break;case 6:Zn=0,Wi=null,kd(a,r,w,6);break;case 8:tg(),Us=6;break e;default:throw Error(i(462))}}A6();break}catch(qe){xy(a,qe)}while(!0);return pr=Ao=null,z.H=h,z.A=v,Un=c,gn!==null?0:(ls=null,yn=0,iu(),Us)}function A6(){for(;gn!==null&&!le();)wy(gn)}function wy(a){var r=Gv(a.alternate,a,Cl);a.memoizedProps=a.pendingProps,r===null?xm(a):gn=r}function Ny(a){var r=a,c=r.alternate;switch(r.tag){case 15:case 0:r=Hv(c,r,r.pendingProps,r.type,void 0,yn);break;case 11:r=Hv(c,r,r.pendingProps,r.type.render,r.ref,yn);break;case 5:vd(r);default:Xv(c,r),r=gn=lu(r,Cl),r=Gv(c,r,Cl)}a.memoizedProps=a.pendingProps,r===null?xm(a):gn=r}function kd(a,r,c,h){pr=Ao=null,vd(r),Ke=null,xt=0;var v=r.return;try{if(h6(a,v,r,c,yn)){Us=1,am(a,yi(c,a.current)),gn=null;return}}catch(w){if(v!==null)throw gn=v,w;Us=1,am(a,yi(c,a.current)),gn=null;return}r.flags&32768?(pn||h===1?a=!0:Td||(yn&536870912)!==0?a=!1:(dc=a=!0,(h===2||h===9||h===3||h===6)&&(h=xs.current,h!==null&&h.tag===13&&(h.flags|=16384))),jy(r,a)):xm(r)}function xm(a){var r=a;do{if((r.flags&32768)!==0){jy(r,dc);return}a=r.return;var c=g6(r.alternate,r,Cl);if(c!==null){gn=c;return}if(r=r.sibling,r!==null){gn=r;return}gn=r=a}while(r!==null);Us===0&&(Us=5)}function jy(a,r){do{var c=x6(a.alternate,a);if(c!==null){c.flags&=32767,gn=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(a=a.sibling,a!==null)){gn=a;return}gn=a=c}while(a!==null);Us=6,gn=null}function Sy(a,r,c,h,v,w,I,ne,xe){a.cancelPendingCommit=null;do vm();while(ma!==0);if((Un&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(w=r.lanes|r.childLanes,w|=ad,bs(a,c,w,I,ne,xe),a===ls&&(gn=ls=null,yn=0),Ed=r,mc=a,Tl=c,Q0=w,J0=v,hy=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,E6(_t,function(){return Ey(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,v=K.p,K.p=2,I=Un,Un|=4;try{v6(a,r,c)}finally{Un=I,K.p=v,z.T=h}}ma=1,Ay(),Cy(),Ty()}}function Ay(){if(ma===1){ma=0;var a=mc,r=Ed,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var h=K.p;K.p=2;var v=Un;Un|=4;try{iy(r,a);var w=mg,I=Ur(a.containerInfo),ne=w.focusedElem,xe=w.selectionRange;if(I!==ne&&ne&&ne.ownerDocument&&zr(ne.ownerDocument.documentElement,ne)){if(xe!==null&&hr(ne)){var Re=xe.start,qe=xe.end;if(qe===void 0&&(qe=Re),"selectionStart"in ne)ne.selectionStart=Re,ne.selectionEnd=Math.min(qe,ne.value.length);else{var Ye=ne.ownerDocument||document,Oe=Ye&&Ye.defaultView||window;if(Oe.getSelection){var He=Oe.getSelection(),gt=ne.textContent.length,Ft=Math.min(xe.start,gt),ss=xe.end===void 0?Ft:Math.min(xe.end,gt);!He.extend&&Ft>ss&&(I=ss,ss=Ft,Ft=I);var Ce=Jl(ne,Ft),je=Jl(ne,ss);if(Ce&&je&&(He.rangeCount!==1||He.anchorNode!==Ce.node||He.anchorOffset!==Ce.offset||He.focusNode!==je.node||He.focusOffset!==je.offset)){var De=Ye.createRange();De.setStart(Ce.node,Ce.offset),He.removeAllRanges(),Ft>ss?(He.addRange(De),He.extend(je.node,je.offset)):(De.setEnd(je.node,je.offset),He.addRange(De))}}}}for(Ye=[],He=ne;He=He.parentNode;)He.nodeType===1&&Ye.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<Ye.length;ne++){var Ze=Ye[ne];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}_m=!!hg,mg=hg=null}finally{Un=v,K.p=h,z.T=c}}a.current=r,ma=2}}function Cy(){if(ma===2){ma=0;var a=mc,r=Ed,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var h=K.p;K.p=2;var v=Un;Un|=4;try{ey(a,r.alternate,r)}finally{Un=v,K.p=h,z.T=c}}ma=3}}function Ty(){if(ma===4||ma===3){ma=0,et();var a=mc,r=Ed,c=Tl,h=hy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ma=5:(ma=0,Ed=mc=null,My(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(hc=null),qn(c),r=r.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(cn,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=z.T,v=K.p,K.p=2,z.T=null;try{for(var w=a.onRecoverableError,I=0;I<h.length;I++){var ne=h[I];w(ne.value,{componentStack:ne.stack})}}finally{z.T=r,K.p=v}}(Tl&3)!==0&&vm(),Ro(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===eg?$f++:($f=0,eg=a):$f=0,Yf(0)}}function My(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,du(r)))}function vm(){return Ay(),Cy(),Ty(),Ey()}function Ey(){if(ma!==5)return!1;var a=mc,r=Q0;Q0=0;var c=qn(Tl),h=z.T,v=K.p;try{K.p=32>c?32:c,z.T=null,c=J0,J0=null;var w=mc,I=Tl;if(ma=0,Ed=mc=null,Tl=0,(Un&6)!==0)throw Error(i(331));var ne=Un;if(Un|=4,uy(w.current),oy(w,w.current,I,c),Un=ne,Yf(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(cn,w)}catch{}return!0}finally{K.p=v,z.T=h,My(a,r)}}function _y(a,r,c){r=yi(c,r),r=L0(a.stateNode,r,2),a=Jt(a,r,2),a!==null&&(ct(a,2),Ro(a))}function $n(a,r,c){if(a.tag===3)_y(a,a,c);else for(;r!==null;){if(r.tag===3){_y(r,a,c);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hc===null||!hc.has(h))){a=yi(c,a),c=kv(2),h=Jt(r,c,2),h!==null&&(Lv(c,h,r,a),ct(h,2),Ro(h));break}}r=r.return}}function sg(a,r,c){var h=a.pingCache;if(h===null){h=a.pingCache=new w6;var v=new Set;h.set(r,v)}else v=h.get(r),v===void 0&&(v=new Set,h.set(r,v));v.has(c)||($0=!0,v.add(c),a=C6.bind(null,a,r,c),r.then(a,a))}function C6(a,r,c){var h=a.pingCache;h!==null&&h.delete(r),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ls===a&&(yn&c)===c&&(Us===4||Us===3&&(yn&62914560)===yn&&300>ut()-fm?(Un&2)===0&&_d(a,0):Y0|=c,Md===yn&&(Md=0)),Ro(a)}function ky(a,r){r===0&&(r=fs()),a=Vr(a,r),a!==null&&(ct(a,r),Ro(a))}function T6(a){var r=a.memoizedState,c=0;r!==null&&(c=r.retryLane),ky(a,c)}function M6(a,r){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(r),ky(a,c)}function E6(a,r){return $e(a,r)}var ym=null,Ld=null,ag=!1,bm=!1,ig=!1,gc=0;function Ro(a){a!==Ld&&a.next===null&&(Ld===null?ym=Ld=a:Ld=Ld.next=a),bm=!0,ag||(ag=!0,k6())}function Yf(a,r){if(!ig&&bm){ig=!0;do for(var c=!1,h=ym;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var I=h.suspendedLanes,ne=h.pingedLanes;w=(1<<31-Zt(42|a)+1)-1,w&=v&~(I&~ne),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Oy(h,w))}else w=yn,w=ot(h,h===ls?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Pn(h,w)||(c=!0,Oy(h,w));h=h.next}while(c);ig=!1}}function _6(){Ly()}function Ly(){bm=ag=!1;var a=0;gc!==0&&z6()&&(a=gc);for(var r=ut(),c=null,h=ym;h!==null;){var v=h.next,w=Dy(h,r);w===0?(h.next=null,c===null?ym=v:c.next=v,v===null&&(Ld=c)):(c=h,(a!==0||(w&3)!==0)&&(bm=!0)),h=v}ma!==0&&ma!==5||Yf(a),gc!==0&&(gc=0)}function Dy(a,r){for(var c=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var I=31-Zt(w),ne=1<<I,xe=v[I];xe===-1?((ne&c)===0||(ne&h)!==0)&&(v[I]=jn(ne,r)):xe<=r&&(a.expiredLanes|=ne),w&=~ne}if(r=ls,c=yn,c=ot(a,a===r?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===r&&(Zn===2||Zn===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&st(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Pn(a,c)){if(r=c&-c,r===a.callbackPriority)return r;switch(h!==null&&st(h),qn(c)){case 2:case 8:c=mn;break;case 32:c=_t;break;case 268435456:c=Ct;break;default:c=_t}return h=Ry.bind(null,a),c=$e(c,h),a.callbackPriority=r,a.callbackNode=c,r}return h!==null&&h!==null&&st(h),a.callbackPriority=2,a.callbackNode=null,2}function Ry(a,r){if(ma!==0&&ma!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(vm()&&a.callbackNode!==c)return null;var h=yn;return h=ot(a,a===ls?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(py(a,h,r),Dy(a,ut()),a.callbackNode!=null&&a.callbackNode===c?Ry.bind(null,a):null)}function Oy(a,r){if(vm())return null;py(a,r,!0)}function k6(){q6(function(){(Un&6)!==0?$e(At,_6):Ly()})}function rg(){if(gc===0){var a=g;a===0&&(a=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),gc=a}return gc}function Py(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hi(""+a)}function Iy(a,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,a.id&&c.setAttribute("form",a.id),r.parentNode.insertBefore(c,r),a=new FormData(a),c.parentNode.removeChild(c),a}function L6(a,r,c,h,v){if(r==="submit"&&c&&c.stateNode===v){var w=Py((v[hs]||null).action),I=h.submitter;I&&(r=(r=I[hs]||null)?Py(r.formAction):I.getAttribute("formAction"),r!==null&&(w=r,I=null));var ne=new ir("action","action",null,h,v);a.push({event:ne,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(gc!==0){var xe=I?Iy(v,I):new FormData(v);C0(c,{pending:!0,data:xe,method:v.method,action:w},null,xe)}}else typeof w=="function"&&(ne.preventDefault(),xe=I?Iy(v,I):new FormData(v),C0(c,{pending:!0,data:xe,method:v.method,action:w},w,xe))},currentTarget:v}]})}}for(var og=0;og<fl.length;og++){var lg=fl[og],D6=lg.toLowerCase(),R6=lg[0].toUpperCase()+lg.slice(1);xi(D6,"on"+R6)}xi(dl,"onAnimationEnd"),xi(su,"onAnimationIteration"),xi(Af,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Gh,"onTransitionRun"),xi(Wh,"onTransitionStart"),xi(Xh,"onTransitionCancel"),xi(Cf,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function By(a,r){r=(r&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],v=h.event;h=h.listeners;e:{var w=void 0;if(r)for(var I=h.length-1;0<=I;I--){var ne=h[I],xe=ne.instance,Re=ne.currentTarget;if(ne=ne.listener,xe!==w&&v.isPropagationStopped())break e;w=ne,v.currentTarget=Re;try{w(v)}catch(qe){au(qe)}v.currentTarget=null,w=xe}else for(I=0;I<h.length;I++){if(ne=h[I],xe=ne.instance,Re=ne.currentTarget,ne=ne.listener,xe!==w&&v.isPropagationStopped())break e;w=ne,v.currentTarget=Re;try{w(v)}catch(qe){au(qe)}v.currentTarget=null,w=xe}}}}function xn(a,r){var c=r[ei];c===void 0&&(c=r[ei]=new Set);var h=a+"__bubble";c.has(h)||(Hy(r,a,2,!1),c.add(h))}function cg(a,r,c){var h=0;r&&(h|=4),Hy(c,a,h,r)}var wm="_reactListening"+Math.random().toString(36).slice(2);function ug(a){if(!a[wm]){a[wm]=!0,zc.forEach(function(c){c!=="selectionchange"&&(O6.has(c)||cg(c,!1,a),cg(c,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[wm]||(r[wm]=!0,cg("selectionchange",!1,r))}}function Hy(a,r,c,h){switch(m5(r)){case 2:var v=cT;break;case 8:v=uT;break;default:v=Ag}c=v.bind(null,r,c,a),v=void 0,!eu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(r,c,{capture:!0,passive:v}):a.addEventListener(r,c,!0):v!==void 0?a.addEventListener(r,c,{passive:v}):a.addEventListener(r,c,!1)}function dg(a,r,c,h,v){var w=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var ne=h.stateNode.containerInfo;if(ne===v)break;if(I===4)for(I=h.return;I!==null;){var xe=I.tag;if((xe===3||xe===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;ne!==null;){if(I=Pi(ne),I===null)return;if(xe=I.tag,xe===5||xe===6||xe===26||xe===27){h=w=I;continue e}ne=ne.parentNode}}h=h.return}Qu(function(){var Re=w,qe=nl(c),Ye=[];e:{var Oe=Tf.get(a);if(Oe!==void 0){var He=ir,gt=a;switch(a){case"keypress":if(Lr(c)===0)break e;case"keydown":case"keyup":He=En;break;case"focusin":gt="focus",He=Pr;break;case"focusout":gt="blur",He=Pr;break;case"beforeblur":case"afterblur":He=Pr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Ws;break;case dl:case su:case Af:He=A;break;case Cf:He=ra;break;case"scroll":case"scrollend":He=Wl;break;case"wheel":He=Ua;break;case"copy":case"cut":case"paste":He=pe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=_s;break;case"toggle":case"beforetoggle":He=Xl}var Ft=(r&4)!==0,ss=!Ft&&(a==="scroll"||a==="scrollend"),Ce=Ft?Oe!==null?Oe+"Capture":null:Oe;Ft=[];for(var je=Re,De;je!==null;){var Ze=je;if(De=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||De===null||Ce===null||(Ze=si(je,Ce),Ze!=null&&Ft.push(Qf(je,Ze,De))),ss)break;je=je.return}0<Ft.length&&(Oe=new He(Oe,gt,null,c,qe),Ye.push({event:Oe,listeners:Ft}))}}if((r&7)===0){e:{if(Oe=a==="mouseover"||a==="pointerover",He=a==="mouseout"||a==="pointerout",Oe&&c!==kr&&(gt=c.relatedTarget||c.fromElement)&&(Pi(gt)||gt[va]))break e;if((He||Oe)&&(Oe=qe.window===qe?qe:(Oe=qe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,He?(gt=c.relatedTarget||c.toElement,He=Re,gt=gt?Pi(gt):null,gt!==null&&(ss=l(gt),Ft=gt.tag,gt!==ss||Ft!==5&&Ft!==27&&Ft!==6)&&(gt=null)):(He=null,gt=Re),He!==gt)){if(Ft=rr,Ze="onMouseLeave",Ce="onMouseEnter",je="mouse",(a==="pointerout"||a==="pointerover")&&(Ft=_s,Ze="onPointerLeave",Ce="onPointerEnter",je="pointer"),ss=He==null?Oe:el(He),De=gt==null?Oe:el(gt),Oe=new Ft(Ze,je+"leave",He,c,qe),Oe.target=ss,Oe.relatedTarget=De,Ze=null,Pi(qe)===Re&&(Ft=new Ft(Ce,je+"enter",gt,c,qe),Ft.target=De,Ft.relatedTarget=ss,Ze=Ft),ss=Ze,He&&gt)t:{for(Ft=P6,Ce=He,je=gt,De=0,Ze=Ce;Ze;Ze=Ft(Ze))De++;Ze=0;for(var Dt=je;Dt;Dt=Ft(Dt))Ze++;for(;0<De-Ze;)Ce=Ft(Ce),De--;for(;0<Ze-De;)je=Ft(je),Ze--;for(;De--;){if(Ce===je||je!==null&&Ce===je.alternate){Ft=Ce;break t}Ce=Ft(Ce),je=Ft(je)}Ft=null}else Ft=null;He!==null&&Fy(Ye,Oe,He,Ft,!1),gt!==null&&ss!==null&&Fy(Ye,ss,gt,Ft,!0)}}e:{if(Oe=Re?el(Re):window,He=Oe.nodeName&&Oe.nodeName.toLowerCase(),He==="select"||He==="input"&&Oe.type==="file")var In=wo;else if(tu(Oe))if(qa)In=dr;else{In=ks;var Nt=Kl}else He=Oe.nodeName,!He||He.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Re&&Kc(Re.elementType)&&(In=wo):In=sd;if(In&&(In=In(a,Re))){ri(Ye,In,c,qe);break e}Nt&&Nt(a,Oe,Re),a==="focusout"&&Re&&Oe.type==="number"&&Re.memoizedProps.value!=null&&Xc(Oe,"number",Oe.value)}switch(Nt=Re?el(Re):window,a){case"focusin":(tu(Nt)||Nt.contentEditable==="true")&&(oi=Nt,qr=Re,ba=null);break;case"focusout":ba=qr=oi=null;break;case"mousedown":gi=!0;break;case"contextmenu":case"mouseup":case"dragend":gi=!1,_n(Ye,c,qe);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":_n(Ye,c,qe)}var tn;if(or)e:{switch(a){case"compositionstart":var bn="onCompositionStart";break e;case"compositionend":bn="onCompositionEnd";break e;case"compositionupdate":bn="onCompositionUpdate";break e}bn=void 0}else lr?bo(a,c)&&(bn="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(bn="onCompositionStart");bn&&(vo&&c.locale!=="ko"&&(lr||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&lr&&(tn=il()):(ai=qe,al="value"in ai?ai.value:ai.textContent,lr=!0)),Nt=Nm(Re,bn),0<Nt.length&&(bn=new Ae(bn,a,null,c,qe),Ye.push({event:bn,listeners:Nt}),tn?bn.data=tn:(tn=Zl(c),tn!==null&&(bn.data=tn)))),(tn=cl?ws(a,c):Ir(a,c))&&(bn=Nm(Re,"onBeforeInput"),0<bn.length&&(Nt=new Ae("onBeforeInput","beforeinput",null,c,qe),Ye.push({event:Nt,listeners:bn}),Nt.data=tn)),L6(Ye,a,Re,c,qe)}By(Ye,r)})}function Qf(a,r,c){return{instance:a,listener:r,currentTarget:c}}function Nm(a,r){for(var c=r+"Capture",h=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=si(a,c),v!=null&&h.unshift(Qf(a,v,w)),v=si(a,r),v!=null&&h.push(Qf(a,v,w))),a.tag===3)return h;a=a.return}return[]}function P6(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Fy(a,r,c,h,v){for(var w=r._reactName,I=[];c!==null&&c!==h;){var ne=c,xe=ne.alternate,Re=ne.stateNode;if(ne=ne.tag,xe!==null&&xe===h)break;ne!==5&&ne!==26&&ne!==27||Re===null||(xe=Re,v?(Re=si(c,w),Re!=null&&I.unshift(Qf(c,Re,xe))):v||(Re=si(c,w),Re!=null&&I.push(Qf(c,Re,xe)))),c=c.return}I.length!==0&&a.push({event:r,listeners:I})}var I6=/\r\n?/g,B6=/\u0000|\uFFFD/g;function zy(a){return(typeof a=="string"?a:""+a).replace(I6,`
`).replace(B6,"")}function Uy(a,r){return r=zy(r),zy(a)===r}function ns(a,r,c,h,v,w){switch(c){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||ni(a,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&ni(a,""+h);break;case"className":ql(a,"class",h);break;case"tabIndex":ql(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(a,c,h);break;case"style":Yu(a,h,w);break;case"data":if(r!=="object"){ql(a,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Hi(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(r!=="input"&&ns(a,r,"name",v.name,v,null),ns(a,r,"formEncType",v.formEncType,v,null),ns(a,r,"formMethod",v.formMethod,v,null),ns(a,r,"formTarget",v.formTarget,v,null)):(ns(a,r,"encType",v.encType,v,null),ns(a,r,"method",v.method,v,null),ns(a,r,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Hi(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Fi);break;case"onScroll":h!=null&&xn("scroll",a);break;case"onScrollEnd":h!=null&&xn("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Hi(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":xn("beforetoggle",a),xn("toggle",a),Mr(a,"popover",h);break;case"xlinkActuate":Vn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Vn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Vn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Vn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Vn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Vn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Vn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Vn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Vn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Mr(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Qc.get(c)||c,Mr(a,c,h))}}function fg(a,r,c,h,v,w){switch(c){case"style":Yu(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"children":typeof h=="string"?ni(a,h):(typeof h=="number"||typeof h=="bigint")&&ni(a,""+h);break;case"onScroll":h!=null&&xn("scroll",a);break;case"onScrollEnd":h!=null&&xn("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ti.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),r=c.slice(2,v?c.length-7:void 0),w=a[hs]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(r,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(r,h,v);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Mr(a,c,h)}}}function Ia(a,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xn("error",a),xn("load",a);var h=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var I=c[w];if(I!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ns(a,r,w,I,c,null)}}v&&ns(a,r,"srcSet",c.srcSet,c,null),h&&ns(a,r,"src",c.src,c,null);return;case"input":xn("invalid",a);var ne=w=I=v=null,xe=null,Re=null;for(h in c)if(c.hasOwnProperty(h)){var qe=c[h];if(qe!=null)switch(h){case"name":v=qe;break;case"type":I=qe;break;case"checked":xe=qe;break;case"defaultChecked":Re=qe;break;case"value":w=qe;break;case"defaultValue":ne=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,r));break;default:ns(a,r,h,qe,c,null)}}Zu(a,w,ne,xe,Re,I,v,!1);return;case"select":xn("invalid",a),h=I=w=null;for(v in c)if(c.hasOwnProperty(v)&&(ne=c[v],ne!=null))switch(v){case"value":w=ne;break;case"defaultValue":I=ne;break;case"multiple":h=ne;default:ns(a,r,v,ne,c,null)}r=w,c=I,a.multiple=!!h,r!=null?La(a,!!h,r,!1):c!=null&&La(a,!!h,c,!0);return;case"textarea":xn("invalid",a),w=v=h=null;for(I in c)if(c.hasOwnProperty(I)&&(ne=c[I],ne!=null))switch(I){case"value":h=ne;break;case"defaultValue":v=ne;break;case"children":w=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:ns(a,r,I,ne,c,null)}$c(a,h,v,w);return;case"option":for(xe in c)if(c.hasOwnProperty(xe)&&(h=c[xe],h!=null))switch(xe){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ns(a,r,xe,h,c,null)}return;case"dialog":xn("beforetoggle",a),xn("toggle",a),xn("cancel",a),xn("close",a);break;case"iframe":case"object":xn("load",a);break;case"video":case"audio":for(h=0;h<Kf.length;h++)xn(Kf[h],a);break;case"image":xn("error",a),xn("load",a);break;case"details":xn("toggle",a);break;case"embed":case"source":case"link":xn("error",a),xn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in c)if(c.hasOwnProperty(Re)&&(h=c[Re],h!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ns(a,r,Re,h,c,null)}return;default:if(Kc(r)){for(qe in c)c.hasOwnProperty(qe)&&(h=c[qe],h!==void 0&&fg(a,r,qe,h,c,void 0));return}}for(ne in c)c.hasOwnProperty(ne)&&(h=c[ne],h!=null&&ns(a,r,ne,h,c,null))}function H6(a,r,c,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,I=null,ne=null,xe=null,Re=null,qe=null;for(He in c){var Ye=c[He];if(c.hasOwnProperty(He)&&Ye!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":xe=Ye;default:h.hasOwnProperty(He)||ns(a,r,He,null,h,Ye)}}for(var Oe in h){var He=h[Oe];if(Ye=c[Oe],h.hasOwnProperty(Oe)&&(He!=null||Ye!=null))switch(Oe){case"type":w=He;break;case"name":v=He;break;case"checked":Re=He;break;case"defaultChecked":qe=He;break;case"value":I=He;break;case"defaultValue":ne=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(i(137,r));break;default:He!==Ye&&ns(a,r,Oe,He,h,Ye)}}Wc(a,I,ne,xe,Re,qe,w,v);return;case"select":He=I=ne=Oe=null;for(w in c)if(xe=c[w],c.hasOwnProperty(w)&&xe!=null)switch(w){case"value":break;case"multiple":He=xe;default:h.hasOwnProperty(w)||ns(a,r,w,null,h,xe)}for(v in h)if(w=h[v],xe=c[v],h.hasOwnProperty(v)&&(w!=null||xe!=null))switch(v){case"value":Oe=w;break;case"defaultValue":ne=w;break;case"multiple":I=w;default:w!==xe&&ns(a,r,v,w,h,xe)}r=ne,c=I,h=He,Oe!=null?La(a,!!c,Oe,!1):!!h!=!!c&&(r!=null?La(a,!!c,r,!0):La(a,!!c,c?[]:"",!1));return;case"textarea":He=Oe=null;for(ne in c)if(v=c[ne],c.hasOwnProperty(ne)&&v!=null&&!h.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:ns(a,r,ne,null,h,v)}for(I in h)if(v=h[I],w=c[I],h.hasOwnProperty(I)&&(v!=null||w!=null))switch(I){case"value":Oe=v;break;case"defaultValue":He=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==w&&ns(a,r,I,v,h,w)}Zc(a,Oe,He);return;case"option":for(var gt in c)if(Oe=c[gt],c.hasOwnProperty(gt)&&Oe!=null&&!h.hasOwnProperty(gt))switch(gt){case"selected":a.selected=!1;break;default:ns(a,r,gt,null,h,Oe)}for(xe in h)if(Oe=h[xe],He=c[xe],h.hasOwnProperty(xe)&&Oe!==He&&(Oe!=null||He!=null))switch(xe){case"selected":a.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:ns(a,r,xe,Oe,h,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in c)Oe=c[Ft],c.hasOwnProperty(Ft)&&Oe!=null&&!h.hasOwnProperty(Ft)&&ns(a,r,Ft,null,h,Oe);for(Re in h)if(Oe=h[Re],He=c[Re],h.hasOwnProperty(Re)&&Oe!==He&&(Oe!=null||He!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,r));break;default:ns(a,r,Re,Oe,h,He)}return;default:if(Kc(r)){for(var ss in c)Oe=c[ss],c.hasOwnProperty(ss)&&Oe!==void 0&&!h.hasOwnProperty(ss)&&fg(a,r,ss,void 0,h,Oe);for(qe in h)Oe=h[qe],He=c[qe],!h.hasOwnProperty(qe)||Oe===He||Oe===void 0&&He===void 0||fg(a,r,qe,Oe,h,He);return}}for(var Ce in c)Oe=c[Ce],c.hasOwnProperty(Ce)&&Oe!=null&&!h.hasOwnProperty(Ce)&&ns(a,r,Ce,null,h,Oe);for(Ye in h)Oe=h[Ye],He=c[Ye],!h.hasOwnProperty(Ye)||Oe===He||Oe==null&&He==null||ns(a,r,Ye,Oe,h,He)}function qy(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F6(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],w=v.transferSize,I=v.initiatorType,ne=v.duration;if(w&&ne&&qy(I)){for(I=0,ne=v.responseEnd,h+=1;h<c.length;h++){var xe=c[h],Re=xe.startTime;if(Re>ne)break;var qe=xe.transferSize,Ye=xe.initiatorType;qe&&qy(Ye)&&(xe=xe.responseEnd,I+=qe*(xe<ne?1:(ne-Re)/(xe-Re)))}if(--h,r+=8*(w+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var hg=null,mg=null;function jm(a){return a.nodeType===9?a:a.ownerDocument}function Vy(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function pg(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gg=null;function z6(){var a=window.event;return a&&a.type==="popstate"?a===gg?!1:(gg=a,!0):(gg=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,U6=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,q6=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(a){return Xy.resolve(null).then(a).catch(V6)}:Wy;function V6(a){setTimeout(function(){throw a})}function xc(a){return a==="head"}function Zy(a,r){var c=r,h=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(v),Pd(r);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Jf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Jf(c);for(var w=c.firstChild;w;){var I=w.nextSibling,ne=w.nodeName;w[Oi]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=I}}else c==="body"&&Jf(a.ownerDocument.body);c=v}while(c);Pd(r)}function $y(a,r){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?r?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(r?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function xg(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xg(c),po(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function G6(a,r,c,h){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Oi])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=vr(a.nextSibling),a===null)break}return null}function W6(a,r,c){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=vr(a.nextSibling),a===null))return null;return a}function Yy(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=vr(a.nextSibling),a===null))return null;return a}function vg(a){return a.data==="$?"||a.data==="$~"}function yg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function X6(a,r){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||c.readyState!=="loading")r();else{var h=function(){r(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function vr(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var bg=null;function Ky(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(r===0)return vr(a.nextSibling);r--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||r++}a=a.nextSibling}return null}function Qy(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(r===0)return a;r--}else c!=="/$"&&c!=="/&"||r++}a=a.previousSibling}return null}function Jy(a,r,c){switch(r=jm(c),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Jf(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);po(a)}var yr=new Map,e5=new Set;function Sm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ml=K.d;K.d={f:Z6,r:$6,D:Y6,C:K6,L:Q6,m:J6,X:tT,S:eT,M:nT};function Z6(){var a=Ml.f(),r=pm();return a||r}function $6(a){var r=Ii(a);r!==null&&r.tag===5&&r.type==="form"?xv(r):Ml.r(a)}var Dd=typeof document>"u"?null:document;function t5(a,r,c){var h=Dd;if(h&&typeof r=="string"&&r){var v=ya(r);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),e5.has(v)||(e5.add(v),a={rel:a,crossOrigin:c,href:r},h.querySelector(v)===null&&(r=h.createElement("link"),Ia(r,"link",a),Ms(r),h.head.appendChild(r)))}}function Y6(a){Ml.D(a),t5("dns-prefetch",a,null)}function K6(a,r){Ml.C(a,r),t5("preconnect",a,r)}function Q6(a,r,c){Ml.L(a,r,c);var h=Dd;if(h&&a&&r){var v='link[rel="preload"][as="'+ya(r)+'"]';r==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+ya(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+ya(c.imageSizes)+'"]')):v+='[href="'+ya(a)+'"]';var w=v;switch(r){case"style":w=Rd(a);break;case"script":w=Od(a)}yr.has(w)||(a=x({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:a,as:r},c),yr.set(w,a),h.querySelector(v)!==null||r==="style"&&h.querySelector(eh(w))||r==="script"&&h.querySelector(th(w))||(r=h.createElement("link"),Ia(r,"link",a),Ms(r),h.head.appendChild(r)))}}function J6(a,r){Ml.m(a,r);var c=Dd;if(c&&a){var h=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+ya(h)+'"][href="'+ya(a)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Od(a)}if(!yr.has(w)&&(a=x({rel:"modulepreload",href:a},r),yr.set(w,a),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(th(w)))return}h=c.createElement("link"),Ia(h,"link",a),Ms(h),c.head.appendChild(h)}}}function eT(a,r,c){Ml.S(a,r,c);var h=Dd;if(h&&a){var v=nr(h).hoistableStyles,w=Rd(a);r=r||"default";var I=v.get(w);if(!I){var ne={loading:0,preload:null};if(I=h.querySelector(eh(w)))ne.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":r},c),(c=yr.get(w))&&wg(a,c);var xe=I=h.createElement("link");Ms(xe),Ia(xe,"link",a),xe._p=new Promise(function(Re,qe){xe.onload=Re,xe.onerror=qe}),xe.addEventListener("load",function(){ne.loading|=1}),xe.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Am(I,r,h)}I={type:"stylesheet",instance:I,count:1,state:ne},v.set(w,I)}}}function tT(a,r){Ml.X(a,r);var c=Dd;if(c&&a){var h=nr(c).hoistableScripts,v=Od(a),w=h.get(v);w||(w=c.querySelector(th(v)),w||(a=x({src:a,async:!0},r),(r=yr.get(v))&&Ng(a,r),w=c.createElement("script"),Ms(w),Ia(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function nT(a,r){Ml.M(a,r);var c=Dd;if(c&&a){var h=nr(c).hoistableScripts,v=Od(a),w=h.get(v);w||(w=c.querySelector(th(v)),w||(a=x({src:a,async:!0,type:"module"},r),(r=yr.get(v))&&Ng(a,r),w=c.createElement("script"),Ms(w),Ia(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function n5(a,r,c,h){var v=(v=ce.current)?Sm(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=Rd(c.href),c=nr(v).hoistableStyles,h=c.get(r),h||(h={type:"style",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Rd(c.href);var w=nr(v).hoistableStyles,I=w.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,I),(w=v.querySelector(eh(a)))&&!w._p&&(I.instance=w,I.state.loading=5),yr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},yr.set(a,c),w||sT(v,a,c,I.state))),r&&h===null)throw Error(i(528,""));return I}if(r&&h!==null)throw Error(i(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Od(c),c=nr(v).hoistableScripts,h=c.get(r),h||(h={type:"script",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Rd(a){return'href="'+ya(a)+'"'}function eh(a){return'link[rel="stylesheet"]['+a+"]"}function s5(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function sT(a,r,c,h){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=a.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Ia(r,"link",c),Ms(r),a.head.appendChild(r))}function Od(a){return'[src="'+ya(a)+'"]'}function th(a){return"script[async]"+a}function a5(a,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var h=a.querySelector('style[data-href~="'+ya(c.href)+'"]');if(h)return r.instance=h,Ms(h),h;var v=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Ms(h),Ia(h,"style",v),Am(h,c.precedence,a),r.instance=h;case"stylesheet":v=Rd(c.href);var w=a.querySelector(eh(v));if(w)return r.state.loading|=4,r.instance=w,Ms(w),w;h=s5(c),(v=yr.get(v))&&wg(h,v),w=(a.ownerDocument||a).createElement("link"),Ms(w);var I=w;return I._p=new Promise(function(ne,xe){I.onload=ne,I.onerror=xe}),Ia(w,"link",h),r.state.loading|=4,Am(w,c.precedence,a),r.instance=w;case"script":return w=Od(c.src),(v=a.querySelector(th(w)))?(r.instance=v,Ms(v),v):(h=c,(v=yr.get(w))&&(h=x({},c),Ng(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),Ms(v),Ia(v,"link",h),a.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,Am(h,c.precedence,a));return r.instance}function Am(a,r,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,I=0;I<h.length;I++){var ne=h[I];if(ne.dataset.precedence===r)w=ne;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(a,r.firstChild))}function wg(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function Ng(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var Cm=null;function i5(a,r,c){if(Cm===null){var h=new Map,v=Cm=new Map;v.set(c,h)}else v=Cm,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var w=c[v];if(!(w[Oi]||w[Wn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(r)||"";I=a+I;var ne=h.get(I);ne?ne.push(w):h.set(I,[w])}}return h}function r5(a,r,c){a=a.ownerDocument||a,a.head.insertBefore(c,r==="title"?a.querySelector("head > title"):null)}function aT(a,r,c){if(c===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function o5(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function iT(a,r,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Rd(h.href),w=r.querySelector(eh(v));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=Tm.bind(a),r.then(a,a)),c.state.loading|=4,c.instance=w,Ms(w);return}w=r.ownerDocument||r,h=s5(h),(v=yr.get(v))&&wg(h,v),w=w.createElement("link"),Ms(w);var I=w;I._p=new Promise(function(ne,xe){I.onload=ne,I.onerror=xe}),Ia(w,"link",h),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,r),(r=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Tm.bind(a),r.addEventListener("load",c),r.addEventListener("error",c))}}var jg=0;function rT(a,r){return a.stylesheets&&a.count===0&&Em(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&Em(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+r);0<a.imgBytes&&jg===0&&(jg=62500*F6());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Em(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>jg?50:800)+r);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Tm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Mm=null;function Em(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Mm=new Map,r.forEach(oT,a),Mm=null,Tm.call(a))}function oT(a,r){if(!(r.state.loading&4)){var c=Mm.get(a);if(c)var h=c.get(null);else{c=new Map,Mm.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var I=v[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),h=I)}h&&c.set(null,h)}v=r.instance,I=v.getAttribute("data-precedence"),w=c.get(I)||h,w===h&&c.set(null,v),c.set(I,v),this.count++,h=Tm.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),r.state.loading|=4}}var nh={$$typeof:R,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function lT(a,r,c,h,v,w,I,ne,xe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function l5(a,r,c,h,v,w,I,ne,xe,Re,qe,Ye){return a=new lT(a,r,c,I,xe,Re,qe,Ye,ne),r=1,w===!0&&(r|=24),w=Na(3,null,null,r),a.current=w,w.stateNode=a,r=ic(),r.refCount++,a.pooledCache=r,r.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:r},rt(w),a}function c5(a){return a?(a=ca,a):ca}function u5(a,r,c,h,v,w){v=c5(v),h.context===null?h.context=v:h.pendingContext=v,h=Bt(r),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=Jt(a,h,r),c!==null&&(_i(c,a,r),Fn(c,a,r))}function d5(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<r?c:r}}function Sg(a,r){d5(a,r),(a=a.alternate)&&d5(a,r)}function f5(a){if(a.tag===13||a.tag===31){var r=Vr(a,67108864);r!==null&&_i(r,a,67108864),Sg(a,67108864)}}function h5(a){if(a.tag===13||a.tag===31){var r=Zi();r=Gn(r);var c=Vr(a,r);c!==null&&_i(c,a,r),Sg(a,r)}}var _m=!0;function cT(a,r,c,h){var v=z.T;z.T=null;var w=K.p;try{K.p=2,Ag(a,r,c,h)}finally{K.p=w,z.T=v}}function uT(a,r,c,h){var v=z.T;z.T=null;var w=K.p;try{K.p=8,Ag(a,r,c,h)}finally{K.p=w,z.T=v}}function Ag(a,r,c,h){if(_m){var v=Cg(h);if(v===null)dg(a,r,h,km,c),p5(a,h);else if(fT(v,a,r,c,h))h.stopPropagation();else if(p5(a,h),r&4&&-1<dT.indexOf(a)){for(;v!==null;){var w=Ii(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Mt(w.pendingLanes);if(I!==0){var ne=w;for(ne.pendingLanes|=2,ne.entangledLanes|=2;I;){var xe=1<<31-Zt(I);ne.entanglements[1]|=xe,I&=~xe}Ro(w),(Un&6)===0&&(hm=ut()+500,Yf(0))}}break;case 31:case 13:ne=Vr(w,2),ne!==null&&_i(ne,w,2),pm(),Sg(w,2)}if(w=Cg(h),w===null&&dg(a,r,h,km,c),w===v)break;v=w}v!==null&&h.stopPropagation()}else dg(a,r,h,null,c)}}function Cg(a){return a=nl(a),Tg(a)}var km=null;function Tg(a){if(km=null,a=Pi(a),a!==null){var r=l(a);if(r===null)a=null;else{var c=r.tag;if(c===13){if(a=u(r),a!==null)return a;a=null}else if(c===31){if(a=d(r),a!==null)return a;a=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return km=a,null}function m5(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case At:return 2;case mn:return 8;case _t:case ht:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var Mg=!1,vc=null,yc=null,bc=null,sh=new Map,ah=new Map,wc=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p5(a,r){switch(a){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":bc=null;break;case"pointerover":case"pointerout":sh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(r.pointerId)}}function ih(a,r,c,h,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:r,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},r!==null&&(r=Ii(r),r!==null&&f5(r)),a):(a.eventSystemFlags|=h,r=a.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),a)}function fT(a,r,c,h,v){switch(r){case"focusin":return vc=ih(vc,a,r,c,h,v),!0;case"dragenter":return yc=ih(yc,a,r,c,h,v),!0;case"mouseover":return bc=ih(bc,a,r,c,h,v),!0;case"pointerover":var w=v.pointerId;return sh.set(w,ih(sh.get(w)||null,a,r,c,h,v)),!0;case"gotpointercapture":return w=v.pointerId,ah.set(w,ih(ah.get(w)||null,a,r,c,h,v)),!0}return!1}function g5(a){var r=Pi(a.target);if(r!==null){var c=l(r);if(c!==null){if(r=c.tag,r===13){if(r=u(c),r!==null){a.blockedOn=r,mo(a.priority,function(){h5(c)});return}}else if(r===31){if(r=d(c),r!==null){a.blockedOn=r,mo(a.priority,function(){h5(c)});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lm(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var c=Cg(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);kr=h,c.target.dispatchEvent(h),kr=null}else return r=Ii(c),r!==null&&f5(r),a.blockedOn=c,!1;r.shift()}return!0}function x5(a,r,c){Lm(a)&&c.delete(r)}function hT(){Mg=!1,vc!==null&&Lm(vc)&&(vc=null),yc!==null&&Lm(yc)&&(yc=null),bc!==null&&Lm(bc)&&(bc=null),sh.forEach(x5),ah.forEach(x5)}function Dm(a,r){a.blockedOn===r&&(a.blockedOn=null,Mg||(Mg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hT)))}var Rm=null;function v5(a){Rm!==a&&(Rm=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rm===a&&(Rm=null);for(var r=0;r<a.length;r+=3){var c=a[r],h=a[r+1],v=a[r+2];if(typeof h!="function"){if(Tg(h||c)===null)continue;break}var w=Ii(c);w!==null&&(a.splice(r,3),r-=3,C0(w,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function Pd(a){function r(xe){return Dm(xe,a)}vc!==null&&Dm(vc,a),yc!==null&&Dm(yc,a),bc!==null&&Dm(bc,a),sh.forEach(r),ah.forEach(r);for(var c=0;c<wc.length;c++){var h=wc[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<wc.length&&(c=wc[0],c.blockedOn===null);)g5(c),c.blockedOn===null&&wc.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],I=v[hs]||null;if(typeof w=="function")I||v5(c);else if(I){var ne=null;if(w&&w.hasAttribute("formAction")){if(v=w,I=w[hs]||null)ne=I.formAction;else if(Tg(v)!==null)continue}else ne=I.action;typeof ne=="function"?c[h+1]=ne:(c.splice(h,3),h-=3),v5(c)}}}function y5(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function r(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),v!==null&&(v(),v=null)}}}function Eg(a){this._internalRoot=a}Om.prototype.render=Eg.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var c=r.current,h=Zi();u5(c,h,a,r,null,null)},Om.prototype.unmount=Eg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;u5(a.current,2,null,a,null,null),pm(),r[va]=null}};function Om(a){this._internalRoot=a}Om.prototype.unstable_scheduleHydration=function(a){if(a){var r=Gs();a={blockedOn:null,target:a,priority:r};for(var c=0;c<wc.length&&r!==0&&r<wc[c].priority;c++);wc.splice(c,0,a),c===0&&g5(a)}};var b5=t.version;if(b5!=="19.2.0")throw Error(i(527,b5,"19.2.0"));K.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=m(r),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var mT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{cn=Pm.inject(mT),lt=Pm}catch{}}return oh.createRoot=function(a,r){if(!o(a))throw Error(i(299));var c=!1,h="",v=Tv,w=Mv,I=Ev;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError)),r=l5(a,1,!1,null,null,c,h,null,v,w,I,y5),a[va]=r.current,ug(a),new Eg(r)},oh.hydrateRoot=function(a,r,c){if(!o(a))throw Error(i(299));var h=!1,v="",w=Tv,I=Mv,ne=Ev,xe=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(ne=c.onRecoverableError),c.formState!==void 0&&(xe=c.formState)),r=l5(a,1,!0,r,c??null,h,v,xe,w,I,ne,y5),r.context=c5(null),c=r.current,h=Zi(),h=Gn(h),v=Bt(h),v.callback=null,Jt(c,v,h),c=h,r.current.lanes=c,ct(r,c),Ro(r),a[va]=r.current,ug(a),new Om(r)},oh.version="19.2.0",oh}var _5;function ST(){if(_5)return Lg.exports;_5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lg.exports=jT(),Lg.exports}var AT=ST();const Dx=T.createContext({});function Rx(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ox=typeof window<"u",rj=Ox?T.useLayoutEffect:T.useEffect,Vp=T.createContext(null);function Px(e,t){e.indexOf(t)===-1&&e.push(t)}function Ix(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Il=(e,t,s)=>s>t?t:s<e?e:s;let Bx=()=>{};const Bl={},oj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lj(e){return typeof e=="object"&&e!==null}const cj=e=>/^0[^.\s]+$/u.test(e);function Hx(e){let t;return()=>(t===void 0&&(t=e()),t)}const jr=e=>e,CT=(e,t)=>s=>t(e(s)),Lh=(...e)=>e.reduce(CT),Nh=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i};class Fx{constructor(){this.subscriptions=[]}add(t){return Px(this.subscriptions,t),()=>Ix(this.subscriptions,t)}notify(t,s,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zo=e=>e*1e3,Nr=e=>e/1e3;function uj(e,t){return t?e*(1e3/t):0}const dj=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,TT=1e-7,MT=12;function ET(e,t,s,i,o){let l,u,d=0;do u=t+(s-t)/2,l=dj(u,i,o)-e,l>0?s=u:t=u;while(Math.abs(l)>TT&&++d<MT);return u}function Dh(e,t,s,i){if(e===t&&s===i)return jr;const o=l=>ET(l,0,1,e,s);return l=>l===0||l===1?l:dj(o(l),t,i)}const fj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hj=e=>t=>1-e(1-t),mj=Dh(.33,1.53,.69,.99),zx=hj(mj),pj=fj(zx),gj=e=>(e*=2)<1?.5*zx(e):.5*(2-Math.pow(2,-10*(e-1))),Ux=e=>1-Math.sin(Math.acos(e)),xj=hj(Ux),vj=fj(Ux),_T=Dh(.42,0,1,1),kT=Dh(0,0,.58,1),yj=Dh(.42,0,.58,1),LT=e=>Array.isArray(e)&&typeof e[0]!="number",bj=e=>Array.isArray(e)&&typeof e[0]=="number",DT={linear:jr,easeIn:_T,easeInOut:yj,easeOut:kT,circIn:Ux,circInOut:vj,circOut:xj,backIn:zx,backInOut:pj,backOut:mj,anticipate:gj},RT=e=>typeof e=="string",k5=e=>{if(bj(e)){Bx(e.length===4);const[t,s,i,o]=e;return Dh(t,s,i,o)}else if(RT(e))return DT[e];return e},Im=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function OT(e,t){let s=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(p){u.has(p)&&(m.schedule(p),e()),p(d)}const m={schedule:(p,x=!1,N=!1)=>{const C=N&&o?s:i;return x&&u.add(p),C.has(p)||C.add(p),p},cancel:p=>{i.delete(p),u.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[s,i]=[i,s],s.forEach(f),s.clear(),o=!1,l&&(l=!1,m.process(p))}};return m}const PT=40;function wj(e,t){let s=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,u=Im.reduce((R,D)=>(R[D]=OT(l),R),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:p,update:x,preRender:N,render:y,postRender:C}=u,M=()=>{const R=Bl.useManualTiming?o.timestamp:performance.now();s=!1,Bl.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(R-o.timestamp,PT),1)),o.timestamp=R,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),p.process(o),x.process(o),N.process(o),y.process(o),C.process(o),o.isProcessing=!1,s&&t&&(i=!1,e(M))},S=()=>{s=!0,i=!0,o.isProcessing||e(M)};return{schedule:Im.reduce((R,D)=>{const U=u[D];return R[D]=(G,$=!1,B=!1)=>(s||S(),U.schedule(G,$,B)),R},{}),cancel:R=>{for(let D=0;D<Im.length;D++)u[Im[D]].cancel(R)},state:o,steps:u}}const{schedule:Ts,cancel:Lc,state:Ba,steps:Pg}=wj(typeof requestAnimationFrame<"u"?requestAnimationFrame:jr,!0);let cp;function IT(){cp=void 0}const Li={now:()=>(cp===void 0&&Li.set(Ba.isProcessing||Bl.useManualTiming?Ba.timestamp:performance.now()),cp),set:e=>{cp=e,queueMicrotask(IT)}},Nj=e=>t=>typeof t=="string"&&t.startsWith(e),qx=Nj("--"),BT=Nj("var(--"),Vx=e=>BT(e)?HT.test(e.split("/*")[0].trim()):!1,HT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jh={...pf,transform:e=>Il(0,1,e)},Bm={...pf,default:1},ph=e=>Math.round(e*1e5)/1e5,Gx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FT(e){return e==null}const zT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wx=(e,t)=>s=>!!(typeof s=="string"&&zT.test(s)&&s.startsWith(e)||t&&!FT(s)&&Object.prototype.hasOwnProperty.call(s,t)),jj=(e,t,s)=>i=>{if(typeof i!="string")return i;const[o,l,u,d]=i.match(Gx);return{[e]:parseFloat(o),[t]:parseFloat(l),[s]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},UT=e=>Il(0,255,e),Ig={...pf,transform:e=>Math.round(UT(e))},Au={test:Wx("rgb","red"),parse:jj("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Ig.transform(e)+", "+Ig.transform(t)+", "+Ig.transform(s)+", "+ph(jh.transform(i))+")"};function qT(e){let t="",s="",i="",o="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,s+=s,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const D1={test:Wx("#"),parse:qT,transform:Au.transform},Rh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cc=Rh("deg"),Uo=Rh("%"),qt=Rh("px"),VT=Rh("vh"),GT=Rh("vw"),L5={...Uo,parse:e=>Uo.parse(e)/100,transform:e=>Uo.transform(e*100)},Zd={test:Wx("hsl","hue"),parse:jj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+Uo.transform(ph(t))+", "+Uo.transform(ph(s))+", "+ph(jh.transform(i))+")"},sa={test:e=>Au.test(e)||D1.test(e)||Zd.test(e),parse:e=>Au.test(e)?Au.parse(e):Zd.test(e)?Zd.parse(e):D1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Au.transform(e):Zd.transform(e),getAnimatableNone:e=>{const t=sa.parse(e);return t.alpha=0,sa.transform(t)}},WT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XT(e){return isNaN(e)&&typeof e=="string"&&(e.match(Gx)?.length||0)+(e.match(WT)?.length||0)>0}const Sj="number",Aj="color",ZT="var",$T="var(",D5="${}",YT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sh(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(YT,f=>(sa.test(f)?(i.color.push(l),o.push(Aj),s.push(sa.parse(f))):f.startsWith($T)?(i.var.push(l),o.push(ZT),s.push(f)):(i.number.push(l),o.push(Sj),s.push(parseFloat(f))),++l,D5)).split(D5);return{values:s,split:d,indexes:i,types:o}}function Cj(e){return Sh(e).values}function Tj(e){const{split:t,types:s}=Sh(e),i=t.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],o[u]!==void 0){const d=s[u];d===Sj?l+=ph(o[u]):d===Aj?l+=sa.transform(o[u]):l+=o[u]}return l}}const KT=e=>typeof e=="number"?0:sa.test(e)?sa.getAnimatableNone(e):e;function QT(e){const t=Cj(e);return Tj(e)(t.map(KT))}const Dc={test:XT,parse:Cj,createTransformer:Tj,getAnimatableNone:QT};function Bg(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function JT({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let o=0,l=0,u=0;if(!t)o=l=u=s;else{const d=s<.5?s*(1+t):s+t-s*t,f=2*s-d;o=Bg(f,d,e+1/3),l=Bg(f,d,e),u=Bg(f,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Np(e,t){return s=>s>0?t:e}const Os=(e,t,s)=>e+(t-e)*s,Hg=(e,t,s)=>{const i=e*e,o=s*(t*t-i)+i;return o<0?0:Math.sqrt(o)},e8=[D1,Au,Zd],t8=e=>e8.find(t=>t.test(e));function R5(e){const t=t8(e);if(!t)return!1;let s=t.parse(e);return t===Zd&&(s=JT(s)),s}const O5=(e,t)=>{const s=R5(e),i=R5(t);if(!s||!i)return Np(e,t);const o={...s};return l=>(o.red=Hg(s.red,i.red,l),o.green=Hg(s.green,i.green,l),o.blue=Hg(s.blue,i.blue,l),o.alpha=Os(s.alpha,i.alpha,l),Au.transform(o))},R1=new Set(["none","hidden"]);function n8(e,t){return R1.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function s8(e,t){return s=>Os(e,t,s)}function Xx(e){return typeof e=="number"?s8:typeof e=="string"?Vx(e)?Np:sa.test(e)?O5:r8:Array.isArray(e)?Mj:typeof e=="object"?sa.test(e)?O5:a8:Np}function Mj(e,t){const s=[...e],i=s.length,o=e.map((l,u)=>Xx(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)s[u]=o[u](l);return s}}function a8(e,t){const s={...e,...t},i={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(i[o]=Xx(e[o])(e[o],t[o]));return o=>{for(const l in i)s[l]=i[l](o);return s}}function i8(e,t){const s=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][i[l]],d=e.values[u]??0;s[o]=d,i[l]++}return s}const r8=(e,t)=>{const s=Dc.createTransformer(t),i=Sh(e),o=Sh(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?R1.has(e)&&!o.values.length||R1.has(t)&&!i.values.length?n8(e,t):Lh(Mj(i8(i,o),o.values),s):Np(e,t)};function Ej(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Os(e,t,s):Xx(e)(e,t)}const o8=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ts.update(t,s),stop:()=>Lc(t),now:()=>Ba.isProcessing?Ba.timestamp:Li.now()}},_j=(e,t,s=10)=>{let i="";const o=Math.max(Math.round(t/s),2);for(let l=0;l<o;l++)i+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},jp=2e4;function Zx(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<jp;)t+=s,i=e.next(t);return t>=jp?1/0:t}function l8(e,t=100,s){const i=s({...e,keyframes:[0,t]}),o=Math.min(Zx(i),jp);return{type:"keyframes",ease:l=>i.next(o*l).value/t,duration:Nr(o)}}const c8=5;function kj(e,t,s){const i=Math.max(t-c8,0);return uj(s-e(i),t-i)}const Vs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fg=.001;function u8({duration:e=Vs.duration,bounce:t=Vs.bounce,velocity:s=Vs.velocity,mass:i=Vs.mass}){let o,l,u=1-t;u=Il(Vs.minDamping,Vs.maxDamping,u),e=Il(Vs.minDuration,Vs.maxDuration,Nr(e)),u<1?(o=m=>{const p=m*u,x=p*e,N=p-s,y=O1(m,u),C=Math.exp(-x);return Fg-N/y*C},l=m=>{const x=m*u*e,N=x*s+s,y=Math.pow(u,2)*Math.pow(m,2)*e,C=Math.exp(-x),M=O1(Math.pow(m,2),u);return(-o(m)+Fg>0?-1:1)*((N-y)*C)/M}):(o=m=>{const p=Math.exp(-m*e),x=(m-s)*e+1;return-Fg+p*x},l=m=>{const p=Math.exp(-m*e),x=(s-m)*(e*e);return p*x});const d=5/e,f=f8(o,l,d);if(e=zo(e),isNaN(f))return{stiffness:Vs.stiffness,damping:Vs.damping,duration:e};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const d8=12;function f8(e,t,s){let i=s;for(let o=1;o<d8;o++)i=i-e(i)/t(i);return i}function O1(e,t){return e*Math.sqrt(1-t*t)}const h8=["duration","bounce"],m8=["stiffness","damping","mass"];function P5(e,t){return t.some(s=>e[s]!==void 0)}function p8(e){let t={velocity:Vs.velocity,stiffness:Vs.stiffness,damping:Vs.damping,mass:Vs.mass,isResolvedFromDuration:!1,...e};if(!P5(e,m8)&&P5(e,h8))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),o=i*i,l=2*Il(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Vs.mass,stiffness:o,damping:l}}else{const s=u8(e);t={...t,...s,mass:Vs.mass},t.isResolvedFromDuration=!0}return t}function Sp(e=Vs.visualDuration,t=Vs.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=s;const l=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:p,duration:x,velocity:N,isResolvedFromDuration:y}=p8({...s,velocity:-Nr(s.velocity||0)}),C=N||0,M=m/(2*Math.sqrt(f*p)),S=u-l,j=Nr(Math.sqrt(f/p)),L=Math.abs(S)<5;i||(i=L?Vs.restSpeed.granular:Vs.restSpeed.default),o||(o=L?Vs.restDelta.granular:Vs.restDelta.default);let R;if(M<1){const U=O1(j,M);R=G=>{const $=Math.exp(-M*j*G);return u-$*((C+M*j*S)/U*Math.sin(U*G)+S*Math.cos(U*G))}}else if(M===1)R=U=>u-Math.exp(-j*U)*(S+(C+j*S)*U);else{const U=j*Math.sqrt(M*M-1);R=G=>{const $=Math.exp(-M*j*G),B=Math.min(U*G,300);return u-$*((C+M*j*S)*Math.sinh(B)+U*S*Math.cosh(B))/U}}const D={calculatedDuration:y&&x||null,next:U=>{const G=R(U);if(y)d.done=U>=x;else{let $=U===0?C:0;M<1&&($=U===0?zo(C):kj(R,U,G));const B=Math.abs($)<=i,Y=Math.abs(u-G)<=o;d.done=B&&Y}return d.value=d.done?u:G,d},toString:()=>{const U=Math.min(Zx(D),jp),G=_j($=>D.next(U*$).value,U,30);return U+"ms "+G},toTransition:()=>{}};return D}Sp.applyToOptions=e=>{const t=l8(e,100,Sp);return e.ease=t.ease,e.duration=zo(t.duration),e.type="keyframes",e};function P1({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:p}){const x=e[0],N={done:!1,value:x},y=B=>d!==void 0&&B<d||f!==void 0&&B>f,C=B=>d===void 0?f:f===void 0||Math.abs(d-B)<Math.abs(f-B)?d:f;let M=s*t;const S=x+M,j=u===void 0?S:u(S);j!==S&&(M=j-x);const L=B=>-M*Math.exp(-B/i),R=B=>j+L(B),D=B=>{const Y=L(B),fe=R(B);N.done=Math.abs(Y)<=m,N.value=N.done?j:fe};let U,G;const $=B=>{y(N.value)&&(U=B,G=Sp({keyframes:[N.value,C(N.value)],velocity:kj(R,B,N.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return $(0),{calculatedDuration:null,next:B=>{let Y=!1;return!G&&U===void 0&&(Y=!0,D(B),$(B)),U!==void 0&&B>=U?G.next(B-U):(!Y&&D(B),N)}}}function g8(e,t,s){const i=[],o=s||Bl.mix||Ej,l=e.length-1;for(let u=0;u<l;u++){let d=o(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||jr:t;d=Lh(f,d)}i.push(d)}return i}function x8(e,t,{clamp:s=!0,ease:i,mixer:o}={}){const l=e.length;if(Bx(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=g8(t,i,o),f=d.length,m=p=>{if(u&&p<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(p<e[x+1]);x++);const N=Nh(e[x],e[x+1],p);return d[x](N)};return s?p=>m(Il(e[0],e[l-1],p)):m}function v8(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const o=Nh(0,t,i);e.push(Os(s,1,o))}}function y8(e){const t=[0];return v8(t,e.length-1),t}function b8(e,t){return e.map(s=>s*t)}function w8(e,t){return e.map(()=>t||yj).splice(0,e.length-1)}function gh({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const o=LT(i)?i.map(k5):k5(i),l={done:!1,value:t[0]},u=b8(s&&s.length===t.length?s:y8(t),e),d=x8(u,t,{ease:Array.isArray(o)?o:w8(t,o)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const N8=e=>e!==null;function $x(e,{repeat:t,repeatType:s="loop"},i,o=1){const l=e.filter(N8),d=o<0||t&&s!=="loop"&&t%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const j8={decay:P1,inertia:P1,tween:gh,keyframes:gh,spring:Sp};function Lj(e){typeof e.type=="string"&&(e.type=j8[e.type])}class Yx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const S8=e=>e/100;class Kx extends Yx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Li.now()&&this.tick(Li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Lj(t);const{type:s=gh,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:d}=t;const f=s||gh;f!==gh&&typeof d[0]!="number"&&(this.mixKeyframes=Lh(S8,Ej(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Zx(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:p,repeat:x,repeatType:N,repeatDelay:y,type:C,onUpdate:M,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,D=i;if(x){const B=Math.min(this.currentTime,o)/d;let Y=Math.floor(B),fe=B%1;!fe&&B>=1&&(fe=1),fe===1&&Y--,Y=Math.min(Y,x+1),!!(Y%2)&&(N==="reverse"?(fe=1-fe,y&&(fe-=y/d)):N==="mirror"&&(D=u)),R=Il(0,1,fe)*d}const U=L?{done:!1,value:p[0]}:D.next(R);l&&(U.value=l(U.value));let{done:G}=U;!L&&f!==null&&(G=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return $&&C!==P1&&(U.value=$x(p,this.options,S,this.speed)),M&&M(U.value),$&&this.finish(),U}then(t,s){return this.finished.then(t,s)}get duration(){return Nr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Nr(t)}get time(){return Nr(this.currentTime)}set time(t){t=zo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Li.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Nr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=o8,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function A8(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Cu=e=>e*180/Math.PI,I1=e=>{const t=Cu(Math.atan2(e[1],e[0]));return B1(t)},C8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:I1,rotateZ:I1,skewX:e=>Cu(Math.atan(e[1])),skewY:e=>Cu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},B1=e=>(e=e%360,e<0&&(e+=360),e),I5=I1,B5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),H5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),T8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B5,scaleY:H5,scale:e=>(B5(e)+H5(e))/2,rotateX:e=>B1(Cu(Math.atan2(e[6],e[5]))),rotateY:e=>B1(Cu(Math.atan2(-e[2],e[0]))),rotateZ:I5,rotate:I5,skewX:e=>Cu(Math.atan(e[4])),skewY:e=>Cu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function H1(e){return e.includes("scale")?1:0}function F1(e,t){if(!e||e==="none")return H1(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(s)i=T8,o=s;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=C8,o=d}if(!o)return H1(t);const l=i[t],u=o[1].split(",").map(E8);return typeof l=="function"?l(u):u[l]}const M8=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return F1(s,t)};function E8(e){return parseFloat(e.trim())}const gf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xf=new Set(gf),F5=e=>e===pf||e===qt,_8=new Set(["x","y","z"]),k8=gf.filter(e=>!_8.has(e));function L8(e){const t=[];return k8.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const Tu={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>F1(t,"x"),y:(e,{transform:t})=>F1(t,"y")};Tu.translateX=Tu.x;Tu.translateY=Tu.y;const Mu=new Set;let z1=!1,U1=!1,q1=!1;function Dj(){if(U1){const e=Array.from(Mu).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const o=L8(i);o.length&&(s.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=s.get(i);o&&o.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}U1=!1,z1=!1,Mu.forEach(e=>e.complete(q1)),Mu.clear()}function Rj(){Mu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(U1=!0)})}function D8(){q1=!0,Rj(),Dj(),q1=!1}class Qx{constructor(t,s,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Mu.add(this),z1||(z1=!0,Ts.read(Rj),Ts.resolveKeyframes(Dj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:o}=this;if(t[0]===null){const l=o?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&s){const d=i.readValue(s,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}A8(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Mu.delete(this)}cancel(){this.state==="scheduled"&&(Mu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R8=e=>e.startsWith("--");function O8(e,t,s){R8(t)?e.style.setProperty(t,s):e.style[t]=s}const P8=Hx(()=>window.ScrollTimeline!==void 0),I8={};function B8(e,t){const s=Hx(e);return()=>I8[t]??s()}const Oj=B8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fh=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,z5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function Pj(e,t){if(e)return typeof e=="function"?Oj()?_j(e,t):"ease-out":bj(e)?fh(e):Array.isArray(e)?e.map(s=>Pj(s,t)||z5.easeOut):z5[e]}function H8(e,t,s,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:f}={},m=void 0){const p={[t]:s};f&&(p.offset=f);const x=Pj(d,o);Array.isArray(x)&&(p.easing=x);const N={delay:i,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(N.pseudoElement=m),e.animate(p,N)}function Ij(e){return typeof e=="function"&&"applyToOptions"in e}function F8({type:e,...t}){return Ij(e)&&Oj()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class z8 extends Yx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Bx(typeof t.type!="string");const m=F8(t);this.animation=H8(s,i,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=$x(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):O8(s,i,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Nr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Nr(t)}get time(){return Nr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&P8()?(this.animation.timeline=t,jr):s(this)}}const Bj={anticipate:gj,backInOut:pj,circInOut:vj};function U8(e){return e in Bj}function q8(e){typeof e.ease=="string"&&U8(e.ease)&&(e.ease=Bj[e.ease])}const U5=10;class V8 extends z8{constructor(t){q8(t),Lj(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const d=new Kx({...u,autoplay:!1}),f=zo(this.finishedTime??this.time);s.setWithVelocity(d.sample(f-U5).value,d.sample(f).value,U5),d.stop()}}const q5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dc.test(e)||e==="0")&&!e.startsWith("url("));function G8(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function W8(e,t,s,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=q5(o,t),d=q5(l,t);return!u||!d?!1:G8(e)||(s==="spring"||Ij(s))&&i}function V1(e){e.duration=0,e.type="keyframes"}const X8=new Set(["opacity","clipPath","filter","transform"]),Z8=Hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $8(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:o,damping:l,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return Z8()&&s&&X8.has(s)&&(s!=="transform"||!m)&&!f&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const Y8=40;class K8 extends Yx{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:f,motionValue:m,element:p,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Li.now();const N={autoplay:t,delay:s,type:i,repeat:o,repeatDelay:l,repeatType:u,name:f,motionValue:m,element:p,...x},y=p?.KeyframeResolver||Qx;this.keyframeResolver=new y(d,(C,M,S)=>this.onKeyframesResolved(C,M,N,!S),f,m,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:f,isHandoff:m,onUpdate:p}=i;this.resolvedAt=Li.now(),W8(t,l,u,d)||((Bl.instantAnimations||!f)&&p?.($x(t,i,s)),t[0]=t[t.length-1],V1(i),i.repeat=0);const N={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Y8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},y=!m&&$8(N)?new V8({...N,element:N.motionValue.owner.current}):new Kx(N);y.finished.then(()=>this.notifyFinished()).catch(jr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),D8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Q8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J8(e){const t=Q8.exec(e);if(!t)return[,];const[,s,i,o]=t;return[`--${s??i}`,o]}function Hj(e,t,s=1){const[i,o]=J8(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return oj(u)?parseFloat(u):u}return Vx(o)?Hj(o,t,s+1):o}function Jx(e,t){return e?.[t]??e?.default??e}const Fj=new Set(["width","height","top","left","right","bottom",...gf]),eM={test:e=>e==="auto",parse:e=>e},zj=e=>t=>t.test(e),Uj=[pf,qt,Uo,Cc,GT,VT,eM],V5=e=>Uj.find(zj(e));function tM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cj(e):!0}const nM=new Set(["brightness","contrast","saturate","opacity"]);function sM(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(Gx)||[];if(!i)return e;const o=s.replace(i,"");let l=nM.has(t)?1:0;return i!==s&&(l*=100),t+"("+l+o+")"}const aM=/\b([a-z-]*)\(.*?\)/gu,G1={...Dc,getAnimatableNone:e=>{const t=e.match(aM);return t?t.map(sM).join(" "):e}},G5={...pf,transform:Math.round},iM={rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:Bm,scaleX:Bm,scaleY:Bm,scaleZ:Bm,skew:Cc,skewX:Cc,skewY:Cc,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:jh,originX:L5,originY:L5,originZ:qt},e2={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt,...iM,zIndex:G5,fillOpacity:jh,strokeOpacity:jh,numOctaves:G5},rM={...e2,color:sa,backgroundColor:sa,outlineColor:sa,fill:sa,stroke:sa,borderColor:sa,borderTopColor:sa,borderRightColor:sa,borderBottomColor:sa,borderLeftColor:sa,filter:G1,WebkitFilter:G1},qj=e=>rM[e];function Vj(e,t){let s=qj(e);return s!==G1&&(s=Dc),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const oM=new Set(["auto","none","0"]);function lM(e,t,s){let i=0,o;for(;i<e.length&&!o;){const l=e[i];typeof l=="string"&&!oM.has(l)&&Sh(l).values.length&&(o=e[i]),i++}if(o&&s)for(const l of t)e[l]=Vj(s,o)}class cM extends Qx{constructor(t,s,i,o,l){super(t,s,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Vx(m))){const p=Hj(m,s.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Fj.has(i)||t.length!==2)return;const[o,l]=t,u=V5(o),d=V5(l);if(u!==d)if(F5(u)&&F5(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Tu[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||tM(t[o]))&&i.push(o);i.length&&lM(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tu[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Tu[s](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function uM(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const o=s?.[e]??i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Gj=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Wj(e){return lj(e)&&"offsetHeight"in e}const W5=30,dM=e=>!isNaN(parseFloat(e));class fM{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=Li.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Li.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Fx);const i=this.events[t].add(s);return t==="change"?()=>{i(),Ts.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>W5)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,W5);return uj(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cf(e,t){return new fM(e,t)}const{schedule:t2}=wj(queueMicrotask,!1),eo={x:!1,y:!1};function Xj(){return eo.x||eo.y}function hM(e){return e==="x"||e==="y"?eo[e]?null:(eo[e]=!0,()=>{eo[e]=!1}):eo.x||eo.y?null:(eo.x=eo.y=!0,()=>{eo.x=eo.y=!1})}function Zj(e,t){const s=uM(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[s,o,()=>i.abort()]}function X5(e){return!(e.pointerType==="touch"||Xj())}function mM(e,t,s={}){const[i,o,l]=Zj(e,s),u=d=>{if(!X5(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const p=x=>{X5(x)&&(m(x),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const $j=(e,t)=>t?e===t?!0:$j(e,t.parentElement):!1,n2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gM(e){return pM.has(e.tagName)||e.tabIndex!==-1}const up=new WeakSet;function Z5(e){return t=>{t.key==="Enter"&&e(t)}}function zg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xM=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=Z5(()=>{if(up.has(s))return;zg(s,"down");const o=Z5(()=>{zg(s,"up")}),l=()=>zg(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",l,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function $5(e){return n2(e)&&!Xj()}function vM(e,t,s={}){const[i,o,l]=Zj(e,s),u=d=>{const f=d.currentTarget;if(!$5(d))return;up.add(f);const m=t(f,d),p=(y,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",N),up.has(f)&&up.delete(f),$5(y)&&typeof m=="function"&&m(y,{success:C})},x=y=>{p(y,f===window||f===document||s.useGlobalTarget||$j(f,y.target))},N=y=>{p(y,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",N,o)};return i.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),Wj(d)&&(d.addEventListener("focus",m=>xM(m,o)),!gM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Yj(e){return lj(e)&&"ownerSVGElement"in e}function yM(e){return Yj(e)&&e.tagName==="svg"}const Ja=e=>!!(e&&e.getVelocity),bM=[...Uj,sa,Dc],wM=e=>bM.find(zj(e)),s2=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Y5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function NM(...e){return t=>{let s=!1;const i=e.map(o=>{const l=Y5(o,t);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Y5(e[o],null)}}}}function jM(...e){return T.useCallback(NM(...e),e)}class SM extends T.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=s.offsetParent,o=Wj(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AM({children:e,isPresent:t,anchorX:s,root:i}){const o=T.useId(),l=T.useRef(null),u=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=T.useContext(s2),f=jM(l,e?.ref);return T.useInsertionEffect(()=>{const{width:m,height:p,top:x,left:N,right:y}=u.current;if(t||!l.current||!m||!p)return;const C=s==="left"?`left: ${N}`:`right: ${y}`;l.current.dataset.motionPopId=o;const M=document.createElement("style");d&&(M.nonce=d);const S=i??document.head;return S.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${C}px !important;
            top: ${x}px !important;
          }
        `),()=>{S.contains(M)&&S.removeChild(M)}},[t]),n.jsx(SM,{isPresent:t,childRef:l,sizeRef:u,children:T.cloneElement(e,{ref:f})})}const CM=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:f})=>{const m=Rx(TM),p=T.useId();let x=!0,N=T.useMemo(()=>(x=!1,{id:p,initial:t,isPresent:s,custom:o,onExitComplete:y=>{m.set(y,!0);for(const C of m.values())if(!C)return;i&&i()},register:y=>(m.set(y,!1),()=>m.delete(y))}),[s,m,i]);return l&&x&&(N={...N}),T.useMemo(()=>{m.forEach((y,C)=>m.set(C,!1))},[s]),T.useEffect(()=>{!s&&!m.size&&i&&i()},[s]),u==="popLayout"&&(e=n.jsx(AM,{isPresent:s,anchorX:d,root:f,children:e})),n.jsx(Vp.Provider,{value:N,children:e})};function TM(){return new Map}function Kj(e=!0){const t=T.useContext(Vp);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:o}=t,l=T.useId();T.useEffect(()=>{if(e)return o(l)},[e]);const u=T.useCallback(()=>e&&i&&i(l),[l,i,e]);return!s&&i?[!1,u]:[!0]}const Hm=e=>e.key||"";function K5(e){const t=[];return T.Children.forEach(e,s=>{T.isValidElement(s)&&t.push(s)}),t}const Ap=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[m,p]=Kj(u),x=T.useMemo(()=>K5(e),[e]),N=u&&!m?[]:x.map(Hm),y=T.useRef(!0),C=T.useRef(x),M=Rx(()=>new Map),[S,j]=T.useState(x),[L,R]=T.useState(x);rj(()=>{y.current=!1,C.current=x;for(let G=0;G<L.length;G++){const $=Hm(L[G]);N.includes($)?M.delete($):M.get($)!==!0&&M.set($,!1)}},[L,N.length,N.join("-")]);const D=[];if(x!==S){let G=[...x];for(let $=0;$<L.length;$++){const B=L[$],Y=Hm(B);N.includes(Y)||(G.splice($,0,B),D.push(B))}return l==="wait"&&D.length&&(G=D),R(K5(G)),j(x),null}const{forceRender:U}=T.useContext(Dx);return n.jsx(n.Fragment,{children:L.map(G=>{const $=Hm(G),B=u&&!m?!1:x===L||N.includes($),Y=()=>{if(M.has($))M.set($,!0);else return;let fe=!0;M.forEach(V=>{V||(fe=!1)}),fe&&(U?.(),R(C.current),u&&p?.(),i&&i())};return n.jsx(CM,{isPresent:B,initial:!y.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:B?void 0:Y,anchorX:d,children:G},$)})})},Qj=T.createContext({strict:!1}),Q5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uf={};for(const e in Q5)uf[e]={isEnabled:t=>Q5[e].some(s=>!!t[s])};function MM(e){for(const t in e)uf[t]={...uf[t],...e[t]}}const EM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EM.has(e)}let Jj=e=>!Cp(e);function _M(e){typeof e=="function"&&(Jj=t=>t.startsWith("on")?!Cp(t):e(t))}try{_M(require("@emotion/is-prop-valid").default)}catch{}function kM(e,t,s){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(Jj(o)||s===!0&&Cp(o)||!t&&!Cp(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}const Gp=T.createContext({});function Wp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ah(e){return typeof e=="string"||Array.isArray(e)}const a2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i2=["initial",...a2];function Xp(e){return Wp(e.animate)||i2.some(t=>Ah(e[t]))}function e4(e){return!!(Xp(e)||e.variants)}function LM(e,t){if(Xp(e)){const{initial:s,animate:i}=e;return{initial:s===!1||Ah(s)?s:void 0,animate:Ah(i)?i:void 0}}return e.inherit!==!1?t:{}}function DM(e){const{initial:t,animate:s}=LM(e,T.useContext(Gp));return T.useMemo(()=>({initial:t,animate:s}),[J5(t),J5(s)])}function J5(e){return Array.isArray(e)?e.join(" "):e}const Ch={};function RM(e){for(const t in e)Ch[t]=e[t],qx(t)&&(Ch[t].isCSSVariable=!0)}function t4(e,{layout:t,layoutId:s}){return xf.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Ch[e]||e==="opacity")}const OM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PM=gf.length;function IM(e,t,s){let i="",o=!0;for(let l=0;l<PM;l++){const u=gf[l],d=e[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||s){const m=Gj(d,e2[u]);if(!f){o=!1;const p=OM[u]||u;i+=`${p}(${m}) `}s&&(t[u]=m)}}return i=i.trim(),s?i=s(t,o?"":i):o&&(i="none"),i}function r2(e,t,s){const{style:i,vars:o,transformOrigin:l}=e;let u=!1,d=!1;for(const f in t){const m=t[f];if(xf.has(f)){u=!0;continue}else if(qx(f)){o[f]=m;continue}else{const p=Gj(m,e2[f]);f.startsWith("origin")?(d=!0,l[f]=p):i[f]=p}}if(t.transform||(u||s?i.transform=IM(t,e.transform,s):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:p=0}=l;i.transformOrigin=`${f} ${m} ${p}`}}const o2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n4(e,t,s){for(const i in t)!Ja(t[i])&&!t4(i,s)&&(e[i]=t[i])}function BM({transformTemplate:e},t){return T.useMemo(()=>{const s=o2();return r2(s,t,e),Object.assign({},s.vars,s.style)},[t])}function HM(e,t){const s=e.style||{},i={};return n4(i,s,e),Object.assign(i,BM(e,t)),i}function FM(e,t){const s={},i=HM(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const zM={offset:"stroke-dashoffset",array:"stroke-dasharray"},UM={offset:"strokeDashoffset",array:"strokeDasharray"};function qM(e,t,s=1,i=0,o=!0){e.pathLength=1;const l=o?zM:UM;e[l.offset]=qt.transform(-i);const u=qt.transform(t),d=qt.transform(s);e[l.array]=`${u} ${d}`}function s4(e,{attrX:t,attrY:s,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,m,p){if(r2(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:N}=e;x.transform&&(N.transform=x.transform,delete x.transform),(N.transform||x.transformOrigin)&&(N.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),N.transform&&(N.transformBox=p?.transformBox??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),i!==void 0&&(x.scale=i),o!==void 0&&qM(x,o,l,u,!1)}const a4=()=>({...o2(),attrs:{}}),i4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VM(e,t,s,i){const o=T.useMemo(()=>{const l=a4();return s4(l,t,i4(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};n4(l,e.style,e),o.style={...l,...o.style}}return o}const GM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l2(e){return typeof e!="string"||e.includes("-")?!1:!!(GM.indexOf(e)>-1||/[A-Z]/u.test(e))}function WM(e,t,s,{latestValues:i},o,l=!1){const d=(l2(e)?VM:FM)(t,i,o,e),f=kM(t,typeof e=="string",l),m=e!==T.Fragment?{...f,...d,ref:s}:{},{children:p}=t,x=T.useMemo(()=>Ja(p)?p.get():p,[p]);return T.createElement(e,{...m,children:x})}function eb(e){const t=[{},{}];return e?.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function c2(e,t,s,i){if(typeof t=="function"){const[o,l]=eb(i);t=t(s!==void 0?s:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=eb(i);t=t(s!==void 0?s:e.custom,o,l)}return t}function dp(e){return Ja(e)?e.get():e}function XM({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,o){return{latestValues:ZM(s,i,o,e),renderState:t()}}function ZM(e,t,s,i){const o={},l=i(e,{});for(const N in l)o[N]=dp(l[N]);let{initial:u,animate:d}=e;const f=Xp(e),m=e4(e);t&&m&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let p=s?s.initial===!1:!1;p=p||u===!1;const x=p?d:u;if(x&&typeof x!="boolean"&&!Wp(x)){const N=Array.isArray(x)?x:[x];for(let y=0;y<N.length;y++){const C=c2(e,N[y]);if(C){const{transitionEnd:M,transition:S,...j}=C;for(const L in j){let R=j[L];if(Array.isArray(R)){const D=p?R.length-1:0;R=R[D]}R!==null&&(o[L]=R)}for(const L in M)o[L]=M[L]}}}return o}const r4=e=>(t,s)=>{const i=T.useContext(Gp),o=T.useContext(Vp),l=()=>XM(e,t,i,o);return s?l():Rx(l)};function u2(e,t,s){const{style:i}=e,o={};for(const l in i)(Ja(i[l])||t.style&&Ja(t.style[l])||t4(l,e)||s?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}const $M=r4({scrapeMotionValuesFromProps:u2,createRenderState:o2});function o4(e,t,s){const i=u2(e,t,s);for(const o in e)if(Ja(e[o])||Ja(t[o])){const l=gf.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=e[o]}return i}const YM=r4({scrapeMotionValuesFromProps:o4,createRenderState:a4}),KM=Symbol.for("motionComponentSymbol");function $d(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QM(e,t,s){return T.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):$d(s)&&(s.current=i))},[t])}const d2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JM="framerAppearId",l4="data-"+d2(JM),c4=T.createContext({});function eE(e,t,s,i,o){const{visualElement:l}=T.useContext(Gp),u=T.useContext(Qj),d=T.useContext(Vp),f=T.useContext(s2).reducedMotion,m=T.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const p=m.current,x=T.useContext(c4);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&tE(m.current,s,o,x);const N=T.useRef(!1);T.useInsertionEffect(()=>{p&&N.current&&p.update(s,d)});const y=s[l4],C=T.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return rj(()=>{p&&(N.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),C.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!C.current&&p.animationState&&p.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),C.current=!1),p.enteringChildren=void 0)}),p}function tE(e,t,s,i){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:p}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:u4(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&$d(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:f,layoutRoot:m})}function u4(e){if(e)return e.options.allowProjection!==!1?e.projection:u4(e.parent)}function Ug(e,{forwardMotionProps:t=!1}={},s,i){s&&MM(s);const o=l2(e)?YM:$M;function l(d,f){let m;const p={...T.useContext(s2),...d,layoutId:nE(d)},{isStatic:x}=p,N=DM(d),y=o(d,x);if(!x&&Ox){sE();const C=aE(p);m=C.MeasureLayout,N.visualElement=eE(e,y,p,i,C.ProjectionNode)}return n.jsxs(Gp.Provider,{value:N,children:[m&&N.visualElement?n.jsx(m,{visualElement:N.visualElement,...p}):null,WM(e,d,QM(y,N.visualElement,f),y,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=T.forwardRef(l);return u[KM]=e,u}function nE({layoutId:e}){const t=T.useContext(Dx).id;return t&&e!==void 0?t+"-"+e:e}function sE(e,t){T.useContext(Qj).strict}function aE(e){const{drag:t,layout:s}=uf;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function iE(e,t){if(typeof Proxy>"u")return Ug;const s=new Map,i=(l,u)=>Ug(l,u,e,t),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(s.has(u)||s.set(u,Ug(u,void 0,e,t)),s.get(u))})}function d4({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function rE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oE(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function qg(e){return e===void 0||e===1}function W1({scale:e,scaleX:t,scaleY:s}){return!qg(e)||!qg(t)||!qg(s)}function Nu(e){return W1(e)||f4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function f4(e){return tb(e.x)||tb(e.y)}function tb(e){return e&&e!=="0%"}function Tp(e,t,s){const i=e-s,o=t*i;return s+o}function nb(e,t,s,i,o){return o!==void 0&&(e=Tp(e,o,i)),Tp(e,s,i)+t}function X1(e,t=0,s=1,i,o){e.min=nb(e.min,t,s,i,o),e.max=nb(e.max,t,s,i,o)}function h4(e,{x:t,y:s}){X1(e.x,t.translate,t.scale,t.originPoint),X1(e.y,s.translate,s.scale,s.originPoint)}const sb=.999999999999,ab=1.0000000000001;function lE(e,t,s,i=!1){const o=s.length;if(!o)return;t.x=t.y=1;let l,u;for(let d=0;d<o;d++){l=s[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Kd(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,h4(e,u)),i&&Nu(l.latestValues)&&Kd(e,l.latestValues))}t.x<ab&&t.x>sb&&(t.x=1),t.y<ab&&t.y>sb&&(t.y=1)}function Yd(e,t){e.min=e.min+t,e.max=e.max+t}function ib(e,t,s,i,o=.5){const l=Os(e.min,e.max,o);X1(e,t,s,l,i)}function Kd(e,t){ib(e.x,t.x,t.scaleX,t.scale,t.originX),ib(e.y,t.y,t.scaleY,t.scale,t.originY)}function m4(e,t){return d4(oE(e.getBoundingClientRect(),t))}function cE(e,t,s){const i=m4(e,s),{scroll:o}=t;return o&&(Yd(i.x,o.offset.x),Yd(i.y,o.offset.y)),i}const rb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qd=()=>({x:rb(),y:rb()}),ob=()=>({min:0,max:0}),$s=()=>({x:ob(),y:ob()}),Z1={current:null},p4={current:!1};function uE(){if(p4.current=!0,!!Ox)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Z1.current=e.matches;e.addEventListener("change",t),t()}else Z1.current=!1}const dE=new WeakMap;function fE(e,t,s){for(const i in t){const o=t[i],l=s[i];if(Ja(o))e.addValue(i,o);else if(Ja(l))e.addValue(i,cf(o,{owner:e}));else if(l!==o)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(i);e.addValue(i,cf(u!==void 0?u:o,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const lb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hE{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=Li.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,Ts.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Xp(s),this.isVariantNode=e4(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const N in x){const y=x[N];f[N]!==void 0&&Ja(y)&&y.set(f[N])}}mount(t){this.current=t,dE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),p4.current||uE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Z1.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lc(this.notifyUpdate),Lc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=xf.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Ts.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in uf){const s=uf[t];if(!s)continue;const{isEnabled:i,Feature:o}=s;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$s()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<lb.length;i++){const o=lb[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=fE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=cf(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(oj(i)||cj(i))?i=parseFloat(i):!wM(i)&&Dc.test(s)&&(i=Vj(t,s)),this.setBaseTarget(t,Ja(i)?i.get():i)),Ja(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const l=c2(this.props,s,this.presenceContext?.custom);l&&(i=l[t])}if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ja(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Fx),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){t2.render(this.render)}}class g4 extends hE{constructor(){super(...arguments),this.KeyframeResolver=cM}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ja(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function x4(e,{style:t,vars:s},i,o){const l=e.style;let u;for(u in t)l[u]=t[u];o?.applyProjectionStyles(l,i);for(u in s)l.setProperty(u,s[u])}function mE(e){return window.getComputedStyle(e)}class pE extends g4{constructor(){super(...arguments),this.type="html",this.renderInstance=x4}readValueFromInstance(t,s){if(xf.has(s))return this.projection?.isProjecting?H1(s):M8(t,s);{const i=mE(t),o=(qx(s)?i.getPropertyValue(s):i[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return m4(t,s)}build(t,s,i){r2(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return u2(t,s,i)}}const v4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gE(e,t,s,i){x4(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(v4.has(o)?o:d2(o),t.attrs[o])}class xE extends g4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$s}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(xf.has(s)){const i=qj(s);return i&&i.default||0}return s=v4.has(s)?s:d2(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return o4(t,s,i)}build(t,s,i){s4(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,o){gE(t,s,i,o)}mount(t){this.isSVGTag=i4(t.tagName),super.mount(t)}}const vE=(e,t)=>l2(e)?new xE(t):new pE(t,{allowProjection:e!==T.Fragment});function ef(e,t,s){const i=e.getProps();return c2(i,t,s!==void 0?s:i.custom,e)}const $1=e=>Array.isArray(e);function yE(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,cf(s))}function bE(e){return $1(e)?e[e.length-1]||0:e}function wE(e,t){const s=ef(e,t);let{transitionEnd:i={},transition:o={},...l}=s||{};l={...l,...i};for(const u in l){const d=bE(l[u]);yE(e,u,d)}}function NE(e){return!!(Ja(e)&&e.add)}function Y1(e,t){const s=e.getValue("willChange");if(NE(s))return s.add(t);if(!s&&Bl.WillChange){const i=new Bl.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function y4(e){return e.props[l4]}const jE=e=>e!==null;function SE(e,{repeat:t,repeatType:s="loop"},i){const o=e.filter(jE),l=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[l]}const AE={type:"spring",stiffness:500,damping:25,restSpeed:10},CE=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TE={type:"keyframes",duration:.8},ME={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EE=(e,{keyframes:t})=>t.length>2?TE:xf.has(e)?e.startsWith("scale")?CE(t[1]):AE:ME;function _E({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,...p}){return!!Object.keys(p).length}const f2=(e,t,s,i={},o,l)=>u=>{const d=Jx(i,e)||{},f=d.delay||i.delay||0;let{elapsed:m=0}=i;m=m-zo(f);const p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:N=>{t.set(N),d.onUpdate&&d.onUpdate(N)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};_E(d)||Object.assign(p,EE(e,p)),p.duration&&(p.duration=zo(p.duration)),p.repeatDelay&&(p.repeatDelay=zo(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(V1(p),p.delay===0&&(x=!0)),(Bl.instantAnimations||Bl.skipAnimations)&&(x=!0,V1(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const N=SE(p.keyframes,d);if(N!==void 0){Ts.update(()=>{p.onUpdate(N),p.onComplete()});return}}return d.isSync?new Kx(p):new K8(p)};function kE({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function b4(e,t,{delay:s=0,transitionOverride:i,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...d}=t;i&&(l=i);const f=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const x=e.getValue(p,e.latestValues[p]??null),N=d[p];if(N===void 0||m&&kE(m,p))continue;const y={delay:s,...Jx(l||{},p)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(N)&&N===C&&!y.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const j=y4(e);if(j){const L=window.MotionHandoffAnimation(j,p,Ts);L!==null&&(y.startTime=L,M=!0)}}Y1(e,p),x.start(f2(p,x,N,e.shouldReduceMotion&&Fj.has(p)?{type:!1}:y,e,M));const S=x.animation;S&&f.push(S)}return u&&Promise.all(f).then(()=>{Ts.update(()=>{u&&wE(e,u)})}),f}function w4(e,t,s,i=0,o=1){const l=Array.from(e).sort((m,p)=>m.sortNodePosition(p)).indexOf(t),u=e.size,d=(u-1)*i;return typeof s=="function"?s(l,u):o===1?l*i:d-l*i}function K1(e,t,s={}){const i=ef(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const l=i?()=>Promise.all(b4(e,i,s)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:x}=o;return LE(e,t,f,m,p,x,s)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(s.delay)])}function LE(e,t,s=0,i=0,o=0,l=1,u){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(K1(f,t,{...u,delay:s+(typeof i=="function"?0:i)+w4(e.variantChildren,f,i,o,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function DE(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(l=>K1(e,l,s));i=Promise.all(o)}else if(typeof t=="string")i=K1(e,t,s);else{const o=typeof t=="function"?ef(e,t,s.custom):t;i=Promise.all(b4(e,o,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}function N4(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}const RE=i2.length;function j4(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?j4(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<RE;s++){const i=i2[s],o=e.props[i];(Ah(o)||o===!1)&&(t[i]=o)}return t}const OE=[...a2].reverse(),PE=a2.length;function IE(e){return t=>Promise.all(t.map(({animation:s,options:i})=>DE(e,s,i)))}function BE(e){let t=IE(e),s=cb(),i=!0;const o=f=>(m,p)=>{const x=ef(e,p,f==="exit"?e.presenceContext?.custom:void 0);if(x){const{transition:N,transitionEnd:y,...C}=x;m={...m,...C,...y}}return m};function l(f){t=f(e)}function u(f){const{props:m}=e,p=j4(e.parent)||{},x=[],N=new Set;let y={},C=1/0;for(let S=0;S<PE;S++){const j=OE[S],L=s[j],R=m[j]!==void 0?m[j]:p[j],D=Ah(R),U=j===f?L.isActive:null;U===!1&&(C=S);let G=R===p[j]&&R!==m[j]&&D;if(G&&i&&e.manuallyAnimateOnMount&&(G=!1),L.protectedKeys={...y},!L.isActive&&U===null||!R&&!L.prevProp||Wp(R)||typeof R=="boolean")continue;const $=HE(L.prevProp,R);let B=$||j===f&&L.isActive&&!G&&D||S>C&&D,Y=!1;const fe=Array.isArray(R)?R:[R];let V=fe.reduce(o(j),{});U===!1&&(V={});const{prevResolvedValues:P={}}=L,F={...P,...V},W=K=>{B=!0,N.has(K)&&(Y=!0,N.delete(K)),L.needsAnimating[K]=!0;const H=e.getValue(K);H&&(H.liveStyle=!1)};for(const K in F){const H=V[K],ue=P[K];if(y.hasOwnProperty(K))continue;let ae=!1;$1(H)&&$1(ue)?ae=!N4(H,ue):ae=H!==ue,ae?H!=null?W(K):N.add(K):H!==void 0&&N.has(K)?W(K):L.protectedKeys[K]=!0}L.prevProp=R,L.prevResolvedValues=V,L.isActive&&(y={...y,...V}),i&&e.blockInitialAnimation&&(B=!1);const te=G&&$;B&&(!te||Y)&&x.push(...fe.map(K=>{const H={type:j};if(typeof K=="string"&&i&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:ue}=e,ae=ef(ue,K);if(ue.enteringChildren&&ae){const{delayChildren:_}=ae.transition||{};H.delay=w4(ue.enteringChildren,e,_)}}return{animation:K,options:H}}))}if(N.size){const S={};if(typeof m.initial!="boolean"){const j=ef(e,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(S.transition=j.transition)}N.forEach(j=>{const L=e.getBaseTarget(j),R=e.getValue(j);R&&(R.liveStyle=!0),S[j]=L??null}),x.push({animation:S})}let M=!!x.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(M=!1),i=!1,M?t(x):Promise.resolve()}function d(f,m){if(s[f].isActive===m)return Promise.resolve();e.variantChildren?.forEach(x=>x.animationState?.setActive(f,m)),s[f].isActive=m;const p=u(f);for(const x in s)s[x].protectedKeys={};return p}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>s,reset:()=>{s=cb(),i=!0}}}function HE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N4(t,e):!1}function vu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cb(){return{animate:vu(!0),whileInView:vu(),whileHover:vu(),whileTap:vu(),whileDrag:vu(),whileFocus:vu(),exit:vu()}}class Ic{constructor(t){this.isMounted=!1,this.node=t}update(){}}class FE extends Ic{constructor(t){super(t),t.animationState||(t.animationState=BE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zE=0;class UE extends Ic{constructor(){super(...arguments),this.id=zE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qE={animation:{Feature:FE},exit:{Feature:UE}};function Th(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}function Oh(e){return{point:{x:e.pageX,y:e.pageY}}}const VE=e=>t=>n2(t)&&e(t,Oh(t));function xh(e,t,s,i){return Th(e,t,VE(s),i)}const S4=1e-4,GE=1-S4,WE=1+S4,A4=.01,XE=0-A4,ZE=0+A4;function di(e){return e.max-e.min}function $E(e,t,s){return Math.abs(e-t)<=s}function ub(e,t,s,i=.5){e.origin=i,e.originPoint=Os(t.min,t.max,e.origin),e.scale=di(s)/di(t),e.translate=Os(s.min,s.max,e.origin)-e.originPoint,(e.scale>=GE&&e.scale<=WE||isNaN(e.scale))&&(e.scale=1),(e.translate>=XE&&e.translate<=ZE||isNaN(e.translate))&&(e.translate=0)}function vh(e,t,s,i){ub(e.x,t.x,s.x,i?i.originX:void 0),ub(e.y,t.y,s.y,i?i.originY:void 0)}function db(e,t,s){e.min=s.min+t.min,e.max=e.min+di(t)}function YE(e,t,s){db(e.x,t.x,s.x),db(e.y,t.y,s.y)}function fb(e,t,s){e.min=t.min-s.min,e.max=e.min+di(t)}function yh(e,t,s){fb(e.x,t.x,s.x),fb(e.y,t.y,s.y)}function wr(e){return[e("x"),e("y")]}const C4=({current:e})=>e?e.ownerDocument.defaultView:null,hb=(e,t)=>Math.abs(e-t);function KE(e,t){const s=hb(e.x,t.x),i=hb(e.y,t.y);return Math.sqrt(s**2+i**2)}class T4{constructor(t,s,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Gg(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,C=KE(N.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!C)return;const{point:M}=N,{timestamp:S}=Ba;this.history.push({...M,timestamp:S});const{onStart:j,onMove:L}=this.handlers;y||(j&&j(this.lastMoveEvent,N),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,N)},this.handlePointerMove=(N,y)=>{this.lastMoveEvent=N,this.lastMoveEventInfo=Vg(y,this.transformPagePoint),Ts.update(this.updatePoint,!0)},this.handlePointerUp=(N,y)=>{this.end();const{onEnd:C,onSessionEnd:M,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Gg(N.type==="pointercancel"?this.lastMoveEventInfo:Vg(y,this.transformPagePoint),this.history);this.startEvent&&C&&C(N,j),M&&M(N,j)},!n2(t))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const d=Oh(t),f=Vg(d,this.transformPagePoint),{point:m}=f,{timestamp:p}=Ba;this.history=[{...m,timestamp:p}];const{onSessionStart:x}=s;x&&x(t,Gg(f,this.history)),this.removeListeners=Lh(xh(this.contextWindow,"pointermove",this.handlePointerMove),xh(this.contextWindow,"pointerup",this.handlePointerUp),xh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lc(this.updatePoint)}}function Vg(e,t){return t?{point:t(e.point)}:e}function mb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gg({point:e},t){return{point:e,delta:mb(e,M4(t)),offset:mb(e,QE(t)),velocity:JE(t,.1)}}function QE(e){return e[0]}function M4(e){return e[e.length-1]}function JE(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const o=M4(e);for(;s>=0&&(i=e[s],!(o.timestamp-i.timestamp>zo(t)));)s--;if(!i)return{x:0,y:0};const l=Nr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function e_(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?Os(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?Os(s,e,i.max):Math.min(e,s)),e}function pb(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function t_(e,{top:t,left:s,bottom:i,right:o}){return{x:pb(e.x,s,o),y:pb(e.y,t,i)}}function gb(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function n_(e,t){return{x:gb(e.x,t.x),y:gb(e.y,t.y)}}function s_(e,t){let s=.5;const i=di(e),o=di(t);return o>i?s=Nh(t.min,t.max-i,e.min):i>o&&(s=Nh(e.min,e.max-o,t.min)),Il(0,1,s)}function a_(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Q1=.35;function i_(e=Q1){return e===!1?e=0:e===!0&&(e=Q1),{x:xb(e,"left","right"),y:xb(e,"top","bottom")}}function xb(e,t,s){return{min:vb(e,t),max:vb(e,s)}}function vb(e,t){return typeof e=="number"?e:e[t]||0}const r_=new WeakMap;class o_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$s(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:N}=this.getProps();N?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Oh(x).point)},u=(x,N)=>{const{drag:y,dragPropagation:C,onDragStart:M}=this.getProps();if(y&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hM(y),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=N,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(j=>{let L=this.getAxisMotionValue(j).get()||0;if(Uo.test(L)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[j];D&&(L=di(D)*(parseFloat(L)/100))}}this.originPoint[j]=L}),M&&Ts.postRender(()=>M(x,N)),Y1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,N)=>{this.latestPointerEvent=x,this.latestPanInfo=N;const{dragPropagation:y,dragDirectionLock:C,onDirectionLock:M,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:j}=N;if(C&&this.currentDirection===null){this.currentDirection=l_(j),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",N.point,j),this.updateAxis("y",N.point,j),this.visualElement.render(),S&&S(x,N)},f=(x,N)=>{this.latestPointerEvent=x,this.latestPanInfo=N,this.stop(x,N),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>wr(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new T4(t,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:C4(this.visualElement)})}stop(t,s){const i=t||this.latestPointerEvent,o=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Ts.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:o}=this.getProps();if(!i||!Fm(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=e_(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&$d(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=t_(i.layoutBox,t):this.constraints=!1,this.elastic=i_(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=a_(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!$d(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=cE(i,o.root,this.visualElement.getTransformPagePoint());let u=n_(o.layout.layoutBox,l);if(s){const d=s(rE(u));this.hasMutatedConstraints=!!d,d&&(u=d4(d))}return u}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=wr(p=>{if(!Fm(p,s,this.currentDirection))return;let x=f&&f[p]||{};u&&(x={min:0,max:0});const N=o?200:1e6,y=o?40:1e7,C={type:"inertia",velocity:i?t[p]:0,bounceStiffness:N,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(p,C)});return Promise.all(m).then(d)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return Y1(this.visualElement,t),i.start(f2(t,i,0,s,this.visualElement,!1))}stopAnimation(){wr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[s];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){wr(s=>{const{drag:i}=this.getProps();if(!Fm(s,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[s];l.set(t[s]-Os(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!$d(s)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};wr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=s_({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),wr(u=>{if(!Fm(u,t,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(Os(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;r_.set(this.visualElement,this);const t=this.visualElement.current,s=xh(t,"pointerdown",f=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();$d(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ts.read(i);const u=Th(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(wr(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=f[p].translate,x.set(x.get()+f[p].translate))}),this.visualElement.render())}));return()=>{u(),s(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Q1,dragMomentum:d=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Fm(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function l_(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class c_ extends Ic{constructor(t){super(t),this.removeGroupControls=jr,this.removeListeners=jr,this.controls=new o_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const yb=e=>(t,s)=>{e&&Ts.postRender(()=>e(t,s))};class u_ extends Ic{constructor(){super(...arguments),this.removePointerDownListener=jr}onPointerDown(t){this.session=new T4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:yb(t),onStart:yb(s),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Ts.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=xh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qt.test(e))e=parseFloat(e);else return e;const s=bb(e,t.target.x),i=bb(e,t.target.y);return`${s}% ${i}%`}},d_={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,o=Dc.parse(e);if(o.length>5)return i;const l=Dc.createTransformer(e),u=typeof o[0]!="number"?1:0,d=s.x.scale*t.x,f=s.y.scale*t.y;o[0+u]/=d,o[1+u]/=f;const m=Os(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};let Wg=!1;class f_ extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=t;RM(h_),l&&(s.group&&s.group.add(l),i&&i.register&&o&&i.register(l),Wg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),fp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Wg=!0,o||t.layoutDependency!==s||s===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||Ts.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),t2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:o}=t;Wg=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function E4(e){const[t,s]=Kj(),i=T.useContext(Dx);return n.jsx(f_,{...e,layoutGroup:i,switchLayoutGroup:T.useContext(c4),isPresent:t,safeToRemove:s})}const h_={borderRadius:{...lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lh,borderTopRightRadius:lh,borderBottomLeftRadius:lh,borderBottomRightRadius:lh,boxShadow:d_};function m_(e,t,s){const i=Ja(e)?e:cf(e);return i.start(f2("",i,t,s)),i.animation}const p_=(e,t)=>e.depth-t.depth;class g_{constructor(){this.children=[],this.isDirty=!1}add(t){Px(this.children,t),this.isDirty=!0}remove(t){Ix(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p_),this.isDirty=!1,this.children.forEach(t)}}function x_(e,t){const s=Li.now(),i=({timestamp:o})=>{const l=o-s;l>=t&&(Lc(i),e(l-t))};return Ts.setup(i,!0),()=>Lc(i)}const _4=["TopLeft","TopRight","BottomLeft","BottomRight"],v_=_4.length,wb=e=>typeof e=="string"?parseFloat(e):e,Nb=e=>typeof e=="number"||qt.test(e);function y_(e,t,s,i,o,l){o?(e.opacity=Os(0,s.opacity??1,b_(i)),e.opacityExit=Os(t.opacity??1,0,w_(i))):l&&(e.opacity=Os(t.opacity??1,s.opacity??1,i));for(let u=0;u<v_;u++){const d=`border${_4[u]}Radius`;let f=jb(t,d),m=jb(s,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Nb(f)===Nb(m)?(e[d]=Math.max(Os(wb(f),wb(m),i),0),(Uo.test(m)||Uo.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||s.rotate)&&(e.rotate=Os(t.rotate||0,s.rotate||0,i))}function jb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const b_=k4(0,.5,xj),w_=k4(.5,.95,jr);function k4(e,t,s){return i=>i<e?0:i>t?1:s(Nh(e,t,i))}function Sb(e,t){e.min=t.min,e.max=t.max}function br(e,t){Sb(e.x,t.x),Sb(e.y,t.y)}function Ab(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cb(e,t,s,i,o){return e-=t,e=Tp(e,1/s,i),o!==void 0&&(e=Tp(e,1/o,i)),e}function N_(e,t=0,s=1,i=.5,o,l=e,u=e){if(Uo.test(t)&&(t=parseFloat(t),t=Os(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=Os(l.min,l.max,i);e===l&&(d-=t),e.min=Cb(e.min,t,s,d,o),e.max=Cb(e.max,t,s,d,o)}function Tb(e,t,[s,i,o],l,u){N_(e,t[s],t[i],t[o],t.scale,l,u)}const j_=["x","scaleX","originX"],S_=["y","scaleY","originY"];function Mb(e,t,s,i){Tb(e.x,t,j_,s?s.x:void 0,i?i.x:void 0),Tb(e.y,t,S_,s?s.y:void 0,i?i.y:void 0)}function Eb(e){return e.translate===0&&e.scale===1}function L4(e){return Eb(e.x)&&Eb(e.y)}function _b(e,t){return e.min===t.min&&e.max===t.max}function A_(e,t){return _b(e.x,t.x)&&_b(e.y,t.y)}function kb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function D4(e,t){return kb(e.x,t.x)&&kb(e.y,t.y)}function Lb(e){return di(e.x)/di(e.y)}function Db(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class C_{constructor(){this.members=[]}add(t){Px(this.members,t),t.scheduleRender()}remove(t){if(Ix(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let i;for(let o=s;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T_(e,t,s){let i="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=s?.z||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:N,skewX:y,skewY:C}=s;m&&(i=`perspective(${m}px) ${i}`),p&&(i+=`rotate(${p}deg) `),x&&(i+=`rotateX(${x}deg) `),N&&(i+=`rotateY(${N}deg) `),y&&(i+=`skewX(${y}deg) `),C&&(i+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const Xg=["","X","Y","Z"],M_=1e3;let E_=0;function Zg(e,t,s,i){const{latestValues:o}=t;o[e]&&(s[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function R4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=y4(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ts,!(o||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&R4(i)}function O4({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=t?.()){this.id=E_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L_),this.nodes.forEach(P_),this.nodes.forEach(I_),this.nodes.forEach(D_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new g_)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Fx),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Yj(u)&&!yM(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let p,x=0;const N=()=>this.root.updateBlockedByResize=!1;Ts.read(()=>{x=window.innerWidth}),e(u,()=>{const y=window.innerWidth;y!==x&&(x=y,this.root.updateBlockedByResize=!0,p&&p(),p=x_(N,250),fp.hasAnimatedSinceResize&&(fp.hasAnimatedSinceResize=!1,this.nodes.forEach(Pb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:N,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||U_,{onLayoutAnimationStart:M,onLayoutAnimationComplete:S}=m.getProps(),j=!this.targetLayout||!D4(this.targetLayout,y),L=!x&&N;if(this.options.layoutRoot||this.resumeFrom||L||x&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Jx(C,"layout"),onPlay:M,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(p,L)}else x||Pb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&R4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ob);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O_),this.nodes.forEach(__),this.nodes.forEach(k_)):this.nodes.forEach(Ob),this.clearAllSnapshots();const d=Li.now();Ba.delta=Il(0,1e3/60,d-Ba.timestamp),Ba.timestamp=d,Ba.isProcessing=!0,Pg.update.process(Ba),Pg.preRender.process(Ba),Pg.render.process(Ba),Ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(R_),this.sharedNodes.forEach(H_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ts.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ts.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!di(this.snapshot.measuredBox.x)&&!di(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$s(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!L4(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Nu(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),q_(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return $s();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(V_))){const{scroll:m}=this.root;m&&(Yd(d.x,m.offset.x),Yd(d.y,m.offset.y))}return d}removeElementScroll(u){const d=$s();if(br(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:p,options:x}=m;m!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&br(d,u),Yd(d.x,p.offset.x),Yd(d.y,p.offset.y))}return d}applyTransform(u,d=!1){const f=$s();br(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Kd(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Nu(p.latestValues)&&Kd(f,p.latestValues)}return Nu(this.latestValues)&&Kd(f,this.latestValues),f}removeTransform(u){const d=$s();br(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Nu(m.latestValues))continue;W1(m.latestValues)&&m.updateSnapshot();const p=$s(),x=m.measurePageBox();br(p,x),Mb(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Nu(this.latestValues)&&Mb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=Ba.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$s(),this.relativeTargetOrigin=$s(),yh(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$s(),this.targetWithTransforms=$s()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):br(this.target,this.layout.layoutBox),h4(this.target,this.targetDelta)):br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$s(),this.relativeTargetOrigin=$s(),yh(this.relativeTargetOrigin,this.target,N.target),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||W1(this.parent.latestValues)||f4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ba.timestamp&&(f=!1),f)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;br(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,N=this.treeScale.y;lE(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=$s());const{target:y}=u;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ab(this.prevProjectionDelta.x,this.projectionDelta.x),Ab(this.prevProjectionDelta.y,this.projectionDelta.y)),vh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==N||!Db(this.projectionDelta.x,this.prevProjectionDelta.x)||!Db(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qd(),this.projectionDelta=Qd(),this.projectionDeltaWithTransform=Qd()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},p={...this.latestValues},x=Qd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const N=$s(),y=f?f.source:void 0,C=this.layout?this.layout.source:void 0,M=y!==C,S=this.getStack(),j=!S||S.members.length<=1,L=!!(M&&!j&&this.options.crossfade===!0&&!this.path.some(z_));this.animationProgress=0;let R;this.mixTargetDelta=D=>{const U=D/1e3;Ib(x.x,u.x,U),Ib(x.y,u.y,U),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F_(this.relativeTarget,this.relativeTargetOrigin,N,U),R&&A_(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=$s()),br(R,this.relativeTarget)),M&&(this.animationValues=p,y_(p,m,this.latestValues,U,L,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ts.update(()=>{fp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cf(0)),this.currentAnimation=m_(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:p}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&P4(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||$s();const x=di(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+x;const N=di(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+N}br(d,f),Kd(d,p),vh(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new C_),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Zg("z",u,m,this.animationValues);for(let p=0;p<Xg.length;p++)Zg(`rotate${Xg[p]}`,u,m,this.animationValues),Zg(`skew${Xg[p]}`,u,m,this.animationValues);u.render();for(const p in m)u.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=dp(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=dp(d?.pointerEvents)||""),this.hasProjected&&!Nu(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=T_(this.projectionDeltaWithTransform,this.treeScale,p);f&&(x=f(p,x)),u.transform=x;const{x:N,y}=this.projectionDelta;u.transformOrigin=`${N.origin*100}% ${y.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in Ch){if(p[C]===void 0)continue;const{correct:M,applyTo:S,isCSSVariable:j}=Ch[C],L=x==="none"?p[C]:M(p[C],m);if(S){const R=S.length;for(let D=0;D<R;D++)u[S[D]]=L}else j?this.options.visualElement.renderState.vars[C]=L:u[C]=L}this.options.layoutId&&(u.pointerEvents=m===this?dp(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Rb),this.root.sharedNodes.clear()}}}function __(e){e.updateLayout()}function k_(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,l=t.source!==e.layout.source;o==="size"?wr(p=>{const x=l?t.measuredBox[p]:t.layoutBox[p],N=di(x);x.min=s[p].min,x.max=x.min+N}):P4(o,t.layoutBox,s)&&wr(p=>{const x=l?t.measuredBox[p]:t.layoutBox[p],N=di(s[p]);x.max=x.min+N,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+N)});const u=Qd();vh(u,s,t.layoutBox);const d=Qd();l?vh(d,e.applyTransform(i,!0),t.measuredBox):vh(d,s,t.layoutBox);const f=!L4(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:N}=p;if(x&&N){const y=$s();yh(y,t.layoutBox,x.layoutBox);const C=$s();yh(C,s,N.layoutBox),D4(y,C)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=y,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function L_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function D_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function R_(e){e.clearSnapshot()}function Rb(e){e.clearMeasurements()}function Ob(e){e.isLayoutDirty=!1}function O_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Pb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function P_(e){e.resolveTargetDelta()}function I_(e){e.calcProjection()}function B_(e){e.resetSkewAndRotation()}function H_(e){e.removeLeadSnapshot()}function Ib(e,t,s){e.translate=Os(t.translate,0,s),e.scale=Os(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Bb(e,t,s,i){e.min=Os(t.min,s.min,i),e.max=Os(t.max,s.max,i)}function F_(e,t,s,i){Bb(e.x,t.x,s.x,i),Bb(e.y,t.y,s.y,i)}function z_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const U_={duration:.45,ease:[.4,0,.1,1]},Hb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Fb=Hb("applewebkit/")&&!Hb("chrome/")?Math.round:jr;function zb(e){e.min=Fb(e.min),e.max=Fb(e.max)}function q_(e){zb(e.x),zb(e.y)}function P4(e,t,s){return e==="position"||e==="preserve-aspect"&&!$E(Lb(t),Lb(s),.2)}function V_(e){return e!==e.root&&e.scroll?.wasRoot}const G_=O4({attachResizeListener:(e,t)=>Th(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$g={current:void 0},I4=O4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$g.current){const e=new G_({});e.mount(window),e.setOptions({layoutScroll:!0}),$g.current=e}return $g.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),W_={pan:{Feature:u_},drag:{Feature:c_,ProjectionNode:I4,MeasureLayout:E4}};function Ub(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,l=i[o];l&&Ts.postRender(()=>l(t,Oh(t)))}class X_ extends Ic{mount(){const{current:t}=this.node;t&&(this.unmount=mM(t,(s,i)=>(Ub(this.node,i,"Start"),o=>Ub(this.node,o,"End"))))}unmount(){}}class Z_ extends Ic{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lh(Th(this.node.current,"focus",()=>this.onFocus()),Th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qb(e,t,s){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),l=i[o];l&&Ts.postRender(()=>l(t,Oh(t)))}class $_ extends Ic{mount(){const{current:t}=this.node;t&&(this.unmount=vM(t,(s,i)=>(qb(this.node,i,"Start"),(o,{success:l})=>qb(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const J1=new WeakMap,Yg=new WeakMap,Y_=e=>{const t=J1.get(e.target);t&&t(e)},K_=e=>{e.forEach(Y_)};function Q_({root:e,...t}){const s=e||document;Yg.has(s)||Yg.set(s,{});const i=Yg.get(s),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(K_,{root:e,...t})),i[o]}function J_(e,t,s){const i=Q_(t);return J1.set(e,s),i.observe(e),()=>{J1.delete(e),i.unobserve(e)}}const ek={some:0,all:1};class tk extends Ic{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:o="some",once:l}=t,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:ek[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),N=m?p:x;N&&N(f)};return J_(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(nk(t,s))&&this.startObserver()}unmount(){}}function nk({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const sk={inView:{Feature:tk},tap:{Feature:$_},focus:{Feature:Z_},hover:{Feature:X_}},ak={layout:{ProjectionNode:I4,MeasureLayout:E4}},ik={...qE,...sk,...W_,...ak},Mc=iE(ik,vE),us=[{id:"AXH045",name:"AXH045",type:"Assembly Machine",category:"AXH Assembly",status:"active",oem:"THK",controller:"Siemens S7-1500",commissionedDate:"2018-03-15",criticality:"high",lastBackup:"2024-09-15",mtbf:320,mttr:2.5,oee:87.5,power:"480V 3Ph",air:"90 PSI",network:"192.168.10.45",x:100,y:100,todayTarget:500,todayActual:487,todayScrap:8},{id:"AXH063",name:"AXH063",type:"Assembly Machine",category:"AXH Assembly",status:"active",oem:"THK",controller:"Siemens S7-1500",commissionedDate:"2019-06-20",criticality:"high",lastBackup:"2024-09-20",x:250,y:100,todayTarget:500,todayActual:512,todayScrap:5},{id:"AXH064",name:"AXH064",type:"Assembly Machine",category:"AXH Assembly",status:"maintenance",oem:"THK",controller:"Siemens S7-1500",commissionedDate:"2019-07-10",criticality:"high",lastBackup:"2024-08-30",x:400,y:100,todayTarget:500,todayActual:0,todayScrap:0},{id:"AXH062",name:"AXH062",type:"Assembly Machine",category:"AXH Assembly",status:"active",oem:"THK",controller:"Siemens S7-1500",commissionedDate:"2019-05-12",criticality:"high",lastBackup:"2024-09-25",x:550,y:100,todayTarget:500,todayActual:468,todayScrap:12},{id:"AXH057",name:"AXH057",type:"Assembly Machine",category:"AXH Assembly",status:"down",oem:"THK",controller:"Siemens S7-1500",commissionedDate:"2018-11-05",criticality:"high",lastBackup:"2024-03-10",lastDowntime:"2024-10-01",x:700,y:100,todayTarget:500,todayActual:245,todayScrap:3,downReason:"Gripper pneumatic failure - loss of pressure in Zone A",diagnosed:!1},{id:"AXH031",name:"AXH031",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2017-02-14",criticality:"medium",lastBackup:"2024-09-18",x:100,y:250,todayTarget:800,todayActual:795,todayScrap:15},{id:"AXH032",name:"AXH032",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2017-03-22",criticality:"medium",lastBackup:"2024-09-22",x:250,y:250,todayTarget:800,todayActual:823,todayScrap:11},{id:"AXH036",name:"AXH036",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2017-08-30",criticality:"medium",lastBackup:"2024-09-10",x:400,y:250,todayTarget:800,todayActual:756,todayScrap:18},{id:"AXH052",name:"AXH052",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2018-09-15",criticality:"medium",lastBackup:"2024-09-28",x:550,y:250,todayTarget:800,todayActual:812,todayScrap:9},{id:"AXH053",name:"AXH053",type:"Retainer Machine",category:"AXH Retainer",status:"maintenance",oem:"THK",controller:"Allen Bradley",commissionedDate:"2018-10-01",criticality:"medium",lastBackup:"2024-09-05",x:700,y:250,todayTarget:800,todayActual:0,todayScrap:0},{id:"AXH054",name:"AXH054",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2018-10-15",criticality:"medium",lastBackup:"2024-09-23",x:850,y:250,todayTarget:800,todayActual:789,todayScrap:13},{id:"AXH058",name:"AXH058",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2018-12-20",criticality:"medium",lastBackup:"2024-09-27",x:100,y:350,todayTarget:800,todayActual:801,todayScrap:7},{id:"AXH065",name:"AXH065",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2019-08-12",criticality:"medium",lastBackup:"2024-09-24",x:250,y:350,todayTarget:800,todayActual:834,todayScrap:10},{id:"AXH066",name:"AXH066",type:"Retainer Machine",category:"AXH Retainer",status:"active",oem:"THK",controller:"Allen Bradley",commissionedDate:"2019-09-05",criticality:"medium",lastBackup:"2024-09-26",x:400,y:350,todayTarget:800,todayActual:778,todayScrap:14},{id:"HSR25",name:"HSR25 Measurement",type:"Measurement Station",category:"Measurement",status:"active",oem:"Mitutoyo",controller:"PC-DMIS",commissionedDate:"2016-05-10",criticality:"high",lastBackup:"2024-09-29",x:550,y:350,todayTarget:120,todayActual:118,todayScrap:2},{id:"HSR30",name:"HSR30 Measurement",type:"Measurement Station",category:"Measurement",status:"active",oem:"Mitutoyo",controller:"PC-DMIS",commissionedDate:"2016-06-15",criticality:"high",lastBackup:"2024-09-28",x:700,y:350,todayTarget:120,todayActual:125,todayScrap:1},{id:"HSR35",name:"HSR35 Measurement",type:"Measurement Station",category:"Measurement",status:"active",oem:"Mitutoyo",controller:"PC-DMIS",commissionedDate:"2016-07-20",criticality:"high",lastBackup:"2024-09-27",x:850,y:350,todayTarget:120,todayActual:112,todayScrap:3},{id:"SHS20",name:"SHS20 Measurement",type:"Measurement Station",category:"Measurement",status:"active",oem:"Mitutoyo",controller:"PC-DMIS",commissionedDate:"2016-08-25",criticality:"high",lastBackup:"2024-09-26",x:100,y:500,todayTarget:120,todayActual:119,todayScrap:1},{id:"SHS25",name:"SHS25 Measurement",type:"Measurement Station",category:"Measurement",status:"active",oem:"Mitutoyo",controller:"PC-DMIS",commissionedDate:"2016-09-30",criticality:"high",lastBackup:"2024-09-25",x:250,y:500,todayTarget:120,todayActual:123,todayScrap:0},{id:"SHS30",name:"SHS30 Measurement",type:"Measurement Station",category:"Measurement",status:"active",oem:"Mitutoyo",controller:"PC-DMIS",commissionedDate:"2016-10-12",criticality:"high",lastBackup:"2024-09-24",x:400,y:500,todayTarget:120,todayActual:115,todayScrap:2},{id:"ZMH003",name:"ZMH003",type:"Laser Marker",category:"Laser Marking",status:"active",oem:"Keyence",controller:"Keyence MD-X",commissionedDate:"2020-01-10",criticality:"medium",lastBackup:"2024-09-20",x:550,y:500,todayTarget:1e3,todayActual:1045,todayScrap:5},{id:"ZMH004",name:"ZMH004",type:"Laser Marker",category:"Laser Marking",status:"active",oem:"Keyence",controller:"Keyence MD-X",commissionedDate:"2020-02-15",criticality:"medium",lastBackup:"2024-09-21",x:700,y:500,todayTarget:1e3,todayActual:998,todayScrap:8},{id:"ZMH005",name:"ZMH005",type:"Laser Marker",category:"Laser Marking",status:"active",oem:"Keyence",controller:"Keyence MD-X",commissionedDate:"2020-03-20",criticality:"medium",lastBackup:"2024-09-22",x:850,y:500,todayTarget:1e3,todayActual:1023,todayScrap:4},{id:"ZMH006",name:"ZMH006",type:"Laser Marker",category:"Laser Marking",status:"active",oem:"Keyence",controller:"Keyence MD-X",commissionedDate:"2020-04-25",criticality:"medium",lastBackup:"2024-09-23",x:100,y:650,todayTarget:1e3,todayActual:967,todayScrap:12},{id:"ZMH007",name:"ZMH007",type:"Laser Marker",category:"Laser Marking",status:"maintenance",oem:"Keyence",controller:"Keyence MD-X",commissionedDate:"2020-05-30",criticality:"medium",lastBackup:"2024-09-19",x:250,y:650,todayTarget:1e3,todayActual:0,todayScrap:0},{id:"HSR25-T",name:"HSR25 Assembly",type:"Assembly Table",category:"Assembly Tables - HSR",status:"active",criticality:"low",lastBackup:"N/A",x:400,y:650,todayTarget:50,todayActual:48,todayScrap:1},{id:"HSR30-T",name:"HSR30 Assembly",type:"Assembly Table",category:"Assembly Tables - HSR",status:"active",criticality:"low",lastBackup:"N/A",x:550,y:650,todayTarget:50,todayActual:52,todayScrap:0},{id:"HSR35-T",name:"HSR35 Assembly",type:"Assembly Table",category:"Assembly Tables - HSR",status:"active",criticality:"low",lastBackup:"N/A",x:700,y:650,todayTarget:50,todayActual:45,todayScrap:2},{id:"HSR45-T",name:"HSR45 Assembly",type:"Assembly Table",category:"Assembly Tables - HSR",status:"active",criticality:"low",lastBackup:"N/A",x:850,y:650,todayTarget:50,todayActual:51,todayScrap:1},{id:"SHS20-T",name:"SHS20 Assembly",type:"Assembly Table",category:"Assembly Tables - SHS",status:"active",criticality:"low",lastBackup:"N/A",x:100,y:800,todayTarget:50,todayActual:49,todayScrap:0},{id:"SHS25-T",name:"SHS25 Assembly",type:"Assembly Table",category:"Assembly Tables - SHS",status:"active",criticality:"low",lastBackup:"N/A",x:250,y:800,todayTarget:50,todayActual:53,todayScrap:1},{id:"SHS30-T",name:"SHS30 Assembly",type:"Assembly Table",category:"Assembly Tables - SHS",status:"active",criticality:"low",lastBackup:"N/A",x:400,y:800,todayTarget:50,todayActual:47,todayScrap:2},{id:"SHS35-T",name:"SHS35 Assembly",type:"Assembly Table",category:"Assembly Tables - SHS",status:"active",criticality:"low",lastBackup:"N/A",x:550,y:800,todayTarget:50,todayActual:50,todayScrap:0},{id:"SHS45-T",name:"SHS45 Assembly",type:"Assembly Table",category:"Assembly Tables - SHS",status:"active",criticality:"low",lastBackup:"N/A",x:700,y:800,todayTarget:50,todayActual:46,todayScrap:3},{id:"SHS55-T",name:"SHS55/65 Assembly",type:"Assembly Table",category:"Assembly Tables - SHS",status:"active",criticality:"low",lastBackup:"N/A",x:850,y:800,todayTarget:50,todayActual:54,todayScrap:1},{id:"BG001",name:"Block Grinder 1",type:"Grinding Machine",category:"Block Grinding",status:"active",oem:"Okamoto",controller:"Fanuc",x:120,y:950,todayTarget:400,todayActual:390,todayScrap:6},{id:"BG002",name:"Block Grinder 2",type:"Grinding Machine",category:"Block Grinding",status:"maintenance",oem:"Okamoto",controller:"Fanuc",x:260,y:950,todayTarget:400,todayActual:0,todayScrap:0},{id:"CUT001",name:"Cutting Line A",type:"Cutting Machine",category:"Cutting",status:"active",oem:"Amada",controller:"Siemens",x:420,y:950,todayTarget:600,todayActual:615,todayScrap:4},{id:"CUT002",name:"Cutting Line B",type:"Cutting Machine",category:"Cutting",status:"active",oem:"Amada",controller:"Siemens",x:560,y:950,todayTarget:600,todayActual:582,todayScrap:7},{id:"DRL001",name:"Drill Cell 1",type:"Drilling Machine",category:"Drilling",status:"active",oem:"Mazak",controller:"Mazatrol",x:720,y:950,todayTarget:500,todayActual:497,todayScrap:5},{id:"DRL002",name:"Drill Cell 2",type:"Drilling Machine",category:"Drilling",status:"down",oem:"Mazak",controller:"Mazatrol",x:860,y:950,todayTarget:500,todayActual:210,todayScrap:9,downReason:"Spindle overheat alarm",diagnosed:!1},{id:"INJ001",name:"Injection Molder 180T",type:"Injection Molder",category:"Injection Molding",status:"active",oem:"Arburg",controller:"Selogica",x:120,y:1080,todayTarget:1200,todayActual:1188,todayScrap:12},{id:"INJ002",name:"Injection Molder 250T",type:"Injection Molder",category:"Injection Molding",status:"active",oem:"Arburg",controller:"Selogica",x:260,y:1080,todayTarget:1200,todayActual:1196,todayScrap:8},{id:"STR001",name:"Straightener A",type:"Straightening Machine",category:"Straightening",status:"active",oem:"THK",controller:"Custom PLC",x:420,y:1080,todayTarget:700,todayActual:684,todayScrap:3},{id:"STR002",name:"Straightener B",type:"Straightening Machine",category:"Straightening",status:"active",oem:"THK",controller:"Custom PLC",x:560,y:1080,todayTarget:700,todayActual:701,todayScrap:2},{id:"WSH001",name:"Parts Washer 1",type:"Washer",category:"Wash",status:"active",oem:"EcoClean",controller:"Siemens",x:720,y:1080,todayTarget:1500,todayActual:1472,todayScrap:0},{id:"WSH002",name:"Parts Washer 2",type:"Washer",category:"Wash",status:"maintenance",oem:"EcoClean",controller:"Siemens",x:860,y:1080,todayTarget:1500,todayActual:0,todayScrap:0},{id:"CNC001",name:"CNC Cutter 1",type:"CNC Cutting",category:"CNC Cutting",status:"active",oem:"DMG Mori",controller:"Fanuc 31i",x:120,y:1210,todayTarget:450,todayActual:438,todayScrap:6},{id:"CNC002",name:"CNC Cutter 2",type:"CNC Cutting",category:"CNC Cutting",status:"active",oem:"DMG Mori",controller:"Fanuc 31i",x:260,y:1210,todayTarget:450,todayActual:455,todayScrap:4},{id:"WRP001",name:"Stretch Wrapper 1",type:"Wrapper",category:"Shipping - Wrap",status:"active",oem:"Lantech",controller:"Siemens",x:420,y:1210},{id:"WRP002",name:"Stretch Wrapper 2",type:"Wrapper",category:"Shipping - Wrap",status:"maintenance",oem:"Lantech",controller:"Siemens",x:560,y:1210},{id:"PKG001",name:"Pack Line A",type:"Packing Line",category:"Shipping - Pack",status:"active",oem:"Custom",controller:"Allen Bradley",x:720,y:1210},{id:"PKG002",name:"Pack Line B",type:"Packing Line",category:"Shipping - Pack",status:"active",oem:"Custom",controller:"Allen Bradley",x:860,y:1210},{id:"FL001",name:"Forklift A",type:"Forklift",category:"Shipping - Forklift",status:"active",oem:"Toyota",controller:"N/A",x:120,y:1340},{id:"FL002",name:"Forklift B",type:"Forklift",category:"Shipping - Forklift",status:"maintenance",oem:"Toyota",controller:"N/A",x:260,y:1340}],Zp=[{id:"E045-001",machineId:"AXH045",machineName:"AXH045",type:"backup",description:"PLC program backup v2.3.1 completed",timestamp:"2024-09-15 08:30"},{id:"E045-002",machineId:"AXH045",machineName:"AXH045",type:"eco",description:"ECO-2024-045 firmware upgrade implemented",timestamp:"2024-08-15 14:00"},{id:"E045-003",machineId:"AXH045",machineName:"AXH045",type:"maintenance",description:"Quarterly PM completed - WO-AXH045-Q3",timestamp:"2024-07-22 16:45"},{id:"E045-004",machineId:"AXH045",machineName:"AXH045",type:"uptime",description:"System back online after PM",timestamp:"2024-07-22 16:50"},{id:"E045-005",machineId:"AXH045",machineName:"AXH045",type:"downtime",description:"Scheduled quarterly preventive maintenance",timestamp:"2024-07-22 08:00"},{id:"E045-006",machineId:"AXH045",machineName:"AXH045",type:"eco",description:"ECO-2024-032 vision system calibration completed",timestamp:"2024-06-10 11:20"},{id:"E045-007",machineId:"AXH045",machineName:"AXH045",type:"backup",description:"PLC program backup v2.2.8 completed",timestamp:"2024-06-15 09:15"},{id:"E045-008",machineId:"AXH045",machineName:"AXH045",type:"maintenance",description:"Servo axis 8 ballscrew lubrication - WO-AXH045-CM12",timestamp:"2024-05-18 13:30"},{id:"E045-009",machineId:"AXH045",machineName:"AXH045",type:"fault",description:"Clamp Unit A pressure drop detected",timestamp:"2024-04-25 10:45"},{id:"E045-010",machineId:"AXH045",machineName:"AXH045",type:"uptime",description:"Clamp cylinder replacement completed",timestamp:"2024-04-25 14:20"},{id:"E045-011",machineId:"AXH045",machineName:"AXH045",type:"maintenance",description:"Semi-annual calibration completed - WO-AXH045-Q2",timestamp:"2024-04-10 15:00"},{id:"E045-012",machineId:"AXH045",machineName:"AXH045",type:"eco",description:"ECO-2024-018 torque limit adjustment implemented",timestamp:"2024-03-20 09:00"},{id:"E045-013",machineId:"AXH045",machineName:"AXH045",type:"backup",description:"PLC program backup v2.2.5 completed",timestamp:"2024-03-15 08:00"},{id:"E045-014",machineId:"AXH045",machineName:"AXH045",type:"maintenance",description:"Vision camera lens cleaning - WO-AXH045-CM08",timestamp:"2024-02-28 11:00"},{id:"E045-015",machineId:"AXH045",machineName:"AXH045",type:"maintenance",description:"Q1 Preventive maintenance completed - WO-AXH045-Q1",timestamp:"2024-01-15 14:30"},{id:"E001",machineId:"AXH057",machineName:"AXH057",type:"fault",description:"Gripper pneumatic failure",timestamp:"2024-10-01 14:23"},{id:"E002",machineId:"AXH064",machineName:"AXH064",type:"downtime",description:"Scheduled preventive maintenance",timestamp:"2024-09-30 08:00"},{id:"E003",machineId:"ZMH007",machineName:"ZMH007",type:"fault",description:"Laser alignment drift",timestamp:"2024-09-29 16:45"},{id:"E004",machineId:"AXH053",machineName:"AXH053",type:"downtime",description:"Retainer tooling replacement",timestamp:"2024-09-28 10:30"},{id:"E006",machineId:"HSR25",machineName:"HSR25 Measurement",type:"fault",description:"Probe calibration error",timestamp:"2024-09-26 11:15"},{id:"E007",machineId:"AXH032",machineName:"AXH032",type:"downtime",description:"Conveyor belt replacement",timestamp:"2024-09-25 09:20"},{id:"E008",machineId:"ZMH004",machineName:"ZMH004",type:"fault",description:"Communication timeout to PLC",timestamp:"2024-09-24 13:50"},{id:"E009",machineId:"AXH063",machineName:"AXH063",type:"uptime",description:"Resumed production after tooling change",timestamp:"2024-09-23 07:30"},{id:"E010",machineId:"SHS30",machineName:"SHS30 Measurement",type:"fault",description:"CMM software crash",timestamp:"2024-09-22 14:10"},{id:"E-BG001-001",machineId:"BG001",machineName:"Block Grinder 1",type:"fault",description:"Coolant flow low alarm",timestamp:"2024-10-01 09:30"},{id:"E-BG002-001",machineId:"BG002",machineName:"Block Grinder 2",type:"maintenance",description:"Scheduled wheel dressing and alignment",timestamp:"2024-10-02 08:00"},{id:"E-CUT001-001",machineId:"CUT001",machineName:"Cutting Line A",type:"uptime",description:"Back online after blade change",timestamp:"2024-10-02 10:45"},{id:"E-DRL002-001",machineId:"DRL002",machineName:"Drill Cell 2",type:"downtime",description:"Spindle overheat alarm triggered",timestamp:"2024-10-02 11:15"},{id:"E-INJ001-001",machineId:"INJ001",machineName:"Injection Molder 180T",type:"maintenance",description:"Barrel temperature calibration",timestamp:"2024-10-01 13:20"},{id:"E-WSH002-001",machineId:"WSH002",machineName:"Parts Washer 2",type:"downtime",description:"Pump motor replacement",timestamp:"2024-10-02 12:05"},{id:"E-CNC001-001",machineId:"CNC001",machineName:"CNC Cutter 1",type:"backup",description:"Fanuc 31i parameter backup v1.4 created",timestamp:"2024-10-02 07:55"},{id:"E-WRP002-001",machineId:"WRP002",machineName:"Stretch Wrapper 2",type:"downtime",description:"Turntable motor fault",timestamp:"2024-10-03 10:15"},{id:"E-PKG001-001",machineId:"PKG001",machineName:"Pack Line A",type:"uptime",description:"Back online after minor jam",timestamp:"2024-10-03 08:40"}],B4=[{id:"SO-1001",orderNumber:"SO-1001",customer:"THK North America",priority:"high",status:"picking",dueDate:"2025-10-10",createdAt:"2025-10-08T09:00:00Z",assignedTo:"Team A",items:[{sku:"HSR25-1000",description:"HSR25 Rail 1000mm",qty:20,readyQty:12},{sku:"HSR25B",description:"HSR25 Carriage",qty:40,readyQty:40}]},{id:"SO-1002",orderNumber:"SO-1002",customer:"THK Europe",priority:"medium",status:"packed",dueDate:"2025-10-11",createdAt:"2025-10-08T10:30:00Z",assignedTo:"Team B",items:[{sku:"SHS30-800",description:"SHS30 Rail 800mm",qty:10,readyQty:10},{sku:"SHS30C",description:"SHS30 Carriage",qty:20,readyQty:20}]},{id:"SO-1003",orderNumber:"SO-1003",customer:"THK Asia",priority:"critical",status:"on-hold",dueDate:"2025-10-09",createdAt:"2025-10-08T12:00:00Z",notes:"Awaiting QA release of batch SHS25-LOT-221",items:[{sku:"SHS25-900",description:"SHS25 Rail 900mm",qty:15,readyQty:0}]}],H4=[{id:"DL-5001",carrier:"FedEx Freight",reference:"BOL-88921",scheduledDate:"2025-10-09",windowStart:"10:00",windowEnd:"12:00",dock:"Dock 2",status:"scheduled",orderIds:["SO-1001"],notes:"Requires forklift with 3k lb capacity"},{id:"DL-5002",carrier:"UPS",reference:"1Z12345",scheduledDate:"2025-10-09",windowStart:"14:00",windowEnd:"16:00",dock:"Dock 1",status:"scheduled",orderIds:["SO-1002","SO-1003"]}],F4=[{id:"PR-001",partNumber:"HSR25-1000",description:"HSR25 Rail 1000mm",location:"Aisle 3 / Bin 12",requiredForOrderId:"SO-1001",requiredQty:20,availableQty:12,status:"short"},{id:"PR-002",partNumber:"HSR25B",description:"HSR25 Carriage",location:"Aisle 3 / Bin 15",requiredForOrderId:"SO-1001",requiredQty:40,availableQty:40,status:"ready"},{id:"PR-003",partNumber:"SHS30-800",description:"SHS30 Rail 800mm",location:"Aisle 5 / Bin 7",requiredForOrderId:"SO-1002",requiredQty:10,availableQty:10,status:"ready"},{id:"PR-004",partNumber:"SHS25-900",description:"SHS25 Rail 900mm",location:"Aisle 5 / Bin 11",requiredForOrderId:"SO-1003",requiredQty:15,availableQty:0,status:"allocated"}],ku=[{id:"WO-AXH045-Q4",machineId:"AXH045",machineName:"AXH045",type:"PM",priority:"medium",status:"open",description:"Q4 2024 Quarterly preventive maintenance",requestedBy:"Maintenance Schedule",assignee:"Tech Team A",dueDate:"2024-10-15",linkedEventId:"E045-003",tasks:[{description:"Safety lockout/tagout verification",status:"pending"},{description:"Visual inspection of all guards and safety devices",status:"pending"},{description:"Check emergency stop functionality",status:"pending"},{description:"Inspect pneumatic system for leaks",status:"pending"},{description:"Check air pressure regulators (90 PSI nominal)",status:"pending"},{description:"Lubricate all linear guides and ballscrews",status:"pending"},{description:"Inspect servo motor encoders for damage",status:"pending"},{description:"Verify vision system lighting and camera focus",status:"pending"},{description:"Clean and calibrate vision cameras",status:"pending"},{description:"Check clamp cylinder operation and force",status:"pending"},{description:"Inspect all wire harnesses for wear",status:"pending"},{description:"Tighten electrical connections in control cabinet",status:"pending"},{description:"Check PLC battery voltage (>3.0V required)",status:"pending"},{description:"Backup PLC program and verify against master",status:"pending"},{description:"Test all axis home positions and limits",status:"pending"},{description:"Run production test cycle and verify quality",status:"pending"},{description:"Update maintenance log and attach photos",status:"pending"}]},{id:"WO-AXH045-Q3",machineId:"AXH045",machineName:"AXH045",type:"PM",priority:"medium",status:"completed",description:"Q3 2024 Quarterly preventive maintenance",requestedBy:"Maintenance Schedule",assignee:"Tech Team A",dueDate:"2024-07-22",completedDate:"2024-07-22",verifiedBy:"M. Johnson",laborHours:4.5,tasks:[{description:"Safety lockout/tagout verification",status:"pass",notes:"All locks verified and logged"},{description:"Visual inspection of all guards and safety devices",status:"pass",notes:"No damage found"},{description:"Check emergency stop functionality",status:"pass",notes:"E-stop response time: 0.3s"},{description:"Inspect pneumatic system for leaks",status:"pass",notes:"No leaks detected"},{description:"Check air pressure regulators (90 PSI nominal)",status:"pass",notes:"Main: 89.5 PSI, Clamp: 90.2 PSI"},{description:"Lubricate all linear guides and ballscrews",status:"pass",notes:"Used Mobilith SHC 220"},{description:"Inspect servo motor encoders for damage",status:"pass",notes:"All 8 axes encoders OK"},{description:"Verify vision system lighting and camera focus",status:"pass",notes:"Lighting intensity: 95%"},{description:"Clean and calibrate vision cameras",status:"pass",notes:"Calibration within spec"},{description:"Check clamp cylinder operation and force",status:"pass",notes:"Force measured: 485N (spec: 450-500N)"},{description:"Inspect all wire harnesses for wear",status:"pass",notes:"Minor wear on Z-axis cable, monitored"},{description:"Tighten electrical connections in control cabinet",status:"pass",notes:"Torque verified with wrench"},{description:"Check PLC battery voltage (>3.0V required)",status:"pass",notes:"Voltage: 3.18V"},{description:"Backup PLC program and verify against master",status:"pass",notes:"Backup created: v2.3.1"},{description:"Test all axis home positions and limits",status:"pass",notes:"All axes within 0.01mm tolerance"},{description:"Run production test cycle and verify quality",status:"pass",notes:"10 test parts - all passed inspection"},{description:"Update maintenance log and attach photos",status:"pass",notes:"Photos uploaded to shared drive"}],evidence:["PM_Checklist_WO-AXH045-Q3_Completed.pdf","Inspection_Photos_2024-07-22.zip","Torque_Measurements_Log.xlsx","Test_Parts_Quality_Report.pdf"]},{id:"WO-AXH045-CM12",machineId:"AXH045",machineName:"AXH045",type:"CM",priority:"medium",status:"completed",description:"Servo axis 8 ballscrew lubrication and inspection",requestedBy:"Predictive Maintenance",assignee:"Tech Team B",dueDate:"2024-05-18",completedDate:"2024-05-18",verifiedBy:"K. Lee",laborHours:2,linkedComponentId:"C008",tasks:[{description:"Lock out machine and verify zero energy state",status:"pass",notes:"LOTO tag #4521 applied"},{description:"Remove ballscrew protective covers",status:"pass"},{description:"Inspect ballscrew for wear or damage",status:"pass",notes:"No visible wear, backlash within spec"},{description:"Clean old grease from ballscrew and nut",status:"pass",notes:"Used isopropyl alcohol"},{description:"Apply fresh lubrication (Mobilith SHC 220)",status:"pass",notes:"Applied 15g to nut"},{description:"Manually operate axis through full travel",status:"pass",notes:"Smooth operation confirmed"},{description:"Reinstall protective covers",status:"pass",notes:"All fasteners torqued to spec"},{description:"Test axis at various speeds",status:"pass",notes:"No abnormal noise or vibration"},{description:"Verify encoder position accuracy",status:"pass",notes:"Repeatability: +/- 0.005mm"},{description:"Document findings and update CMMS",status:"pass",notes:"Next lubrication due: Nov 2024"}],evidence:["Ballscrew_Inspection_Photos.pdf","Lubrication_Record_2024-05-18.pdf"]},{id:"WO-AXH045-CM11",machineId:"AXH045",machineName:"AXH045",type:"CM",priority:"high",status:"completed",description:"Clamp Unit A cylinder replacement - pressure drop issue",requestedBy:"Floor Supervisor",assignee:"Tech Team A",dueDate:"2024-04-25",completedDate:"2024-04-25",verifiedBy:"J. Smith",laborHours:3.5,linkedComponentId:"C002",partsUsed:[{partNumber:"CDQ2B50-25DCMZ",qty:1,lot:"LOT-2024-041"}],tasks:[{description:"Troubleshoot clamp pressure issue",status:"pass",notes:"Found internal seal failure in cylinder"},{description:"Lock out machine and depressurize air system",status:"pass",notes:"System pressure verified 0 PSI"},{description:"Remove failed cylinder CDQ2B50-25DCMZ",status:"pass",notes:"Seal damage confirmed on disassembly"},{description:"Install new cylinder from stock",status:"pass",notes:"New cylinder S/N: CDQ-2024-0425"},{description:"Connect pneumatic lines and verify routing",status:"pass",notes:"Lines secured with P-clips"},{description:"Pressurize system and check for leaks",status:"pass",notes:"No leaks at 90 PSI"},{description:"Adjust clamp force to specification",status:"pass",notes:"Set to 485N per work instruction"},{description:"Test clamp operation 20 cycles",status:"pass",notes:"Consistent force, no drift detected"},{description:"Run production test parts",status:"pass",notes:"5 parts produced - all within spec"},{description:"Update spare parts inventory",status:"pass",notes:"Reorder point triggered for CDQ2B50-25DCMZ"}],evidence:["Failed_Cylinder_Photos.pdf","Clamp_Force_Calibration_2024-04-25.xlsx","Test_Parts_Dimensional_Report.pdf"]},{id:"WO-AXH045-Q2",machineId:"AXH045",machineName:"AXH045",type:"Calibration",priority:"high",status:"completed",description:"Semi-annual calibration and alignment verification",requestedBy:"Quality Dept",assignee:"Calibration Team",dueDate:"2024-04-10",completedDate:"2024-04-10",verifiedBy:"Quality Manager",laborHours:6,tasks:[{description:"Verify calibration equipment certificates",status:"pass",notes:"Laser interferometer cert valid until Dec 2024"},{description:"Set up laser measurement system",status:"pass",notes:"Renishaw XL-80 system used"},{description:"Measure X-axis positioning accuracy",status:"pass",notes:"Max error: 0.008mm, within +/-0.010mm spec"},{description:"Measure Y-axis positioning accuracy",status:"pass",notes:"Max error: 0.006mm, within spec"},{description:"Measure Z-axis positioning accuracy",status:"pass",notes:"Max error: 0.009mm, within spec"},{description:"Check rotary axis positioning",status:"pass",notes:"Max error: 0.015, within +/-0.020 spec"},{description:"Verify vision system calibration",status:"pass",notes:"Pattern recognition: 98.5% accuracy"},{description:"Check clamp force calibration",status:"pass",notes:"Force gauge: 487N (spec 450-500N)"},{description:"Measure and record perpendicularity",status:"pass",notes:"X-Y: 0.004mm/300mm"},{description:"Test repeatability with 10 cycles",status:"pass",notes:"Std dev: 0.003mm across all axes"},{description:"Generate calibration certificates",status:"pass",notes:"Certificates uploaded to quality system"},{description:"Update machine calibration due date",status:"pass",notes:"Next calibration due: Oct 2024"}],evidence:["Calibration_Certificate_X_Axis.pdf","Calibration_Certificate_Y_Axis.pdf","Calibration_Certificate_Z_Axis.pdf","Vision_System_Validation_Report.pdf","Laser_Measurement_Data_2024-04-10.xlsx"]},{id:"WO-AXH045-CM08",machineId:"AXH045",machineName:"AXH045",type:"CM",priority:"low",status:"completed",description:"Vision camera lens cleaning and inspection",requestedBy:"Quality Dept",assignee:"Tech Team C",dueDate:"2024-02-28",completedDate:"2024-02-28",verifiedBy:"Quality Tech",laborHours:1,linkedComponentId:"C006",tasks:[{description:"Power down vision system safely",status:"pass"},{description:"Remove protective camera housing",status:"pass"},{description:"Inspect lens for scratches or damage",status:"pass",notes:"Minor dust accumulation only"},{description:"Clean lens with approved optical cleaner",status:"pass",notes:"Used Zeiss lens cleaning solution"},{description:"Check LED ring light for failures",status:"pass",notes:"All LEDs operational"},{description:"Reinstall camera housing",status:"pass"},{description:"Power up and test image quality",status:"pass",notes:"Edge detection improved by 12%"},{description:"Run vision calibration routine",status:"pass",notes:"Calibration successful on first attempt"}],evidence:["Vision_Camera_Before_After_Photos.pdf","Image_Quality_Comparison.pdf"]},{id:"WO-AXH045-Q1",machineId:"AXH045",machineName:"AXH045",type:"PM",priority:"medium",status:"completed",description:"Q1 2024 Preventive maintenance",requestedBy:"Maintenance Schedule",assignee:"Tech Team A",dueDate:"2024-01-15",completedDate:"2024-01-15",verifiedBy:"M. Johnson",laborHours:5,tasks:[{description:"Safety lockout/tagout verification",status:"pass"},{description:"Visual inspection of all guards and safety devices",status:"pass"},{description:"Check emergency stop functionality",status:"pass"},{description:"Inspect pneumatic system for leaks",status:"pass"},{description:"Check air pressure regulators (90 PSI nominal)",status:"pass"},{description:"Lubricate all linear guides and ballscrews",status:"pass"},{description:"Inspect servo motor encoders for damage",status:"pass"},{description:"Verify vision system lighting and camera focus",status:"pass"},{description:"Clean and calibrate vision cameras",status:"pass"},{description:"Check clamp cylinder operation and force",status:"pass"},{description:"Inspect all wire harnesses for wear",status:"pass"},{description:"Tighten electrical connections in control cabinet",status:"pass"},{description:"Check PLC battery voltage (>3.0V required)",status:"pass",notes:"Voltage: 3.22V"},{description:"Backup PLC program and verify against master",status:"pass"},{description:"Test all axis home positions and limits",status:"pass"},{description:"Run production test cycle and verify quality",status:"pass"},{description:"Update maintenance log and attach photos",status:"pass"}]},{id:"WO001",machineId:"AXH057",machineName:"AXH057",type:"Emergency",priority:"critical",status:"in-progress",description:"Replace pneumatic gripper assembly",requestedBy:"Floor Supervisor",assignee:"Tech Team A",dueDate:"2024-10-03",tasks:[{description:"Diagnose gripper failure mode",status:"pass",notes:"Solenoid valve failure confirmed"},{description:"Order replacement gripper assembly",status:"pass",notes:"Part ordered, ETA 2 hours"},{description:"Lock out machine and depressurize system",status:"pass"},{description:"Remove failed gripper assembly",status:"pass"},{description:"Install new gripper assembly",status:"pending"},{description:"Connect pneumatic and electrical connections",status:"pending"},{description:"Test gripper operation",status:"pending"},{description:"Run production test cycle",status:"pending"}]},{id:"WO002",machineId:"ZMH007",machineName:"ZMH007",type:"CM",priority:"high",status:"open",description:"Laser alignment and calibration",requestedBy:"Quality Dept",assignee:"Tech Team B",dueDate:"2024-10-05",tasks:[{description:"Verify laser safety procedures",status:"pending"},{description:"Set up alignment targets",status:"pending"},{description:"Check laser beam alignment",status:"pending"},{description:"Adjust mirrors if needed",status:"pending"},{description:"Verify focal distance",status:"pending"},{description:"Run mark quality test pattern",status:"pending"},{description:"Adjust power settings if needed",status:"pending"},{description:"Document final settings",status:"pending"}]},{id:"WO003",machineId:"AXH064",machineName:"AXH064",type:"PM",priority:"medium",status:"in-progress",description:"Quarterly preventive maintenance",requestedBy:"Maintenance Schedule",assignee:"Tech Team A",dueDate:"2024-10-02",tasks:[{description:"Safety lockout/tagout verification",status:"pass"},{description:"Visual inspection of all guards",status:"pass"},{description:"Check emergency stop functionality",status:"pass"},{description:"Inspect pneumatic system",status:"pass"},{description:"Lubricate linear guides",status:"pass"},{description:"Check servo motors",status:"pass"},{description:"Verify vision system",status:"pending"},{description:"Test all axes",status:"pending"},{description:"Run production test",status:"pending"}]},{id:"WO004",machineId:"AXH053",machineName:"AXH053",type:"PM",priority:"medium",status:"in-progress",description:"Tooling inspection and replacement",requestedBy:"Maintenance Schedule",assignee:"Tech Team C",dueDate:"2024-10-04",tasks:[{description:"Remove retainer tooling",status:"pass"},{description:"Inspect for wear and damage",status:"pass",notes:"Wear found on punch tips"},{description:"Measure critical dimensions",status:"pass"},{description:"Order replacement tooling",status:"pass"},{description:"Install new tooling",status:"pending"},{description:"Verify alignment",status:"pending"},{description:"Run test parts",status:"pending"}]},{id:"WO005",machineId:"HSR25",machineName:"HSR25 Measurement",type:"Calibration",priority:"high",status:"open",description:"CMM probe recalibration",requestedBy:"Quality Dept",assignee:"Calibration Team",dueDate:"2024-10-06",tasks:[{description:"Verify calibration sphere certificate",status:"pending"},{description:"Clean CMM table and probe",status:"pending"},{description:"Mount calibration sphere",status:"pending"},{description:"Run probe calibration routine",status:"pending"},{description:"Verify repeatability",status:"pending"},{description:"Generate calibration certificate",status:"pending"}]},{id:"WO-BG002-PM1",machineId:"BG002",machineName:"Block Grinder 2",type:"PM",priority:"medium",status:"open",description:"Quarterly PM - spindle and wheel dressing",requestedBy:"Maintenance Schedule",assignee:"Grinding Team",dueDate:"2025-10-10",tasks:[{description:"Inspect spindle bearings",status:"pending"},{description:"Dress grinding wheel",status:"pending"},{description:"Verify coolant flow rate",status:"pending"}]},{id:"WO-DRL002-EM1",machineId:"DRL002",machineName:"Drill Cell 2",type:"Emergency",priority:"critical",status:"in-progress",description:"Resolve spindle overheat condition",requestedBy:"Production Supervisor",assignee:"Machining Team",dueDate:"2025-10-02",linkedEventId:"E-DRL002-001",tasks:[{description:"Check spindle cooling circuit",status:"pass"},{description:"Replace clogged coolant filter",status:"pass"},{description:"Thermal test at 6000 RPM",status:"pending"}]},{id:"WO-WSH002-CM1",machineId:"WSH002",machineName:"Parts Washer 2",type:"CM",priority:"high",status:"open",description:"Replace main pump motor and verify flow",requestedBy:"Maintenance",assignee:"Utilities Team",dueDate:"2025-10-03",linkedEventId:"E-WSH002-001",tasks:[{description:"Lockout/tagout verification",status:"pending"},{description:"Remove failed motor",status:"pending"},{description:"Install replacement and align",status:"pending"},{description:"Test flow and leaks",status:"pending"}]},{id:"WO-CUT001-CAL1",machineId:"CUT001",machineName:"Cutting Line A",type:"Calibration",priority:"medium",status:"open",description:"Blade height calibration and verification",requestedBy:"Quality",assignee:"Cutting Team",dueDate:"2025-10-07",tasks:[{description:"Measure blade height across table",status:"pending"},{description:"Adjust to spec +/-0.2 mm",status:"pending"},{description:"Run sample cut and inspect",status:"pending"}]},{id:"WO-INJ001-PM1",machineId:"INJ001",machineName:"Injection Molder 180T",type:"PM",priority:"medium",status:"open",description:"Monthly PM - check heaters, thermocouples, and hydraulic lines",requestedBy:"Maintenance Schedule",assignee:"Plastics Team",dueDate:"2025-10-08",tasks:[{description:"Inspect heater bands",status:"pending"},{description:"Verify barrel zone temps",status:"pending"},{description:"Check for hydraulic leaks",status:"pending"}]},{id:"WO-STR002-CM1",machineId:"STR002",machineName:"Straightener B",type:"CM",priority:"high",status:"in-progress",description:"Replace worn guide rollers",requestedBy:"Production",assignee:"Forming Team",dueDate:"2025-10-04",tasks:[{description:"Lockout/tagout",status:"pass"},{description:"Remove roller set",status:"pass"},{description:"Install new rollers and align",status:"pending"}]},{id:"WO-CNC002-EM1",machineId:"CNC002",machineName:"CNC Cutter 2",type:"Emergency",priority:"critical",status:"open",description:"Axis Y drive alarm 414 - following error",requestedBy:"Shift Lead",assignee:"CNC Team",dueDate:"2025-10-02",tasks:[{description:"Check servo drive error history",status:"pending"},{description:"Inspect ballscrew/end bearings",status:"pending"},{description:"Run backlash compensation test",status:"pending"}]},{id:"WO-CUT002-PM1",machineId:"CUT002",machineName:"Cutting Line B",type:"PM",priority:"low",status:"open",description:"Weekly lubrication and belt inspection",requestedBy:"Maintenance",assignee:"Cutting Team",dueDate:"2025-10-06",tasks:[{description:"Grease idler bearings",status:"pending"},{description:"Inspect drive belt wear",status:"pending"},{description:"Check guard interlocks",status:"pending"}]},{id:"WO-BG001-CAL1",machineId:"BG001",machineName:"Block Grinder 1",type:"Calibration",priority:"medium",status:"open",description:"Calibrate infeed axis and verify position",requestedBy:"Quality",assignee:"Grinding Team",dueDate:"2025-10-09",tasks:[{description:"Set up dial indicator",status:"pending"},{description:"Move axis to reference points",status:"pending"},{description:"Record and adjust parameters",status:"pending"}]},{id:"WO-WSH001-CM1",machineId:"WSH001",machineName:"Parts Washer 1",type:"CM",priority:"medium",status:"open",description:"Replace spray nozzles and clean manifold",requestedBy:"Utilities",assignee:"Utilities Team",dueDate:"2025-10-05",tasks:[{description:"Isolate water supply",status:"pending"},{description:"Remove old nozzles",status:"pending"},{description:"Install new nozzles and test",status:"pending"}]},{id:"WO-DRL001-PM1",machineId:"DRL001",machineName:"Drill Cell 1",type:"PM",priority:"medium",status:"open",description:"Change coolant filter and verify pressure",requestedBy:"Maintenance",assignee:"Machining Team",dueDate:"2025-10-06",tasks:[{description:"Replace filter cartridge",status:"pending"},{description:"Prime system and test",status:"pending"},{description:"Log pressure readings",status:"pending"}]},{id:"WO-CNC001-PM2",machineId:"CNC001",machineName:"CNC Cutter 1",type:"PM",priority:"medium",status:"completed",description:"Grease linear guides and clean way covers",requestedBy:"Maintenance",assignee:"CNC Team",dueDate:"2025-09-30",completedDate:"2025-09-30",tasks:[{description:"Grease X/Y/Z guides",status:"pass"},{description:"Clean way covers",status:"pass"},{description:"Run movement test",status:"pass"}]}],Ph=[{id:"D001",machineId:"AXH045",machineName:"AXH045",type:"Program Backup",name:"AXH045_PLC_Backup_20240915.zip",uploadDate:"2024-09-15",fileUrl:"#",version:"v2.3.1",controller:"GXWorks3",createdBy:"J. Smith",releaseState:"approved"},{id:"D001b",machineId:"AXH045",machineName:"AXH045",type:"Program Backup",name:"AXH045_PLC_Backup_20240801.zip",uploadDate:"2024-08-01",fileUrl:"#",version:"v2.3.0",controller:"GXWorks3",createdBy:"J. Smith",releaseState:"approved"},{id:"D001c",machineId:"AXH045",machineName:"AXH045",type:"Program Backup",name:"AXH045_PLC_Backup_20240615.zip",uploadDate:"2024-06-15",fileUrl:"#",version:"v2.2.8",controller:"GXWorks3",createdBy:"K. Lee",releaseState:"approved"},{id:"D002",machineId:"AXH045",machineName:"AXH045",type:"Drawings",name:"AXH045_Electrical_Schematic.pdf",uploadDate:"2023-05-10",fileUrl:"#",revision:"Rev C",approvedBy:"Engineering"},{id:"D002b",machineId:"AXH045",machineName:"AXH045",type:"Drawings",name:"AXH045_Mechanical_Layout.pdf",uploadDate:"2023-05-10",fileUrl:"#",revision:"Rev B",approvedBy:"Engineering"},{id:"D002c",machineId:"AXH045",machineName:"AXH045",type:"Drawings",name:"AXH045_Pneumatic_Schematic.pdf",uploadDate:"2023-05-10",fileUrl:"#",revision:"Rev C",approvedBy:"Engineering"},{id:"D003a",machineId:"AXH045",machineName:"AXH045",type:"Operator Manual",name:"AXH045_Operation_Manual_v3.2.pdf",uploadDate:"2024-03-20",fileUrl:"#",version:"v3.2",approvedBy:"Training Dept"},{id:"D003b",machineId:"AXH045",machineName:"AXH045",type:"Operator Manual",name:"AXH045_Maintenance_Procedures.pdf",uploadDate:"2024-01-15",fileUrl:"#",version:"v2.1",approvedBy:"Maintenance Mgr"},{id:"D003c",machineId:"AXH045",machineName:"AXH045",type:"Operator Manual",name:"AXH045_Troubleshooting_Guide.pdf",uploadDate:"2024-05-10",fileUrl:"#",version:"v1.5",approvedBy:"Engineering"},{id:"D003",machineId:"AXH063",machineName:"AXH063",type:"Operator Manual",name:"AXH063_Operation_Manual.pdf",uploadDate:"2023-06-20",fileUrl:"#"},{id:"D004",machineId:"AXH057",machineName:"AXH057",type:"Program Backup",name:"AXH057_PLC_Backup_20240310.zip",uploadDate:"2024-03-10",fileUrl:"#"},{id:"D005",machineId:"ZMH003",machineName:"ZMH003",type:"Operator Manual",name:"Laser_Marking_Operation_Guide.pdf",uploadDate:"2023-08-15",fileUrl:"#"},{id:"D006",machineId:"HSR25",machineName:"HSR25 Measurement",type:"Program Backup",name:"HSR25_CMM_Program_Backup.zip",uploadDate:"2024-09-29",fileUrl:"#"},{id:"D007",machineId:"AXH032",machineName:"AXH032",type:"Drawings",name:"AXH032_Mechanical_Drawing.pdf",uploadDate:"2024-07-12",fileUrl:"#"},{id:"D008",machineId:"AXH064",machineName:"AXH064",type:"Operator Manual",name:"AXH064_Operator_Guide.pdf",uploadDate:"2024-08-20",fileUrl:"#"},{id:"D009",machineId:"ZMH004",machineName:"ZMH004",type:"Program Backup",name:"ZMH004_Laser_Program_v2.3.zip",uploadDate:"2024-09-10",fileUrl:"#"},{id:"D010",machineId:"AXH031",machineName:"AXH031",type:"Drawings",name:"AXH031_Pneumatic_Schematic.pdf",uploadDate:"2023-11-15",fileUrl:"#"},{id:"D-BG001-PRG",machineId:"BG001",machineName:"Block Grinder 1",type:"Program Backup",name:"BG001_Program_Backup_20241002.zip",uploadDate:"2024-10-02",fileUrl:"#",version:"v1.4",controller:"Fanuc 31i",createdBy:"Tech A",releaseState:"approved"},{id:"D-CUT001-PRG",machineId:"CUT001",machineName:"Cutting Line A",type:"Program Backup",name:"CUT001_Cutting_Params_20241002.json",uploadDate:"2024-10-02",fileUrl:"#",version:"v3.1",controller:"Siemens S7",createdBy:"Tech B",releaseState:"approved"},{id:"D-DRL002-DRW",machineId:"DRL002",machineName:"Drill Cell 2",type:"Drawings",name:"DRL002_Spindle_Cooling_Schematic.pdf",uploadDate:"2024-10-02",fileUrl:"#",revision:"Rev A",approvedBy:"Engineering"},{id:"D-WSH002-MAN",machineId:"WSH002",machineName:"Parts Washer 2",type:"Operator Manual",name:"WSH002_Pump_Motor_Replacement_Guide.pdf",uploadDate:"2024-10-02",fileUrl:"#",version:"v1.0",approvedBy:"Maintenance Mgr"},{id:"D-CNC001-PRG",machineId:"CNC001",machineName:"CNC Cutter 1",type:"Program Backup",name:"CNC001_Fanuc_Params_20241002.zip",uploadDate:"2024-10-02",fileUrl:"#",version:"v1.4",controller:"Fanuc 31i",createdBy:"Tech C",releaseState:"approved"}],so=[{id:"ECO001",machineId:"AXH045",machineName:"AXH045",number:"ECO-2024-045",title:"S7-1500 Firmware Upgrade",type:"Software",status:"effective",description:"Upgrade PLC firmware to S7-1500 v2.9 to address safety circuit timing issues and improve communication reliability. This update includes improved diagnostics, enhanced safety monitoring, and faster cycle times.",reason:"safety",requestedBy:"J. Smith",date:"2024-08-15",approvers:["Safety Manager - T. Williams","Engineering Manager - R. Davis","Production Manager - S. Chen"],impactedDocuments:["D001","D003a"],impactedSettings:["SET001","SET002"],effectiveFrom:"2024-08-20",rollbackPlan:"Restore from backup v2.2.8 if issues detected within 48 hours. Keep backup PLC on-site during implementation. Schedule rollback window for off-hours if needed.",attachments:["ECO-2024-045_Firmware_Release_Notes.pdf","ECO-2024-045_Test_Results.xlsx","ECO-2024-045_Safety_Analysis.pdf"]},{id:"ECO-2024-032",machineId:"AXH045",machineName:"AXH045",number:"ECO-2024-032",title:"Vision System Calibration Enhancement",type:"Process",status:"effective",description:"Update vision camera calibration procedure to improve part detection accuracy by 15%. New calibration routine includes advanced lighting compensation and multi-point reference validation.",reason:"quality",requestedBy:"Quality Dept - L. Anderson",date:"2024-06-10",approvers:["Quality Manager - M. Thompson","Production Manager - S. Chen"],impactedComponents:["C005","C006"],impactedDocuments:["D003a","D003c"],effectiveFrom:"2024-06-15",rollbackPlan:"Revert to previous calibration parameters stored in backup configuration file",attachments:["ECO-2024-032_Calibration_Procedure.pdf","ECO-2024-032_Validation_Data.xlsx"],partsAssociated:[{partNumber:"CAL-KIT-001",qty:1}]},{id:"ECO-2024-018",machineId:"AXH045",machineName:"AXH045",number:"ECO-2024-018",title:"Torque Limit Adjustment",type:"Process",status:"effective",description:"Adjust maximum torque limit from 45 Nm to 50 Nm for improved assembly quality on HSR35 blocks. This change addresses customer feedback regarding assembly tightness and reduces warranty claims.",reason:"quality",requestedBy:"Engineering - P. Martinez",date:"2024-03-20",approvers:["Engineering Manager - R. Davis","Production Manager - S. Chen","Quality Manager - M. Thompson"],impactedSettings:["SET004"],impactedDocuments:["D003a"],effectiveFrom:"2024-03-25",rollbackPlan:"Reset torque parameter to 45 Nm if defect rate increases beyond 2%",attachments:["ECO-2024-018_Torque_Study.pdf","ECO-2024-018_Customer_Feedback.pdf"]},{id:"ECO-2023-087",machineId:"AXH045",machineName:"AXH045",number:"ECO-2023-087",title:"Clamp Force Optimization",type:"Hardware",status:"closed",description:"Install upgraded clamp cylinders with adjustable force control for better part handling. New cylinders feature integrated pressure sensors and software-controlled force adjustment.",reason:"quality",requestedBy:"K. Lee",date:"2023-11-05",approvers:["Engineering Manager - R. Davis"],impactedComponents:["C001","C002","C003"],impactedSettings:["SET006"],partsAssociated:[{partNumber:"SMC-MHZ2-16D",qty:2},{partNumber:"CDQ2B50-25DCMZ",qty:4}],effectiveFrom:"2023-11-10",rollbackPlan:"Reinstall original cylinders if force control issues occur",attachments:["ECO-2023-087_Installation_Guide.pdf","ECO-2023-087_BOM.xlsx"]},{id:"ECO-2024-105",machineId:"AXH045",machineName:"AXH045",number:"ECO-2024-105",title:"OPC UA Integration",type:"Software",status:"review",description:"Implement OPC UA server for real-time production monitoring and MES integration. This will enable Industry 4.0 capabilities including real-time dashboards, predictive maintenance alerts, and automated data collection for SPC analysis.",reason:"capacity",requestedBy:"IT Department - A. Kumar",date:"2024-09-25",approvers:["IT Manager - D. Foster","Engineering Manager - R. Davis","Production Manager - S. Chen"],impactedSettings:["SET009"],impactedDocuments:["D001"],rollbackPlan:"Disable OPC UA server and revert to current data collection methods. No impact on machine operation.",attachments:["ECO-2024-105_Architecture_Diagram.pdf","ECO-2024-105_Data_Points.xlsx","ECO-2024-105_Security_Plan.pdf"]},{id:"ECO002",machineId:"ZMH003",machineName:"ZMH003",number:"ECO-2024-078",title:"Vision System Addition",type:"Hardware",status:"review",description:"Add vision system for automatic mark quality verification. System will detect incomplete marks, positional errors, and character legibility issues in real-time.",reason:"quality",requestedBy:"M. Johnson",date:"2024-09-20",approvers:["Quality Manager - M. Thompson","Engineering Manager - R. Davis"],impactedComponents:["C011"],partsAssociated:[{partNumber:"KEYENCE-CV-X150",qty:1},{partNumber:"LENS-25MM-F2.8",qty:1},{partNumber:"LED-RING-LIGHT",qty:1}],rollbackPlan:"Vision system can be bypassed through software flag if issues arise. Manual inspection will continue as backup.",attachments:["ECO-2024-078_Vision_Specs.pdf","ECO-2024-078_ROI_Analysis.xlsx"]},{id:"ECO003",machineId:"AXH057",machineName:"AXH057",number:"ECO-2024-092",title:"Gripper System Upgrade",type:"Hardware",status:"draft",description:"Replace pneumatic gripper system with servo-controlled electric grippers for improved precision, reduced air consumption, and better force feedback. Expected energy savings of 40% on pneumatic costs.",reason:"cost",requestedBy:"K. Lee",date:"2024-09-25",approvers:["Engineering Manager - R. Davis"],impactedComponents:["C009"],partsAssociated:[{partNumber:"SCHUNK-EGP-64",qty:2},{partNumber:"SERVO-CTRL-001",qty:2}],rollbackPlan:"Keep existing pneumatic system intact until servo system is fully validated. Parallel installation for 2-week trial period.",attachments:["ECO-2024-092_Cost_Analysis.xlsx","ECO-2024-092_Technical_Comparison.pdf"]},{id:"ECO-PROD-BG001-001",machineId:"BG001",machineName:"Block Grinder 1",number:"ECO-2025-001",title:"Coolant System Upgrade",type:"Hardware",status:"review",description:"Upgrade coolant pump and add flow sensor to prevent low-flow faults.",reason:"quality",requestedBy:"Grinding Team",date:"2025-10-02",approvers:["Engineering Manager - R. Davis","Maintenance Manager - P. Nguyen"],impactedDocuments:["D-BG001-PRG"]},{id:"ECO-PROD-CUT002-001",machineId:"CUT002",machineName:"Cutting Line B",number:"ECO-2025-002",title:"Blade Guard Redesign",type:"Hardware",status:"draft",description:"Redesign blade guard to improve chip evacuation and reduce rework.",reason:"quality",requestedBy:"Safety",date:"2025-10-01",approvers:["Safety Manager - T. Williams"]},{id:"ECO-PROD-DRL001-001",machineId:"DRL001",machineName:"Drill Cell 1",number:"ECO-2025-003",title:"Standardize Drill Program Naming",type:"Documentation",status:"approved",description:"Introduce naming convention and versioning for drill programs.",reason:"cost",requestedBy:"Production",date:"2025-09-28",approvers:["Production Manager - S. Chen","Engineering - L. Patel"]},{id:"ECO-PROD-INJ002-001",machineId:"INJ002",machineName:"Injection Molder 250T",number:"ECO-2025-004",title:"Cycle Time Optimization Parameters",type:"Process",status:"effective",description:"Adjust injection speed and cooling time to reduce cycle time by 8%.",reason:"capacity",requestedBy:"Process Engineer - A. Kim",date:"2025-10-02",approvers:["Quality - M. Thompson","Production - S. Chen"]},{id:"ECO-PROD-WSH002-001",machineId:"WSH002",machineName:"Parts Washer 2",number:"ECO-2025-005",title:"Pump Motor Specification Update",type:"Hardware",status:"review",description:"Update pump motor to higher efficiency model and revise wiring diagram.",reason:"cost",requestedBy:"Utilities",date:"2025-10-02",approvers:["Maintenance Manager - P. Nguyen","Engineering - R. Davis"]},{id:"ECO-PROD-CNC001-001",machineId:"CNC001",machineName:"CNC Cutter 1",number:"ECO-2025-006",title:"Add Soft Limit Warning",type:"Software",status:"review",description:"Implement soft-limit pre-warning to reduce axis following errors.",reason:"safety",requestedBy:"CNC Team",date:"2025-10-02",approvers:["IT - A. Kumar","Engineering - R. Davis"]}],z4=[{name:"AXH Assembly",count:us.filter(e=>e.category==="AXH Assembly").length},{name:"AXH Retainer",count:us.filter(e=>e.category==="AXH Retainer").length},{name:"Measurement",count:us.filter(e=>e.category==="Measurement").length},{name:"Laser Marking",count:us.filter(e=>e.category==="Laser Marking").length},{name:"Assembly Tables - HSR",count:us.filter(e=>e.category==="Assembly Tables - HSR").length},{name:"Assembly Tables - SHS",count:us.filter(e=>e.category==="Assembly Tables - SHS").length},{name:"Block Grinding",count:us.filter(e=>e.category==="Block Grinding").length},{name:"Cutting",count:us.filter(e=>e.category==="Cutting").length},{name:"Drilling",count:us.filter(e=>e.category==="Drilling").length},{name:"Injection Molding",count:us.filter(e=>e.category==="Injection Molding").length},{name:"Straightening",count:us.filter(e=>e.category==="Straightening").length},{name:"Wash",count:us.filter(e=>e.category==="Wash").length},{name:"CNC Cutting",count:us.filter(e=>e.category==="CNC Cutting").length}],Wo=[{id:"C001",machineId:"AXH045",name:"Clamp Unit A",type:"clamp",criticality:4,vendor:"SMC",model:"MHZ2-16D",partNumber:"SMC-MHZ2-16D",assetTag:"CLU-A-001",serial:"SMC12345",expectedLife:"5 years",spareQty:2,spareLocation:"Shelf A3"},{id:"C002",machineId:"AXH045",name:"Cylinder CDQ2B50-25DCMZ",type:"cylinder",parentComponentId:"C001",criticality:3,vendor:"SMC",partNumber:"CDQ2B50-25DCMZ",serial:"CYL789",spareQty:3,spareLocation:"Shelf B1"},{id:"C003",machineId:"AXH045",name:"Solenoid SMC SY5120",type:"solenoid",parentComponentId:"C001",criticality:3,vendor:"SMC",partNumber:"SY5120-5LZD-01",serial:"SOL456",spareQty:5,spareLocation:"Drawer D2"},{id:"C004",machineId:"AXH045",name:"Prox Sensor Keyence",type:"sensor",parentComponentId:"C001",criticality:2,vendor:"Keyence",partNumber:"EV-118M",assetTag:"SENS-001",spareQty:10,spareLocation:"Drawer E3"},{id:"C005",machineId:"AXH045",name:"Vision Camera",type:"vision_cam",criticality:5,vendor:"Keyence",model:"CV-X200",partNumber:"CV-X200",assetTag:"CAM-001",serial:"KEY987",expectedLife:"7 years",spareQty:1,spareLocation:"Shelf C5"},{id:"C006",machineId:"AXH045",name:"Lens 16mm F1.8",type:"vision_cam",parentComponentId:"C005",criticality:3,vendor:"Computar",partNumber:"M1614-MP",spareQty:2,spareLocation:"Shelf C5"},{id:"C007",machineId:"AXH045",name:"Servo Axis 8",type:"servo_axis",criticality:5,vendor:"Mitsubishi",model:"MR-J4-200A",partNumber:"MR-J4-200A",assetTag:"SRV-AX8",serial:"MIT654",expectedLife:"10 years",spareQty:1,spareLocation:"Shelf F2"},{id:"C008",machineId:"AXH045",name:"Ballscrew THK BNK2020",type:"ballscrew",parentComponentId:"C007",criticality:4,vendor:"THK",partNumber:"BNK2020-3.6",serial:"THK321",expectedLife:"8 years",spareQty:1,spareLocation:"Shelf F3"},{id:"C009",machineId:"AXH057",name:"Pneumatic Gripper Assembly",type:"clamp",criticality:5,vendor:"Schunk",model:"PGN-plus 64-1",partNumber:"SCHUNK-PGN64",assetTag:"GRIP-001",serial:"SCH999",expectedLife:"5 years",spareQty:0,spareLocation:"On Order"},{id:"C010",machineId:"AXH057",name:"Valve Bank Assembly",type:"valve_bank",criticality:4,vendor:"Festo",model:"VTUG-14",partNumber:"FESTO-VTUG14",assetTag:"VLV-001",spareQty:1,spareLocation:"Shelf A5"},{id:"C011",machineId:"ZMH003",name:"Laser Head",type:"laser_head",criticality:5,vendor:"Keyence",model:"MD-X1500",partNumber:"MDX-1500-HEAD",assetTag:"LSR-HEAD-001",serial:"KEY111",expectedLife:"15000 hours",spareQty:0,spareLocation:"Special Order"}],h2=[{id:"SET001",machineId:"AXH045",category:"Safety",subcategory:"E-Stops",key:"estop_zones",value:"4",effectiveFrom:"2024-01-15",changedBy:"Safety Team"},{id:"SET002",machineId:"AXH045",category:"Safety",subcategory:"Light Curtains",key:"curtain_height",value:"1800",unit:"mm",effectiveFrom:"2024-01-15",changedBy:"Safety Team"},{id:"SET003",machineId:"AXH045",category:"Safety",subcategory:"Interlocks",key:"interlock_count",value:"6",effectiveFrom:"2024-01-15",changedBy:"Safety Team"},{id:"SET004",machineId:"AXH045",category:"Process",subcategory:"Torque Limits",key:"max_torque",value:"50",unit:"Nm",effectiveFrom:"2024-03-20",changedBy:"Engineering",linkedECO:"ECO-2024-012"},{id:"SET005",machineId:"AXH045",category:"Process",subcategory:"Speed",key:"axis8_max_speed",value:"2000",unit:"mm/s",effectiveFrom:"2024-01-15",changedBy:"Engineering"},{id:"SET006",machineId:"AXH045",category:"Process",subcategory:"Force Limits",key:"clamp_force",value:"500",unit:"N",effectiveFrom:"2024-01-15",changedBy:"Engineering"},{id:"SET007",machineId:"AXH045",category:"Communication",key:"plc_ip",value:"192.168.10.45",effectiveFrom:"2024-01-15",changedBy:"IT"},{id:"SET008",machineId:"AXH045",category:"Communication",key:"hmi_ip",value:"192.168.10.46",effectiveFrom:"2024-01-15",changedBy:"IT"},{id:"SET009",machineId:"AXH045",category:"Communication",key:"opc_ua_endpoint",value:"opc.tcp://192.168.10.45:4840",effectiveFrom:"2024-02-10",changedBy:"IT"}],m2=[{id:"PROD-AXH045-20241002",machineId:"AXH045",date:"2024-10-02",target:480,actual:456,scrap:8,downtime:45,cycleTime:42},{id:"PROD-AXH045-20241001",machineId:"AXH045",date:"2024-10-01",target:480,actual:472,scrap:5,downtime:20,cycleTime:41},{id:"PROD-AXH045-20240930",machineId:"AXH045",date:"2024-09-30",target:480,actual:465,scrap:7,downtime:35,cycleTime:43},{id:"PROD-AXH045-20240929",machineId:"AXH045",date:"2024-09-29",target:480,actual:480,scrap:3,downtime:0,cycleTime:40}],rk={AX:"Dedicated assembly machine",MA:"Machining center",BF:"Barrel polishing machine",MC:"Nalife rice board",BJ:"Jig bore",ME:"Milling machine",BR:"Broaching machine",MG:"Magnetic polishing machine",BU:"Buffing machine",MH:"Horizontal milling machine",DA:"NC drilling machine",MJ:"Jig milling machine",DB:"Deburring machine",MK:"Keyway milling machine",DC:"Casting equipment",MP:"Planer",DF:"Casting furnace",MU:"Universal milling machine",DR:"Drilling machine",MV:"Vertical milling machine",DT:"Tapping board",MW:"Double head milling machine",DW:"Dedicated drilling machine",MX:"Chamfer machine",DX:"Dedicated tapping board",PA:"Automatic press straightening machine",ED:"Electric discharge machine",PR:"Press machine",EG:"Electrolytic polishing machine",PX:"Press only machine",EW:"Wire cutting machine",QA:"Testing / inspection / measuring equipment",GB:"Reference surface grinder",QG:"Surface plate",GC:"Cylindrical grinder",RP:"Linear processor",GD:"Centerless grinder",RS:"Roll straightener",GF:"Guide groove wrapping machine",RT:"Rolling machine",GH:"Crowning machine",RW:"Twist correction machine",GI:"Internal grinding machine",SA:"Automatic press straightening machine",GJ:"Jig grinder",SB:"Shot blast machine",GL:"Tool grinder",SF:"Super finishing machine",GN:"SP nut groove grinder",SG:"Grindstone cutting machine",GP:"Dedicated grinder",SH:"Shaper",GR:"External grinding machine",SL:"Slotter",GQ:"Spherical grinder",SN:"Sandblasting machine",GS:"Surface grinder",SS:"Cutting machine",GT:"Screw grinder",UC:"Dust collector",GV:"V groove grinder",UP:"Positioning device",GX:"Other grinders",WE:"Weld machine",HE:"Heat treatment furnace / related",WL:"Laser welder",HG:"Gear cutting machine",WP:"Plastic welder",HO:"Honing machine",WS:"Ultrasonic welder",IG:"Nut wrap machine",ZC:"Compressor",IJ:"Injection molding machine",ZD:"Demagnetizer machine",IR:"Robot",ZG:"Belt sander",KK:"Machine / device type",ZL:"Loader",LA:"NC lathe",ZM:"Markers / stamper",LC:"Narai lathe",ZP:"Packing machine",LE:"General purpose lathe",ZR:"Chiller",LM:"Turning center",ZS:"Other cutting machines",LP:"Flat lapping machine",ZT:"Individual tank",LV:"Turning lathe",ZW:"Washing machine",LX:"Only for lathes",ZZ:"Machines not classified"};function ok(e){if(!e)return;const t=e.slice(0,2).toUpperCase();return rk[t]}function lk(e,t){const s=ok(e);return s?`${e}  ${s}`:t??e}function U4(e){const t=lk(e.id,e.name||e.id);return t===e.name?e:{...e,name:t}}let On={machines:[...us],events:[...Zp],workOrders:[...ku],documents:[...Ph],ecos:[...so],components:[...Wo],machineSettings:[...h2],productionData:[...m2],categories:[...z4],shippingOrders:[...B4],deliveries:[...H4],partsReadiness:[...F4]};async function ck(e){return On={machines:e.machines.map(s=>U4(s)),events:[...e.events],workOrders:[...e.workOrders],documents:[...e.documents],ecos:[...e.ecos],components:[...e.components],machineSettings:[...e.machineSettings],productionData:[...e.productionData],categories:[...e.categories],shippingOrders:[...B4],deliveries:[...H4],partsReadiness:[...F4]},Promise.resolve({initialized:!0,message:"Initialized local in-memory DB"})}async function oo(){return Promise.resolve([...On.machines])}async function q4(e,t){const s=On.machines.findIndex(o=>o.id===e);if(s===-1)throw new Error("Machine not found");if(t.status==="down"){const o=t.downReason??On.machines[s].downReason;if(!o||o.trim().length===0)throw new Error("Downtime reason is required when setting status to 'down'.")}const i=U4({...On.machines[s],...t});return On.machines[s]=i,Promise.resolve(i)}async function Ih(){return Promise.resolve([...On.events])}async function uk(e){return On.events.push(e),Promise.resolve(e)}async function Bc(){return Promise.resolve([...On.workOrders])}async function V4(e){return On.workOrders.push(e),Promise.resolve(e)}async function $p(){return Promise.resolve([...On.documents])}async function dk(e){return On.documents.push(e),Promise.resolve(e)}async function Ul(){return Promise.resolve([...On.ecos])}async function fk(e){return On.ecos.push(e),Promise.resolve(e)}async function Yp(){return Promise.resolve([...On.components])}async function hk(){return Promise.resolve([...On.machineSettings])}async function G4(){return Promise.resolve([...On.productionData])}async function mk(){return Promise.resolve([...On.categories])}async function Kp(){return Promise.resolve([...On.shippingOrders])}async function pk(e,t){const s=On.shippingOrders.findIndex(i=>i.id===e);if(s===-1)throw new Error("Shipping order not found");return On.shippingOrders[s]={...On.shippingOrders[s],...t},Promise.resolve(On.shippingOrders[s])}async function W4(){return Promise.resolve([...On.deliveries])}async function gk(e,t){const s=On.deliveries.findIndex(i=>i.id===e);if(s===-1)throw new Error("Delivery not found");return On.deliveries[s]={...On.deliveries[s],...t},Promise.resolve(On.deliveries[s])}async function X4(){return Promise.resolve([...On.partsReadiness])}async function Z4(e){const t=On.shippingOrders.find(s=>s.id===e);if(!t)throw new Error("Order not found");return t.status="packed",t.packedAt=new Date().toISOString(),Promise.resolve({...t})}async function $4(e){const t=On.shippingOrders.find(s=>s.id===e);if(!t)throw new Error("Order not found");return t.status="shipped",t.shippedAt=new Date().toISOString(),Promise.resolve({...t})}async function Y4(e,t,s){const i=On.shippingOrders.find(d=>d.id===e);if(!i)throw new Error("Order not found");const o=i.items.find(d=>d.sku===t);if(!o)throw new Error("Order item not found");const l=On.partsReadiness.filter(d=>d.requiredForOrderId===e&&d.partNumber===t);let u=s;for(const d of l){if(u<=0)break;const f=Math.min(d.availableQty,u);d.availableQty-=f,u-=f,d.availableQty>=d.requiredQty?d.status="ready":d.availableQty===0?d.status="allocated":d.status="short"}return o.readyQty=Math.min((o.readyQty??0)+(s-u),o.qty),Promise.resolve({order:{...i},parts:l.map(d=>({...d}))})}function K4(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=K4(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Q4(){for(var e,t,s=0,i="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=K4(e))&&(i&&(i+=" "),i+=t);return i}const p2="-",xk=e=>{const t=yk(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const d=u.split(p2);return d[0]===""&&d.length!==1&&d.shift(),J4(d,t)||vk(u)},getConflictingClassGroupIds:(u,d)=>{const f=s[u]||[];return d&&i[u]?[...f,...i[u]]:f}}},J4=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],i=t.nextPart.get(s),o=i?J4(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(p2);return t.validators.find(({validator:u})=>u(l))?.classGroupId},Vb=/^\[(.+)\]$/,vk=e=>{if(Vb.test(e)){const t=Vb.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},yk=e=>{const{theme:t,classGroups:s}=e,i={nextPart:new Map,validators:[]};for(const o in s)ex(s[o],i,o,t);return i},ex=(e,t,s,i)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:Gb(t,o);l.classGroupId=s;return}if(typeof o=="function"){if(bk(o)){ex(o(i),t,s,i);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([l,u])=>{ex(u,Gb(t,l),s,i)})})},Gb=(e,t)=>{let s=e;return t.split(p2).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},bk=e=>e.isThemeGetter,wk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,i=new Map;const o=(l,u)=>{s.set(l,u),t++,t>e&&(t=0,i=s,s=new Map)};return{get(l){let u=s.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return o(l,u),u},set(l,u){s.has(l)?s.set(l,u):o(l,u)}}},tx="!",nx=":",Nk=nx.length,jk=e=>{const{prefix:t,experimentalParseClassName:s}=e;let i=o=>{const l=[];let u=0,d=0,f=0,m;for(let C=0;C<o.length;C++){let M=o[C];if(u===0&&d===0){if(M===nx){l.push(o.slice(f,C)),f=C+Nk;continue}if(M==="/"){m=C;continue}}M==="["?u++:M==="]"?u--:M==="("?d++:M===")"&&d--}const p=l.length===0?o:o.substring(f),x=Sk(p),N=x!==p,y=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:N,baseClassName:x,maybePostfixModifierPosition:y}};if(t){const o=t+nx,l=i;i=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(s){const o=i;i=l=>s({className:l,parseClassName:o})}return i},Sk=e=>e.endsWith(tx)?e.substring(0,e.length-1):e.startsWith(tx)?e.substring(1):e,Ak=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(u=>{u[0]==="["||t[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},Ck=e=>({cache:wk(e.cacheSize),parseClassName:jk(e),sortModifiers:Ak(e),...xk(e)}),Tk=/\s+/,Mk=(e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=t,u=[],d=e.trim().split(Tk);let f="";for(let m=d.length-1;m>=0;m-=1){const p=d[m],{isExternal:x,modifiers:N,hasImportantModifier:y,baseClassName:C,maybePostfixModifierPosition:M}=s(p);if(x){f=p+(f.length>0?" "+f:f);continue}let S=!!M,j=i(S?C.substring(0,M):C);if(!j){if(!S){f=p+(f.length>0?" "+f:f);continue}if(j=i(C),!j){f=p+(f.length>0?" "+f:f);continue}S=!1}const L=l(N).join(":"),R=y?L+tx:L,D=R+j;if(u.includes(D))continue;u.push(D);const U=o(j,S);for(let G=0;G<U.length;++G){const $=U[G];u.push(R+$)}f=p+(f.length>0?" "+f:f)}return f};function Ek(){let e=0,t,s,i="";for(;e<arguments.length;)(t=arguments[e++])&&(s=e3(t))&&(i&&(i+=" "),i+=s);return i}const e3=e=>{if(typeof e=="string")return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=e3(e[i]))&&(s&&(s+=" "),s+=t);return s};function _k(e,...t){let s,i,o,l=u;function u(f){const m=t.reduce((p,x)=>x(p),e());return s=Ck(m),i=s.cache.get,o=s.cache.set,l=d,d(f)}function d(f){const m=i(f);if(m)return m;const p=Mk(f,s);return o(f,p),p}return function(){return l(Ek.apply(null,arguments))}}const pa=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},t3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,n3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kk=/^\d+\/\d+$/,Lk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ok=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Id=e=>kk.test(e),un=e=>!!e&&!Number.isNaN(Number(e)),jc=e=>!!e&&Number.isInteger(Number(e)),Kg=e=>e.endsWith("%")&&un(e.slice(0,-1)),El=e=>Lk.test(e),Ik=()=>!0,Bk=e=>Dk.test(e)&&!Rk.test(e),s3=()=>!1,Hk=e=>Ok.test(e),Fk=e=>Pk.test(e),zk=e=>!vt(e)&&!yt(e),Uk=e=>vf(e,r3,s3),vt=e=>t3.test(e),yu=e=>vf(e,o3,Bk),Qg=e=>vf(e,Xk,un),Wb=e=>vf(e,a3,s3),qk=e=>vf(e,i3,Fk),zm=e=>vf(e,l3,Hk),yt=e=>n3.test(e),ch=e=>yf(e,o3),Vk=e=>yf(e,Zk),Xb=e=>yf(e,a3),Gk=e=>yf(e,r3),Wk=e=>yf(e,i3),Um=e=>yf(e,l3,!0),vf=(e,t,s)=>{const i=t3.exec(e);return i?i[1]?t(i[1]):s(i[2]):!1},yf=(e,t,s=!1)=>{const i=n3.exec(e);return i?i[1]?t(i[1]):s:!1},a3=e=>e==="position"||e==="percentage",i3=e=>e==="image"||e==="url",r3=e=>e==="length"||e==="size"||e==="bg-size",o3=e=>e==="length",Xk=e=>e==="number",Zk=e=>e==="family-name",l3=e=>e==="shadow",$k=()=>{const e=pa("color"),t=pa("font"),s=pa("text"),i=pa("font-weight"),o=pa("tracking"),l=pa("leading"),u=pa("breakpoint"),d=pa("container"),f=pa("spacing"),m=pa("radius"),p=pa("shadow"),x=pa("inset-shadow"),N=pa("text-shadow"),y=pa("drop-shadow"),C=pa("blur"),M=pa("perspective"),S=pa("aspect"),j=pa("ease"),L=pa("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...D(),yt,vt],G=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],B=()=>[yt,vt,f],Y=()=>[Id,"full","auto",...B()],fe=()=>[jc,"none","subgrid",yt,vt],V=()=>["auto",{span:["full",jc,yt,vt]},jc,yt,vt],P=()=>[jc,"auto",yt,vt],F=()=>["auto","min","max","fr",yt,vt],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...B()],K=()=>[Id,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],H=()=>[e,yt,vt],ue=()=>[...D(),Xb,Wb,{position:[yt,vt]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",Gk,Uk,{size:[yt,vt]}],k=()=>[Kg,ch,yu],q=()=>["","none","full",m,yt,vt],J=()=>["",un,ch,yu],oe=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[un,Kg,Xb,Wb],be=()=>["","none",C,yt,vt],ve=()=>["none",un,yt,vt],Me=()=>["none",un,yt,vt],Pe=()=>[un,yt,vt],Xe=()=>[Id,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[El],breakpoint:[El],color:[Ik],container:[El],"drop-shadow":[El],ease:["in","out","in-out"],font:[zk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[El],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[El],shadow:[El],spacing:["px",un],text:[El],"text-shadow":[El],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Id,vt,yt,S]}],container:["container"],columns:[{columns:[un,vt,yt,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[jc,"auto",yt,vt]}],basis:[{basis:[Id,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[un,Id,"auto","initial","none",vt]}],grow:[{grow:["",un,yt,vt]}],shrink:[{shrink:["",un,yt,vt]}],order:[{order:[jc,"first","last","none",yt,vt]}],"grid-cols":[{"grid-cols":fe()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":fe()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[d,"screen",...K()]}],"min-w":[{"min-w":[d,"screen","none",...K()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",s,ch,yu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,yt,Qg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Kg,vt]}],"font-family":[{font:[Vk,vt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,yt,vt]}],"line-clamp":[{"line-clamp":[un,"none",yt,Qg]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",yt,vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",yt,vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[un,"from-font","auto",yt,yu]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[un,"auto",yt,vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt,vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt,vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jc,yt,vt],radial:["",yt,vt],conic:[jc,yt,vt]},Wk,qk]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:k()}],"gradient-via-pos":[{via:k()}],"gradient-to-pos":[{to:k()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[un,yt,vt]}],"outline-w":[{outline:["",un,ch,yu]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",p,Um,zm]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",x,Um,zm]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[un,yu]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",N,Um,zm]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[un,yt,vt]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[un]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[yt,vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[un]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",yt,vt]}],filter:[{filter:["","none",yt,vt]}],blur:[{blur:be()}],brightness:[{brightness:[un,yt,vt]}],contrast:[{contrast:[un,yt,vt]}],"drop-shadow":[{"drop-shadow":["","none",y,Um,zm]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",un,yt,vt]}],"hue-rotate":[{"hue-rotate":[un,yt,vt]}],invert:[{invert:["",un,yt,vt]}],saturate:[{saturate:[un,yt,vt]}],sepia:[{sepia:["",un,yt,vt]}],"backdrop-filter":[{"backdrop-filter":["","none",yt,vt]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[un,yt,vt]}],"backdrop-contrast":[{"backdrop-contrast":[un,yt,vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",un,yt,vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[un,yt,vt]}],"backdrop-invert":[{"backdrop-invert":["",un,yt,vt]}],"backdrop-opacity":[{"backdrop-opacity":[un,yt,vt]}],"backdrop-saturate":[{"backdrop-saturate":[un,yt,vt]}],"backdrop-sepia":[{"backdrop-sepia":["",un,yt,vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",yt,vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[un,"initial",yt,vt]}],ease:[{ease:["linear","initial",j,yt,vt]}],delay:[{delay:[un,yt,vt]}],animate:[{animate:["none",L,yt,vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,yt,vt]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[yt,vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Xe()}],"translate-x":[{"translate-x":Xe()}],"translate-y":[{"translate-y":Xe()}],"translate-z":[{"translate-z":Xe()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt,vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt,vt]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[un,ch,yu,Qg]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Yk=_k($k);function Ut(...e){return Yk(Q4(e))}const Ie=T.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ut("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Ie.displayName="Card";const Kk=T.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ut("flex flex-col space-y-1.5 p-6",e),...t}));Kk.displayName="CardHeader";const Qk=T.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ut("font-semibold leading-none tracking-tight",e),...t}));Qk.displayName="CardTitle";const Jk=T.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ut("text-sm text-muted-foreground",e),...t}));Jk.displayName="CardDescription";const eL=T.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ut("p-6 pt-0",e),...t}));eL.displayName="CardContent";const tL=T.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ut("flex items-center p-6 pt-0",e),...t}));tL.displayName="CardFooter";function Ya({title:e,value:t,icon:s,variant:i="default",subtitle:o,onClick:l}){const u={default:"border-border hover:border-gray-300 bg-gradient-to-br from-white to-gray-50",success:"border-emerald-200 bg-gradient-to-br from-emerald-50 to-white hover:border-emerald-300",warning:"border-amber-200 bg-gradient-to-br from-amber-50 to-white hover:border-amber-300",danger:"border-rose-200 bg-gradient-to-br from-rose-50 to-white hover:border-rose-300"},d={default:"text-slate-600",success:"text-emerald-600",warning:"text-amber-600",danger:"text-rose-600"},f={default:"text-slate-900",success:"text-emerald-900",warning:"text-amber-900",danger:"text-rose-900"};return n.jsx(Ie,{className:`p-6 border-2 transition-all duration-200 ${u[i]} ${l?"cursor-pointer hover:shadow-lg hover:-translate-y-1":"hover:shadow-md"}`,onClick:l,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:e}),n.jsx("p",{className:`text-3xl font-bold ${f[i]}`,children:t}),o&&n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:o})]}),n.jsx("div",{className:`p-3 rounded-xl ${i==="success"?"bg-emerald-100":i==="warning"?"bg-amber-100":i==="danger"?"bg-rose-100":"bg-slate-100"}`,children:n.jsx(s,{className:`w-6 h-6 ${d[i]}`})})]})})}function c3({machines:e,onMachineClick:t,selectedMachineId:s}){const i=l=>{switch(l){case"active":return"bg-emerald-500 border-emerald-600 hover:bg-emerald-600";case"down":return"bg-red-500 border-red-600 hover:bg-red-600";case"maintenance":return"bg-amber-500 border-amber-600 hover:bg-amber-600";default:return"bg-gray-500 border-gray-600 hover:bg-gray-600"}},o=l=>{switch(l){case"active":return"bg-emerald-300";case"down":return"bg-red-300";case"maintenance":return"bg-amber-300";default:return"bg-gray-300"}};return n.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-8",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[n.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-3"}),"Factory Floor Layout"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-50 border border-emerald-200 rounded-lg",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),n.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:"Active"})]}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),n.jsx("span",{className:"text-sm font-semibold text-amber-700",children:"Maintenance"})]}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-rose-50 border border-rose-200 rounded-lg",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),n.jsx("span",{className:"text-sm font-semibold text-rose-700",children:"Down"})]})]})]}),n.jsx("div",{className:"relative bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 border-2 border-slate-200 rounded-xl p-8 min-h-[600px]",children:n.jsx("div",{className:"grid grid-cols-6 gap-4 auto-rows-min",children:e.map(l=>{const u=s===l.id;return n.jsxs(Ie,{className:`
                  group cursor-pointer transition-all duration-200 ease-out
                  hover:shadow-lg hover:-translate-y-1 hover:scale-105
                  p-4 min-h-[140px] flex flex-col justify-between
                  border-2 ${i(l.status)}
                  ${u?"ring-2 ring-blue-500 ring-offset-2":""}
                  relative overflow-hidden
                `,onClick:()=>t?.(l),children:[n.jsx("div",{className:"absolute top-3 right-3 z-10",children:n.jsx("div",{className:`w-3 h-3 rounded-full ${o(l.status)} animate-pulse`})}),n.jsxs("div",{className:"group-hover:opacity-0 transition-opacity duration-200 flex flex-col justify-center items-center text-center h-full text-white",children:[n.jsx("div",{className:"font-bold text-sm mb-1",children:l.name}),n.jsx("div",{className:"text-white/90 text-xs font-medium",children:l.type})]}),n.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 p-3 flex flex-col justify-center items-center",children:n.jsxs("div",{className:"text-sm text-gray-800 space-y-3 text-center",children:[n.jsx("div",{className:"font-bold text-gray-900",children:l.name}),n.jsxs("div",{className:`
                      flex items-center gap-2 px-3 py-1 rounded-lg border
                      ${l.status==="active"?"bg-emerald-50 border-emerald-200":""}
                      ${l.status==="maintenance"?"bg-amber-50 border-amber-200":""}
                      ${l.status==="down"?"bg-rose-50 border-rose-200":""}
                    `,children:[n.jsx("div",{className:`
                        w-3 h-3 rounded-full
                        ${l.status==="active"?"bg-emerald-500":""}
                        ${l.status==="maintenance"?"bg-amber-500":""}
                        ${l.status==="down"?"bg-rose-500":""}
                      `}),n.jsx("span",{className:`
                        text-sm font-semibold capitalize
                        ${l.status==="active"?"text-emerald-700":""}
                        ${l.status==="maintenance"?"text-amber-700":""}
                        ${l.status==="down"?"text-rose-700":""}
                      `,children:l.status})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Location:"}),n.jsx("span",{className:"ml-1",children:l.category})]})]})})]},l.id)})})})]})}function Zb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u3(...e){return t=>{let s=!1;const i=e.map(o=>{const l=Zb(o,t);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Zb(e[o],null)}}}}function Hn(...e){return T.useCallback(u3(...e),e)}function df(e){const t=nL(e),s=T.forwardRef((i,o)=>{const{children:l,...u}=i,d=T.Children.toArray(l),f=d.find(aL);if(f){const m=f.props.children,p=d.map(x=>x===f?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:x);return n.jsx(t,{...u,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,p):null})}return n.jsx(t,{...u,ref:o,children:l})});return s.displayName=`${e}.Slot`,s}var d3=df("Slot");function nL(e){const t=T.forwardRef((s,i)=>{const{children:o,...l}=s;if(T.isValidElement(o)){const u=rL(o),d=iL(l,o.props);return o.type!==T.Fragment&&(d.ref=i?u3(i,u):u),T.cloneElement(o,d)}return T.Children.count(o)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sL=Symbol("radix.slottable");function aL(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sL}function iL(e,t){const s={...t};for(const i in t){const o=e[i],l=t[i];/^on[A-Z]/.test(i)?o&&l?s[i]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(s[i]=o):i==="style"?s[i]={...o,...l}:i==="className"&&(s[i]=[o,l].filter(Boolean).join(" "))}return{...e,...s}}function rL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const $b=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yb=Q4,f3=(e,t)=>s=>{var i;if(t?.variants==null)return Yb(e,s?.class,s?.className);const{variants:o,defaultVariants:l}=t,u=Object.keys(o).map(m=>{const p=s?.[m],x=l?.[m];if(p===null)return null;const N=$b(p)||$b(x);return o[m][N]}),d=s&&Object.entries(s).reduce((m,p)=>{let[x,N]=p;return N===void 0||(m[x]=N),m},{}),f=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((m,p)=>{let{class:x,className:N,...y}=p;return Object.entries(y).every(C=>{let[M,S]=C;return Array.isArray(S)?S.includes({...l,...d}[M]):{...l,...d}[M]===S})?[...m,x,N]:m},[]);return Yb(e,u,f,s?.class,s?.className)},oL=f3("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:brightness-95",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:brightness-95",destructive:"border-transparent bg-destructive text-white [a&]:hover:brightness-95 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:e,variant:t,asChild:s=!1,...i}){const o=s?d3:"span";return n.jsx(o,{"data-slot":"badge",className:Ut(oL({variant:t}),e),...i})}const lL=f3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-95",destructive:"bg-destructive text-white hover:brightness-95 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:brightness-95",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ue({className:e,variant:t,size:s,asChild:i=!1,...o}){const l=i?d3:"button";return n.jsx(l,{"data-slot":"button",className:Ut(lL({variant:t,size:s,className:e})),...o})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,i)=>i?i.toUpperCase():s.toLowerCase()),Kb=e=>{const t=uL(e);return t.charAt(0).toUpperCase()+t.slice(1)},h3=(...e)=>e.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim(),dL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...d},f)=>T.createElement("svg",{ref:f,...fL,width:t,height:t,stroke:e,strokeWidth:i?Number(s)*24/Number(t):s,className:h3("lucide",o),...!l&&!dL(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,p])=>T.createElement(m,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(e,t)=>{const s=T.forwardRef(({className:i,...o},l)=>T.createElement(hL,{ref:l,iconNode:t,className:h3(`lucide-${cL(Kb(e))}`,`lucide-${e}`,i),...o}));return s.displayName=Kb(e),s};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Bh=Ht("activity",mL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qp=Ht("arrow-left",pL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],xL=Ht("bell-ring",gL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yL=Ht("bell",vL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],wL=Ht("box",bL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jL=Ht("calendar-days",NL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zu=Ht("calendar",SL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],CL=Ht("chart-column",AL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Qb=Ht("chart-no-axes-column-increasing",TL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EL=Ht("check",ML);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],g2=Ht("chevron-down",_L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sx=Ht("chevron-right",kL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],DL=Ht("chevron-up",LL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xa=Ht("circle-alert",RL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],PL=Ht("circle-arrow-right",OL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tf=Ht("circle-check",IL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jb=Ht("circle-check-big",BL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FL=Ht("circle-x",HL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Mp=Ht("clipboard-check",zL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qo=Ht("clipboard-list",UL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xo=Ht("clock",qL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ol=Ht("download",VL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Eu=Ht("external-link",GL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_c=Ht("factory",WL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rn=Ht("file-text",XL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Jp=Ht("file-up",ZL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YL=Ht("funnel",$L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],m3=Ht("gauge",KL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],bf=Ht("git-branch",QL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eD=Ht("house",JL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],x2=Ht("layers",tD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],qm=Ht("link-2",nD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aD=Ht("map-pin",sD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rD=Ht("menu",iD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Qi=Ht("package",oD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Ep=Ht("paperclip",lD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uD=Ht("pencil",cD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ew=Ht("plus",dD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ax=Ht("refresh-ccw",fD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tw=Ht("search",hD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ix=Ht("send",mD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ff=Ht("server",pD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rx=Ht("settings",gD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],vD=Ht("timer",xD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],p3=Ht("trending-down",yD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],v2=Ht("trending-up",bD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],er=Ht("triangle-alert",wD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],y2=Ht("truck",ND);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kc=Ht("user",jD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],AD=Ht("warehouse",SD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],tr=Ht("wrench",CD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sr=Ht("x",TD);function Qt(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return t?.(o)}}function MD(e,t){const s=T.createContext(t),i=l=>{const{children:u,...d}=l,f=T.useMemo(()=>d,Object.values(d));return n.jsx(s.Provider,{value:f,children:u})};i.displayName=e+"Provider";function o(l){const u=T.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[i,o]}function lo(e,t=[]){let s=[];function i(l,u){const d=T.createContext(u),f=s.length;s=[...s,u];const m=x=>{const{scope:N,children:y,...C}=x,M=N?.[e]?.[f]||d,S=T.useMemo(()=>C,Object.values(C));return n.jsx(M.Provider,{value:S,children:y})};m.displayName=l+"Provider";function p(x,N){const y=N?.[e]?.[f]||d,C=T.useContext(y);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,p]}const o=()=>{const l=s.map(u=>T.createContext(u));return function(d){const f=d?.[e]||l;return T.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[i,ED(o,...t)]}function ED(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=i.reduce((d,{useScope:f,scopeName:m})=>{const x=f(l)[`__scope${m}`];return{...d,...x}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}var Ta=globalThis?.document?T.useLayoutEffect:()=>{},_D=aj[" useId ".trim().toString()]||(()=>{}),kD=0;function Vo(e){const[t,s]=T.useState(_D());return Ta(()=>{s(i=>i??String(kD++))},[e]),e||(t?`radix-${t}`:"")}var LD=aj[" useInsertionEffect ".trim().toString()]||Ta;function Hl({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){const[o,l,u]=DD({defaultProp:t,onChange:s}),d=e!==void 0,f=d?e:o;{const p=T.useRef(e!==void 0);T.useEffect(()=>{const x=p.current;x!==d&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,i])}const m=T.useCallback(p=>{if(d){const x=RD(p)?p(e):p;x!==e&&u.current?.(x)}else l(p)},[d,e,l,u]);return[f,m]}function DD({defaultProp:e,onChange:t}){const[s,i]=T.useState(e),o=T.useRef(s),l=T.useRef(t);return LD(()=>{l.current=t},[t]),T.useEffect(()=>{o.current!==s&&(l.current?.(s),o.current=s)},[s,o]),[s,i,l]}function RD(e){return typeof e=="function"}var Hh=ij();const g3=sj(Hh);var OD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=OD.reduce((e,t)=>{const s=df(`Primitive.${t}`),i=T.forwardRef((o,l)=>{const{asChild:u,...d}=o,f=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function PD(e,t){e&&Hh.flushSync(()=>e.dispatchEvent(t))}function ui(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...s)=>t.current?.(...s),[])}function ID(e,t=globalThis?.document){const s=ui(e);T.useEffect(()=>{const i=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[s,t])}var BD="DismissableLayer",ox="dismissableLayer.update",HD="dismissableLayer.pointerDownOutside",FD="dismissableLayer.focusOutside",nw,x3=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b2=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...f}=e,m=T.useContext(x3),[p,x]=T.useState(null),N=p?.ownerDocument??globalThis?.document,[,y]=T.useState({}),C=Hn(t,$=>x($)),M=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=M.indexOf(S),L=p?M.indexOf(p):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,D=L>=j,U=qD($=>{const B=$.target,Y=[...m.branches].some(fe=>fe.contains(B));!D||Y||(o?.($),u?.($),$.defaultPrevented||d?.())},N),G=VD($=>{const B=$.target;[...m.branches].some(fe=>fe.contains(B))||(l?.($),u?.($),$.defaultPrevented||d?.())},N);return ID($=>{L===m.layers.size-1&&(i?.($),!$.defaultPrevented&&d&&($.preventDefault(),d()))},N),T.useEffect(()=>{if(p)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(nw=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),sw(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=nw)}},[p,N,s,m]),T.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),sw())},[p,m]),T.useEffect(()=>{const $=()=>y({});return document.addEventListener(ox,$),()=>document.removeEventListener(ox,$)},[]),n.jsx(Vt.div,{...f,ref:C,style:{pointerEvents:R?D?"auto":"none":void 0,...e.style},onFocusCapture:Qt(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Qt(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Qt(e.onPointerDownCapture,U.onPointerDownCapture)})});b2.displayName=BD;var zD="DismissableLayerBranch",UD=T.forwardRef((e,t)=>{const s=T.useContext(x3),i=T.useRef(null),o=Hn(t,i);return T.useEffect(()=>{const l=i.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),n.jsx(Vt.div,{...e,ref:o})});UD.displayName=zD;function qD(e,t=globalThis?.document){const s=ui(e),i=T.useRef(!1),o=T.useRef(()=>{});return T.useEffect(()=>{const l=d=>{if(d.target&&!i.current){let f=function(){v3(HD,s,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}function VD(e,t=globalThis?.document){const s=ui(e),i=T.useRef(!1);return T.useEffect(()=>{const o=l=>{l.target&&!i.current&&v3(FD,s,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function sw(){const e=new CustomEvent(ox);document.dispatchEvent(e)}function v3(e,t,s,{discrete:i}){const o=s.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),i?PD(o,l):o.dispatchEvent(l)}var Jg="focusScope.autoFocusOnMount",e1="focusScope.autoFocusOnUnmount",aw={bubbles:!1,cancelable:!0},GD="FocusScope",w2=T.forwardRef((e,t)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=e,[d,f]=T.useState(null),m=ui(o),p=ui(l),x=T.useRef(null),N=Hn(t,M=>f(M)),y=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let M=function(R){if(y.paused||!d)return;const D=R.target;d.contains(D)?x.current=D:Tc(x.current,{select:!0})},S=function(R){if(y.paused||!d)return;const D=R.relatedTarget;D!==null&&(d.contains(D)||Tc(x.current,{select:!0}))},j=function(R){if(document.activeElement===document.body)for(const U of R)U.removedNodes.length>0&&Tc(d)};document.addEventListener("focusin",M),document.addEventListener("focusout",S);const L=new MutationObserver(j);return d&&L.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",M),document.removeEventListener("focusout",S),L.disconnect()}}},[i,d,y.paused]),T.useEffect(()=>{if(d){rw.add(y);const M=document.activeElement;if(!d.contains(M)){const j=new CustomEvent(Jg,aw);d.addEventListener(Jg,m),d.dispatchEvent(j),j.defaultPrevented||(WD(KD(y3(d)),{select:!0}),document.activeElement===M&&Tc(d))}return()=>{d.removeEventListener(Jg,m),setTimeout(()=>{const j=new CustomEvent(e1,aw);d.addEventListener(e1,p),d.dispatchEvent(j),j.defaultPrevented||Tc(M??document.body,{select:!0}),d.removeEventListener(e1,p),rw.remove(y)},0)}}},[d,m,p,y]);const C=T.useCallback(M=>{if(!s&&!i||y.paused)return;const S=M.key==="Tab"&&!M.altKey&&!M.ctrlKey&&!M.metaKey,j=document.activeElement;if(S&&j){const L=M.currentTarget,[R,D]=XD(L);R&&D?!M.shiftKey&&j===D?(M.preventDefault(),s&&Tc(R,{select:!0})):M.shiftKey&&j===R&&(M.preventDefault(),s&&Tc(D,{select:!0})):j===L&&M.preventDefault()}},[s,i,y.paused]);return n.jsx(Vt.div,{tabIndex:-1,...u,ref:N,onKeyDown:C})});w2.displayName=GD;function WD(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(Tc(i,{select:t}),document.activeElement!==s)return}function XD(e){const t=y3(e),s=iw(t,e),i=iw(t.reverse(),e);return[s,i]}function y3(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function iw(e,t){for(const s of e)if(!ZD(s,{upTo:t}))return s}function ZD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $D(e){return e instanceof HTMLInputElement&&"select"in e}function Tc(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&$D(e)&&t&&e.select()}}var rw=YD();function YD(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=ow(e,t),e.unshift(t)},remove(t){e=ow(e,t),e[0]?.resume()}}}function ow(e,t){const s=[...e],i=s.indexOf(t);return i!==-1&&s.splice(i,1),s}function KD(e){return e.filter(t=>t.tagName!=="A")}var QD="Portal",N2=T.forwardRef((e,t)=>{const{container:s,...i}=e,[o,l]=T.useState(!1);Ta(()=>l(!0),[]);const u=s||o&&globalThis?.document?.body;return u?g3.createPortal(n.jsx(Vt.div,{...i,ref:t}),u):null});N2.displayName=QD;function JD(e,t){return T.useReducer((s,i)=>t[s][i]??s,e)}var $o=e=>{const{present:t,children:s}=e,i=e7(t),o=typeof s=="function"?s({present:i.isPresent}):T.Children.only(s),l=Hn(i.ref,t7(o));return typeof s=="function"||i.isPresent?T.cloneElement(o,{ref:l}):null};$o.displayName="Presence";function e7(e){const[t,s]=T.useState(),i=T.useRef(null),o=T.useRef(e),l=T.useRef("none"),u=e?"mounted":"unmounted",[d,f]=JD(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const m=Vm(i.current);l.current=d==="mounted"?m:"none"},[d]),Ta(()=>{const m=i.current,p=o.current;if(p!==e){const N=l.current,y=Vm(m);e?f("MOUNT"):y==="none"||m?.display==="none"?f("UNMOUNT"):f(p&&N!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Ta(()=>{if(t){let m;const p=t.ownerDocument.defaultView??window,x=y=>{const M=Vm(i.current).includes(CSS.escape(y.animationName));if(y.target===t&&M&&(f("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",m=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},N=y=>{y.target===t&&(l.current=Vm(i.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{p.clearTimeout(m),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:T.useCallback(m=>{i.current=m?getComputedStyle(m):null,s(m)},[])}}function Vm(e){return e?.animationName||"none"}function t7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var t1=0;function b3(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lw()),document.body.insertAdjacentElement("beforeend",e[1]??lw()),t1++,()=>{t1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),t1--}},[])}function lw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bo=function(){return Bo=Object.assign||function(t){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l])}return t},Bo.apply(this,arguments)};function w3(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]]);return s}function n7(e,t,s){if(s||arguments.length===2)for(var i=0,o=t.length,l;i<o;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var hp="right-scroll-bar-position",mp="width-before-scroll-bar",s7="with-scroll-bars-hidden",a7="--removed-body-scroll-bar-size";function n1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function i7(e,t){var s=T.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(i){var o=s.value;o!==i&&(s.value=i,s.callback(i,o))}}}})[0];return s.callback=t,s.facade}var r7=typeof window<"u"?T.useLayoutEffect:T.useEffect,cw=new WeakMap;function o7(e,t){var s=i7(null,function(i){return e.forEach(function(o){return n1(o,i)})});return r7(function(){var i=cw.get(s);if(i){var o=new Set(i),l=new Set(e),u=s.current;o.forEach(function(d){l.has(d)||n1(d,null)}),l.forEach(function(d){o.has(d)||n1(d,u)})}cw.set(s,e)},[e]),s}function l7(e){return e}function c7(e,t){t===void 0&&(t=l7);var s=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(l){var u=t(l,i);return s.push(u),function(){s=s.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(i=!0;s.length;){var u=s;s=[],u.forEach(l)}s={push:function(d){return l(d)},filter:function(){return s}}},assignMedium:function(l){i=!0;var u=[];if(s.length){var d=s;s=[],d.forEach(l),u=s}var f=function(){var p=u;u=[],p.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),s={push:function(p){u.push(p),m()},filter:function(p){return u=u.filter(p),s}}}};return o}function u7(e){e===void 0&&(e={});var t=c7(null);return t.options=Bo({async:!0,ssr:!1},e),t}var N3=function(e){var t=e.sideCar,s=w3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,Bo({},s))};N3.isSideCarExport=!0;function d7(e,t){return e.useMedium(t),N3}var j3=u7(),s1=function(){},e0=T.forwardRef(function(e,t){var s=T.useRef(null),i=T.useState({onScrollCapture:s1,onWheelCapture:s1,onTouchMoveCapture:s1}),o=i[0],l=i[1],u=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,p=e.enabled,x=e.shards,N=e.sideCar,y=e.noRelative,C=e.noIsolation,M=e.inert,S=e.allowPinchZoom,j=e.as,L=j===void 0?"div":j,R=e.gapMode,D=w3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=N,G=o7([s,t]),$=Bo(Bo({},D),o);return T.createElement(T.Fragment,null,p&&T.createElement(U,{sideCar:j3,removeScrollBar:m,shards:x,noRelative:y,noIsolation:C,inert:M,setCallbacks:l,allowPinchZoom:!!S,lockRef:s,gapMode:R}),u?T.cloneElement(T.Children.only(d),Bo(Bo({},$),{ref:G})):T.createElement(L,Bo({},$,{className:f,ref:G}),d))});e0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};e0.classNames={fullWidth:mp,zeroRight:hp};var f7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=f7();return t&&e.setAttribute("nonce",t),e}function m7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function p7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var g7=function(){var e=0,t=null;return{add:function(s){e==0&&(t=h7())&&(m7(t,s),p7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},x7=function(){var e=g7();return function(t,s){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},S3=function(){var e=x7(),t=function(s){var i=s.styles,o=s.dynamic;return e(i,o),null};return t},v7={left:0,top:0,right:0,gap:0},a1=function(e){return parseInt(e||"",10)||0},y7=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[a1(s),a1(i),a1(o)]},b7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return v7;var t=y7(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-s+t[2]-t[0])}},w7=S3(),nf="data-scroll-locked",N7=function(e,t,s,i){var o=e.left,l=e.top,u=e.right,d=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(s7,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(nf,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hp,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(mp,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(mp," .").concat(mp,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(nf,`] {
    `).concat(a7,": ").concat(d,`px;
  }
`)},uw=function(){var e=parseInt(document.body.getAttribute(nf)||"0",10);return isFinite(e)?e:0},j7=function(){T.useEffect(function(){return document.body.setAttribute(nf,(uw()+1).toString()),function(){var e=uw()-1;e<=0?document.body.removeAttribute(nf):document.body.setAttribute(nf,e.toString())}},[])},S7=function(e){var t=e.noRelative,s=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;j7();var l=T.useMemo(function(){return b7(o)},[o]);return T.createElement(w7,{styles:N7(l,!t,o,s?"":"!important")})},lx=!1;if(typeof window<"u")try{var Gm=Object.defineProperty({},"passive",{get:function(){return lx=!0,!0}});window.addEventListener("test",Gm,Gm),window.removeEventListener("test",Gm,Gm)}catch{lx=!1}var Bd=lx?{passive:!1}:!1,A7=function(e){return e.tagName==="TEXTAREA"},A3=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!A7(e)&&s[t]==="visible")},C7=function(e){return A3(e,"overflowY")},T7=function(e){return A3(e,"overflowX")},dw=function(e,t){var s=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=C3(e,i);if(o){var l=T3(e,i),u=l[1],d=l[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},M7=function(e){var t=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[t,s,i]},E7=function(e){var t=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[t,s,i]},C3=function(e,t){return e==="v"?C7(t):T7(t)},T3=function(e,t){return e==="v"?M7(t):E7(t)},_7=function(e,t){return e==="h"&&t==="rtl"?-1:1},k7=function(e,t,s,i,o){var l=_7(e,window.getComputedStyle(t).direction),u=l*i,d=s.target,f=t.contains(d),m=!1,p=u>0,x=0,N=0;do{if(!d)break;var y=T3(e,d),C=y[0],M=y[1],S=y[2],j=M-S-l*C;(C||j)&&C3(e,d)&&(x+=j,N+=C);var L=d.parentNode;d=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(x)<1||!p&&Math.abs(N)<1)&&(m=!0),m},Wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fw=function(e){return[e.deltaX,e.deltaY]},hw=function(e){return e&&"current"in e?e.current:e},L7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},R7=0,Hd=[];function O7(e){var t=T.useRef([]),s=T.useRef([0,0]),i=T.useRef(),o=T.useState(R7++)[0],l=T.useState(S3)[0],u=T.useRef(e);T.useEffect(function(){u.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var M=n7([e.lockRef.current],(e.shards||[]).map(hw),!0).filter(Boolean);return M.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),M.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=T.useCallback(function(M,S){if("touches"in M&&M.touches.length===2||M.type==="wheel"&&M.ctrlKey)return!u.current.allowPinchZoom;var j=Wm(M),L=s.current,R="deltaX"in M?M.deltaX:L[0]-j[0],D="deltaY"in M?M.deltaY:L[1]-j[1],U,G=M.target,$=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in M&&$==="h"&&G.type==="range")return!1;var B=dw($,G);if(!B)return!0;if(B?U=$:(U=$==="v"?"h":"v",B=dw($,G)),!B)return!1;if(!i.current&&"changedTouches"in M&&(R||D)&&(i.current=U),!U)return!0;var Y=i.current||U;return k7(Y,S,M,Y==="h"?R:D)},[]),f=T.useCallback(function(M){var S=M;if(!(!Hd.length||Hd[Hd.length-1]!==l)){var j="deltaY"in S?fw(S):Wm(S),L=t.current.filter(function(U){return U.name===S.type&&(U.target===S.target||S.target===U.shadowParent)&&L7(U.delta,j)})[0];if(L&&L.should){S.cancelable&&S.preventDefault();return}if(!L){var R=(u.current.shards||[]).map(hw).filter(Boolean).filter(function(U){return U.contains(S.target)}),D=R.length>0?d(S,R[0]):!u.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),m=T.useCallback(function(M,S,j,L){var R={name:M,delta:S,target:j,should:L,shadowParent:P7(j)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(D){return D!==R})},1)},[]),p=T.useCallback(function(M){s.current=Wm(M),i.current=void 0},[]),x=T.useCallback(function(M){m(M.type,fw(M),M.target,d(M,e.lockRef.current))},[]),N=T.useCallback(function(M){m(M.type,Wm(M),M.target,d(M,e.lockRef.current))},[]);T.useEffect(function(){return Hd.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:N}),document.addEventListener("wheel",f,Bd),document.addEventListener("touchmove",f,Bd),document.addEventListener("touchstart",p,Bd),function(){Hd=Hd.filter(function(M){return M!==l}),document.removeEventListener("wheel",f,Bd),document.removeEventListener("touchmove",f,Bd),document.removeEventListener("touchstart",p,Bd)}},[]);var y=e.removeScrollBar,C=e.inert;return T.createElement(T.Fragment,null,C?T.createElement(l,{styles:D7(o)}):null,y?T.createElement(S7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function P7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const I7=d7(j3,O7);var j2=T.forwardRef(function(e,t){return T.createElement(e0,Bo({},e,{ref:t,sideCar:I7}))});j2.classNames=e0.classNames;var B7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fd=new WeakMap,Xm=new WeakMap,Zm={},i1=0,M3=function(e){return e&&(e.host||M3(e.parentNode))},H7=function(e,t){return t.map(function(s){if(e.contains(s))return s;var i=M3(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},F7=function(e,t,s,i){var o=H7(t,Array.isArray(e)?e:[e]);Zm[s]||(Zm[s]=new WeakMap);var l=Zm[s],u=[],d=new Set,f=new Set(o),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};o.forEach(m);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(N){if(d.has(N))p(N);else try{var y=N.getAttribute(i),C=y!==null&&y!=="false",M=(Fd.get(N)||0)+1,S=(l.get(N)||0)+1;Fd.set(N,M),l.set(N,S),u.push(N),M===1&&C&&Xm.set(N,!0),S===1&&N.setAttribute(s,"true"),C||N.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",N,j)}})};return p(t),d.clear(),i1++,function(){u.forEach(function(x){var N=Fd.get(x)-1,y=l.get(x)-1;Fd.set(x,N),l.set(x,y),N||(Xm.has(x)||x.removeAttribute(i),Xm.delete(x)),y||x.removeAttribute(s)}),i1--,i1||(Fd=new WeakMap,Fd=new WeakMap,Xm=new WeakMap,Zm={})}},E3=function(e,t,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=B7(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),F7(i,o,s,"aria-hidden")):function(){return null}},t0="Dialog",[_3]=lo(t0),[z7,co]=_3(t0),k3=e=>{const{__scopeDialog:t,children:s,open:i,defaultOpen:o,onOpenChange:l,modal:u=!0}=e,d=T.useRef(null),f=T.useRef(null),[m,p]=Hl({prop:i,defaultProp:o??!1,onChange:l,caller:t0});return n.jsx(z7,{scope:t,triggerRef:d,contentRef:f,contentId:Vo(),titleId:Vo(),descriptionId:Vo(),open:m,onOpenChange:p,onOpenToggle:T.useCallback(()=>p(x=>!x),[p]),modal:u,children:s})};k3.displayName=t0;var L3="DialogTrigger",U7=T.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=co(L3,s),l=Hn(t,o.triggerRef);return n.jsx(Vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":C2(o.open),...i,ref:l,onClick:Qt(e.onClick,o.onOpenToggle)})});U7.displayName=L3;var S2="DialogPortal",[q7,D3]=_3(S2,{forceMount:void 0}),R3=e=>{const{__scopeDialog:t,forceMount:s,children:i,container:o}=e,l=co(S2,t);return n.jsx(q7,{scope:t,forceMount:s,children:T.Children.map(i,u=>n.jsx($o,{present:s||l.open,children:n.jsx(N2,{asChild:!0,container:o,children:u})}))})};R3.displayName=S2;var _p="DialogOverlay",O3=T.forwardRef((e,t)=>{const s=D3(_p,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,l=co(_p,e.__scopeDialog);return l.modal?n.jsx($o,{present:i||l.open,children:n.jsx(G7,{...o,ref:t})}):null});O3.displayName=_p;var V7=df("DialogOverlay.RemoveScroll"),G7=T.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=co(_p,s);return n.jsx(j2,{as:V7,allowPinchZoom:!0,shards:[o.contentRef],children:n.jsx(Vt.div,{"data-state":C2(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Lu="DialogContent",P3=T.forwardRef((e,t)=>{const s=D3(Lu,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,l=co(Lu,e.__scopeDialog);return n.jsx($o,{present:i||l.open,children:l.modal?n.jsx(W7,{...o,ref:t}):n.jsx(X7,{...o,ref:t})})});P3.displayName=Lu;var W7=T.forwardRef((e,t)=>{const s=co(Lu,e.__scopeDialog),i=T.useRef(null),o=Hn(t,s.contentRef,i);return T.useEffect(()=>{const l=i.current;if(l)return E3(l)},[]),n.jsx(I3,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qt(e.onCloseAutoFocus,l=>{l.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Qt(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Qt(e.onFocusOutside,l=>l.preventDefault())})}),X7=T.forwardRef((e,t)=>{const s=co(Lu,e.__scopeDialog),i=T.useRef(!1),o=T.useRef(!1);return n.jsx(I3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||s.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=l.target;s.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),I3=T.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...u}=e,d=co(Lu,s),f=T.useRef(null),m=Hn(t,f);return b3(),n.jsxs(n.Fragment,{children:[n.jsx(w2,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:n.jsx(b2,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":C2(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Z7,{titleId:d.titleId}),n.jsx(Y7,{contentRef:f,descriptionId:d.descriptionId})]})]})}),A2="DialogTitle",B3=T.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=co(A2,s);return n.jsx(Vt.h2,{id:o.titleId,...i,ref:t})});B3.displayName=A2;var H3="DialogDescription",F3=T.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=co(H3,s);return n.jsx(Vt.p,{id:o.descriptionId,...i,ref:t})});F3.displayName=H3;var z3="DialogClose",U3=T.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,o=co(z3,s);return n.jsx(Vt.button,{type:"button",...i,ref:t,onClick:Qt(e.onClick,()=>o.onOpenChange(!1))})});U3.displayName=z3;function C2(e){return e?"open":"closed"}var q3="DialogTitleWarning",[qF,V3]=MD(q3,{contentName:Lu,titleName:A2,docsSlug:"dialog"}),Z7=({titleId:e})=>{const t=V3(q3),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},$7="DialogDescriptionWarning",Y7=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${V3($7).contentName}}.`;return T.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},G3=k3,W3=R3,T2=O3,M2=P3,X3=B3,K7=F3,Q7=U3;function Ha({...e}){return n.jsx(G3,{"data-slot":"dialog",...e})}function J7({...e}){return n.jsx(W3,{"data-slot":"dialog-portal",...e})}const Z3=T.forwardRef(({className:e,...t},s)=>n.jsx(T2,{ref:s,"data-slot":"dialog-overlay",className:Ut("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/60",e),...t}));Z3.displayName=T2.displayName;const Ma=T.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(J7,{"data-slot":"dialog-portal",children:[n.jsx(Z3,{}),n.jsxs(M2,{ref:i,"data-slot":"dialog-content",className:Ut("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,n.jsxs(Q7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(Sr,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ma.displayName=M2.displayName;function Fa({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-header",className:Ut("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Uu({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-footer",className:Ut("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function za({className:e,...t}){return n.jsx(X3,{"data-slot":"dialog-title",className:Ut("text-lg leading-none font-semibold",e),...t})}function fi({className:e,...t}){return n.jsx(K7,{"data-slot":"dialog-description",className:Ut("text-muted-foreground text-sm",e),...t})}function Du({className:e,...t}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:Ut("w-full caption-bottom text-sm",e),...t})})}function Ru({className:e,...t}){return n.jsx("thead",{"data-slot":"table-header",className:Ut("[&_tr]:border-b",e),...t})}function Ou({className:e,...t}){return n.jsx("tbody",{"data-slot":"table-body",className:Ut("[&_tr:last-child]:border-0",e),...t})}function Ka({className:e,...t}){return n.jsx("tr",{"data-slot":"table-row",className:Ut("hover:bg-muted data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function fn({className:e,...t}){return n.jsx("th",{"data-slot":"table-head",className:Ut("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function sn({className:e,...t}){return n.jsx("td",{"data-slot":"table-cell",className:Ut("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function eR({machine:e,open:t,onOpenChange:s}){if(!e)return null;const i=Ph.filter(l=>l.machineId===e.id),o=l=>{switch(l){case"Program Backup":return"default";case"Operator Manual":return"secondary";case"Drawings":return"outline";default:return"default"}};return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh] flex flex-col gap-0 p-0",children:[n.jsxs(Fa,{className:"px-6 pt-6 pb-4 shrink-0",children:[n.jsxs(za,{children:["Documents - ",e.name]}),n.jsx(fi,{children:"View and manage all documents for this machine including program backups, operator manuals, and drawings."})]}),n.jsx("div",{className:"px-6 pb-6 overflow-auto flex-1 min-h-0",children:i.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(Rn,{className:"w-12 h-12 mb-3 opacity-20"}),n.jsx("p",{children:"No documents found for this machine"})]}):n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{className:"min-w-[300px]",children:"Name"}),n.jsx(fn,{className:"min-w-[180px]",children:"Type"}),n.jsx(fn,{className:"min-w-[100px]",children:"Version"}),n.jsx(fn,{className:"min-w-[180px]",children:"Upload Date"}),n.jsx(fn,{className:"min-w-[100px]",children:"Actions"})]})}),n.jsx(Ou,{children:i.map(l=>n.jsxs(Ka,{children:[n.jsx(sn,{className:"max-w-[400px]",children:l.name}),n.jsx(sn,{children:n.jsx(Ve,{variant:o(l.type),className:"whitespace-nowrap",children:l.type})}),n.jsx(sn,{children:l.version||"N/A"}),n.jsx(sn,{className:"whitespace-nowrap",children:l.uploadDate}),n.jsx(sn,{children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(Ol,{className:"w-4 h-4"})}),n.jsx(Ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(Eu,{className:"w-4 h-4"})})]})})]},l.id))})]})})]})})}function tR({machine:e,open:t,onOpenChange:s}){if(!e)return null;const i=Zp.filter(l=>l.machineId===e.id),o=l=>{switch(l){case"fault":return"destructive";case"downtime":return"destructive";case"uptime":return"default";case"backup":return"secondary";case"eco":return"outline";case"maintenance":return"secondary";default:return"default"}};return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh] flex flex-col gap-0 p-0",children:[n.jsxs(Fa,{className:"px-6 pt-6 pb-4 shrink-0",children:[n.jsxs(za,{children:["Events - ",e.name]}),n.jsx(fi,{children:"View all logged events for this machine including faults, downtime, maintenance, and backups."})]}),n.jsx("div",{className:"px-6 pb-6 overflow-auto flex-1 min-h-0",children:i.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(xa,{className:"w-12 h-12 mb-3 opacity-20"}),n.jsx("p",{children:"No events found for this machine"})]}):n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{className:"min-w-[150px]",children:"Type"}),n.jsx(fn,{className:"min-w-[400px]",children:"Description"}),n.jsx(fn,{className:"min-w-[180px]",children:"Timestamp"})]})}),n.jsx(Ou,{children:i.map(l=>n.jsxs(Ka,{children:[n.jsx(sn,{children:n.jsx(Ve,{variant:o(l.type),className:"whitespace-nowrap",children:l.type.toUpperCase()})}),n.jsx(sn,{className:"max-w-[600px]",children:l.description}),n.jsx(sn,{className:"whitespace-nowrap",children:l.timestamp})]},l.id))})]})})]})})}function nR({machine:e,open:t,onOpenChange:s}){if(!e)return null;const i=ku.filter(u=>u.machineId===e.id),o=u=>{switch(u){case"open":return"default";case"in-progress":return"secondary";case"awaiting-parts":return"outline";case"completed":return"default";default:return"default"}},l=u=>{switch(u){case"critical":return"destructive";case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"default"}};return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh] flex flex-col gap-0 p-0",children:[n.jsxs(Fa,{className:"px-6 pt-6 pb-4 shrink-0",children:[n.jsxs(za,{children:["Work Orders - ",e.name]}),n.jsx(fi,{children:"View and manage all work orders for this machine including preventive maintenance, corrective maintenance, and calibrations."})]}),n.jsx("div",{className:"px-6 pb-6 overflow-auto flex-1 min-h-0",children:i.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(qo,{className:"w-12 h-12 mb-3 opacity-20"}),n.jsx("p",{children:"No work orders found for this machine"})]}):n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{className:"min-w-[100px]",children:"ID"}),n.jsx(fn,{className:"min-w-[180px]",children:"Type"}),n.jsx(fn,{className:"min-w-[120px]",children:"Priority"}),n.jsx(fn,{className:"min-w-[150px]",children:"Status"}),n.jsx(fn,{className:"min-w-[350px]",children:"Description"}),n.jsx(fn,{className:"min-w-[130px]",children:"Due Date"})]})}),n.jsx(Ou,{children:i.map(u=>n.jsxs(Ka,{children:[n.jsx(sn,{className:"whitespace-nowrap",children:u.id}),n.jsx(sn,{children:n.jsx(Ve,{variant:"outline",className:"whitespace-nowrap",children:u.type})}),n.jsx(sn,{children:n.jsx(Ve,{variant:l(u.priority),className:"whitespace-nowrap",children:u.priority.toUpperCase()})}),n.jsx(sn,{children:n.jsx(Ve,{variant:o(u.status),className:"whitespace-nowrap",children:u.status})}),n.jsx(sn,{className:"max-w-[500px]",children:u.description}),n.jsx(sn,{className:"whitespace-nowrap",children:u.dueDate})]},u.id))})]})})]})})}function sR({machine:e,open:t,onOpenChange:s}){if(!e)return null;const i=so.filter(u=>u.machineId===e.id),o=u=>{switch(u){case"draft":return"outline";case"review":return"secondary";case"approved":return"default";case"effective":return"default";case"closed":return"secondary";default:return"default"}},l=u=>{switch(u){case"Software":return"default";case"Hardware":return"secondary";case"Process":return"outline";case"Documentation":return"secondary";default:return"default"}};return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh] flex flex-col gap-0 p-0",children:[n.jsxs(Fa,{className:"px-6 pt-6 pb-4 shrink-0",children:[n.jsxs(za,{children:["Engineering Change Orders - ",e.name]}),n.jsx(fi,{children:"View all Engineering Change Orders (ECOs) for this machine including software, hardware, process, and documentation changes."})]}),n.jsx("div",{className:"px-6 pb-6 overflow-auto flex-1 min-h-0",children:i.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[n.jsx(bf,{className:"w-12 h-12 mb-3 opacity-20"}),n.jsx("p",{children:"No ECOs found for this machine"})]}):n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{className:"min-w-[140px]",children:"Number"}),n.jsx(fn,{className:"min-w-[350px]",children:"Title"}),n.jsx(fn,{className:"min-w-[160px]",children:"Type"}),n.jsx(fn,{className:"min-w-[140px]",children:"Status"}),n.jsx(fn,{className:"min-w-[120px]",children:"Date"})]})}),n.jsx(Ou,{children:i.map(u=>n.jsxs(Ka,{children:[n.jsx(sn,{className:"whitespace-nowrap",children:u.number}),n.jsx(sn,{className:"max-w-[500px]",children:u.title}),n.jsx(sn,{children:n.jsx(Ve,{variant:l(u.type),className:"whitespace-nowrap",children:u.type})}),n.jsx(sn,{children:n.jsx(Ve,{variant:o(u.status),className:"whitespace-nowrap",children:u.status})}),n.jsx(sn,{className:"whitespace-nowrap",children:u.date})]},u.id))})]})})]})})}function E2({machine:e,onSelect:t}){const[s,i]=T.useState(!1),[o,l]=T.useState(!1),[u,d]=T.useState(!1),[f,m]=T.useState(!1),p=C=>{C.target.closest("button")||t?.(e)},x=C=>{switch(C){case"active":return"default";case"down":return"destructive";case"maintenance":return"secondary";default:return"outline"}},N=C=>{switch(C){case"active":return"Active";case"down":return"Down";case"maintenance":return"Maintenance";default:return"Unknown"}},y=e.lastBackup&&e.lastBackup!=="N/A"?new Date(e.lastBackup)<new Date(Date.now()-4320*60*60*1e3):!1;return n.jsxs(Ie,{className:"p-6 border bg-card hover:shadow-xl hover:-translate-y-1 transition-all duration-200 cursor-pointer",onClick:p,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-lg font-bold text-foreground",children:e.name}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e.type})]}),n.jsx(Ve,{variant:x(e.status),className:`
            ${e.status==="active"?"bg-emerald-100 text-emerald-800 border-emerald-200":""}
            ${e.status==="down"?"bg-rose-100 text-rose-800 border-rose-200":""}
            ${e.status==="maintenance"?"bg-amber-100 text-amber-800 border-amber-200":""}
            border-2 font-semibold px-3 py-1
          `,children:N(e.status)})]}),n.jsxs("div",{className:"space-y-4 mb-5",children:[e.todayTarget!==void 0&&e.todayActual!==void 0&&n.jsxs("div",{className:"p-4 bg-muted rounded-xl space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Production Today"}),n.jsxs("span",{className:`text-sm font-bold ${e.todayActual>=e.todayTarget?"text-emerald-700":e.todayActual>=e.todayTarget*.9?"text-amber-700":"text-rose-700"}`,children:[e.todayActual," / ",e.todayTarget]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:n.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${e.todayActual>=e.todayTarget?"bg-gradient-to-r from-emerald-500 to-emerald-600":e.todayActual>=e.todayTarget*.9?"bg-gradient-to-r from-amber-500 to-amber-600":"bg-gradient-to-r from-rose-500 to-rose-600"}`,style:{width:`${Math.min(e.todayActual/e.todayTarget*100,100)}%`}})}),n.jsxs("div",{className:"absolute -top-1 right-0 text-xs font-semibold text-muted-foreground",children:[Math.round(e.todayActual/e.todayTarget*100),"%"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(e.mtbf||e.mttr)&&n.jsxs("div",{className:"p-2 bg-card rounded-lg border",children:[n.jsx("div",{className:"text-sm font-semibold text-foreground mb-2",children:"Reliability"}),n.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.mtbf!==void 0&&n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"MTBF"}),n.jsxs("span",{children:[e.mtbf,"h"]})]}),n.jsx("div",{className:"w-full bg-muted rounded h-1 mt-1",children:n.jsx("div",{className:"h-1 bg-emerald-600 rounded",style:{width:`${Math.min(e.mtbf/10,100)}%`}})})]}),e.mttr!==void 0&&n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"MTTR"}),n.jsxs("span",{children:[e.mttr,"h"]})]}),n.jsx("div",{className:"w-full bg-muted rounded h-1 mt-1",children:n.jsx("div",{className:"h-1 bg-rose-600 rounded",style:{width:`${Math.min(e.mttr/5*100,100)}%`}})})]})]})]}),e.oem&&n.jsxs("div",{className:"flex justify-between items-center p-2 bg-card rounded-lg border",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"OEM:"}),n.jsx("span",{className:"text-sm font-semibold text-foreground",children:e.oem})]}),e.controller&&n.jsxs("div",{className:"flex justify-between items-center p-2 bg-card rounded-lg border",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Controller:"}),n.jsx("span",{className:"text-sm font-semibold text-foreground",children:e.controller})]}),e.criticality&&n.jsxs("div",{className:"flex justify-between items-center p-2 bg-card rounded-lg border",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Criticality:"}),n.jsx(Ve,{className:`
                  ${e.criticality==="high"?"bg-rose-100 text-rose-800 border-rose-200":""}
                  ${e.criticality==="medium"?"bg-amber-100 text-amber-800 border-amber-200":""}
                  ${e.criticality==="low"?"bg-emerald-100 text-emerald-800 border-emerald-200":""}
                  border font-semibold
                `,children:e.criticality.toUpperCase()})]}),e.lastBackup&&n.jsxs("div",{className:"flex justify-between items-center p-2 bg-card rounded-lg border",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Backup:"}),n.jsx("span",{className:`text-sm font-semibold ${y?"text-rose-700":"text-foreground"}`,children:e.lastBackup})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(Ue,{variant:"outline",size:"sm",className:"border hover:bg-muted hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:C=>{C.stopPropagation(),i(!0)},children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Docs"]}),n.jsxs(Ue,{variant:"outline",size:"sm",className:"border hover:bg-muted hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:C=>{C.stopPropagation(),l(!0)},children:[n.jsx(tr,{className:"w-4 h-4 mr-2"}),"Events"]}),n.jsxs(Ue,{variant:"outline",size:"sm",className:"border hover:bg-muted hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:C=>{C.stopPropagation(),d(!0)},children:[n.jsx(xa,{className:"w-4 h-4 mr-2"}),"WOs"]}),n.jsxs(Ue,{variant:"outline",size:"sm",className:"border hover:bg-muted hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:C=>{C.stopPropagation(),m(!0)},children:[n.jsx(bf,{className:"w-4 h-4 mr-2"}),"ECOs"]})]}),n.jsx(eR,{machine:e,open:s,onOpenChange:i}),n.jsx(tR,{machine:e,open:o,onOpenChange:l}),n.jsx(nR,{machine:e,open:u,onOpenChange:d}),n.jsx(sR,{machine:e,open:f,onOpenChange:m})]})}function $3({machines:e,open:t,onOpenChange:s,onBackupMachine:i}){const o=u=>{const d=new Date(u),m=Math.floor((new Date().getTime()-d.getTime())/(1e3*60*60*24*30));return{formatted:u,monthsAgo:m}},l=u=>u>=12?"text-red-600":u>=9?"text-orange-600":"text-yellow-600";return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsxs(za,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"w-5 h-5 text-orange-600"}),"Old Program Backups"]}),n.jsx(fi,{children:"Machines with program backups older than 6 months. Regular backups are critical for disaster recovery."})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:e.length===0?n.jsx(Ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No machines with old backups found."})}):e.map(u=>{const d=u.lastBackup&&u.lastBackup!=="N/A"?o(u.lastBackup):null;return n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h4",{children:u.name}),n.jsx(Ve,{variant:"secondary",children:u.category}),n.jsx(Ve,{variant:u.status==="active"?"default":"destructive",className:u.status==="active"?"bg-green-100 text-green-800 border-green-200":"",children:u.status})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Last Backup:"}),d&&n.jsxs("span",{className:l(d.monthsAgo),children:[d.formatted," (",d.monthsAgo," months ago)"]})]}),u.criticality&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Criticality:"}),n.jsx(Ve,{variant:u.criticality==="high"?"destructive":u.criticality==="medium"?"secondary":"outline",children:u.criticality.toUpperCase()})]})]}),u.type&&n.jsx("p",{className:"text-sm text-muted-foreground",children:u.type})]}),n.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>{i&&i(u)},children:[n.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Backup Now"]})]})},u.id)})}),e.length>0&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," machine",e.length!==1?"s":""," requiring backup attention"]}),n.jsx(Ue,{children:"Schedule All Backups"})]})})]})})}function nt({className:e,type:t,...s}){return n.jsx("input",{type:t,"data-slot":"input",className:Ut("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var aR="Label",Y3=T.forwardRef((e,t)=>n.jsx(Vt.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Y3.displayName=aR;var iR=Y3;function Be({className:e,...t}){return n.jsx(iR,{"data-slot":"label",className:Ut("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function cx(e,[t,s]){return Math.min(s,Math.max(t,e))}function _2(e){const t=e+"CollectionProvider",[s,i]=lo(t),[o,l]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=M=>{const{scope:S,children:j}=M,L=tt.useRef(null),R=tt.useRef(new Map).current;return n.jsx(o,{scope:S,itemMap:R,collectionRef:L,children:j})};u.displayName=t;const d=e+"CollectionSlot",f=df(d),m=tt.forwardRef((M,S)=>{const{scope:j,children:L}=M,R=l(d,j),D=Hn(S,R.collectionRef);return n.jsx(f,{ref:D,children:L})});m.displayName=d;const p=e+"CollectionItemSlot",x="data-radix-collection-item",N=df(p),y=tt.forwardRef((M,S)=>{const{scope:j,children:L,...R}=M,D=tt.useRef(null),U=Hn(S,D),G=l(p,j);return tt.useEffect(()=>(G.itemMap.set(D,{ref:D,...R}),()=>void G.itemMap.delete(D))),n.jsx(N,{[x]:"",ref:U,children:L})});y.displayName=p;function C(M){const S=l(e+"CollectionConsumer",M);return tt.useCallback(()=>{const L=S.collectionRef.current;if(!L)return[];const R=Array.from(L.querySelectorAll(`[${x}]`));return Array.from(S.itemMap.values()).sort((G,$)=>R.indexOf(G.ref.current)-R.indexOf($.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:y},C,i]}var rR=T.createContext(void 0);function Fh(e){const t=T.useContext(rR);return e||t||"ltr"}const oR=["top","right","bottom","left"],Rc=Math.min,Yi=Math.max,kp=Math.round,$m=Math.floor,Go=e=>({x:e,y:e}),lR={left:"right",right:"left",bottom:"top",top:"bottom"},cR={start:"end",end:"start"};function ux(e,t,s){return Yi(e,Rc(t,s))}function Fl(e,t){return typeof e=="function"?e(t):e}function zl(e){return e.split("-")[0]}function wf(e){return e.split("-")[1]}function k2(e){return e==="x"?"y":"x"}function L2(e){return e==="y"?"height":"width"}const uR=new Set(["top","bottom"]);function Ho(e){return uR.has(zl(e))?"y":"x"}function D2(e){return k2(Ho(e))}function dR(e,t,s){s===void 0&&(s=!1);const i=wf(e),o=D2(e),l=L2(o);let u=o==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Lp(u)),[u,Lp(u)]}function fR(e){const t=Lp(e);return[dx(e),t,dx(t)]}function dx(e){return e.replace(/start|end/g,t=>cR[t])}const mw=["left","right"],pw=["right","left"],hR=["top","bottom"],mR=["bottom","top"];function pR(e,t,s){switch(e){case"top":case"bottom":return s?t?pw:mw:t?mw:pw;case"left":case"right":return t?hR:mR;default:return[]}}function gR(e,t,s,i){const o=wf(e);let l=pR(zl(e),s==="start",i);return o&&(l=l.map(u=>u+"-"+o),t&&(l=l.concat(l.map(dx)))),l}function Lp(e){return e.replace(/left|right|bottom|top/g,t=>lR[t])}function xR(e){return{top:0,right:0,bottom:0,left:0,...e}}function K3(e){return typeof e!="number"?xR(e):{top:e,right:e,bottom:e,left:e}}function Dp(e){const{x:t,y:s,width:i,height:o}=e;return{width:i,height:o,top:s,left:t,right:t+i,bottom:s+o,x:t,y:s}}function gw(e,t,s){let{reference:i,floating:o}=e;const l=Ho(t),u=D2(t),d=L2(u),f=zl(t),m=l==="y",p=i.x+i.width/2-o.width/2,x=i.y+i.height/2-o.height/2,N=i[d]/2-o[d]/2;let y;switch(f){case"top":y={x:p,y:i.y-o.height};break;case"bottom":y={x:p,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:x};break;case"left":y={x:i.x-o.width,y:x};break;default:y={x:i.x,y:i.y}}switch(wf(t)){case"start":y[u]-=N*(s&&m?-1:1);break;case"end":y[u]+=N*(s&&m?-1:1);break}return y}const vR=async(e,t,s)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:u}=s,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:x}=gw(m,i,f),N=i,y={},C=0;for(let M=0;M<d.length;M++){const{name:S,fn:j}=d[M],{x:L,y:R,data:D,reset:U}=await j({x:p,y:x,initialPlacement:i,placement:N,strategy:o,middlewareData:y,rects:m,platform:u,elements:{reference:e,floating:t}});p=L??p,x=R??x,y={...y,[S]:{...y[S],...D}},U&&C<=50&&(C++,typeof U=="object"&&(U.placement&&(N=U.placement),U.rects&&(m=U.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):U.rects),{x:p,y:x}=gw(m,N,f)),M=-1)}return{x:p,y:x,placement:N,strategy:o,middlewareData:y}};async function Mh(e,t){var s;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:u,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:N=!1,padding:y=0}=Fl(t,e),C=K3(y),S=d[N?x==="floating"?"reference":"floating":x],j=Dp(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(S)))==null||s?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:p,strategy:f})),L=x==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),D=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},U=Dp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:L,offsetParent:R,strategy:f}):L);return{top:(j.top-U.top+C.top)/D.y,bottom:(U.bottom-j.bottom+C.bottom)/D.y,left:(j.left-U.left+C.left)/D.x,right:(U.right-j.right+C.right)/D.x}}const yR=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:i,placement:o,rects:l,platform:u,elements:d,middlewareData:f}=t,{element:m,padding:p=0}=Fl(e,t)||{};if(m==null)return{};const x=K3(p),N={x:s,y:i},y=D2(o),C=L2(y),M=await u.getDimensions(m),S=y==="y",j=S?"top":"left",L=S?"bottom":"right",R=S?"clientHeight":"clientWidth",D=l.reference[C]+l.reference[y]-N[y]-l.floating[C],U=N[y]-l.reference[y],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let $=G?G[R]:0;(!$||!await(u.isElement==null?void 0:u.isElement(G)))&&($=d.floating[R]||l.floating[C]);const B=D/2-U/2,Y=$/2-M[C]/2-1,fe=Rc(x[j],Y),V=Rc(x[L],Y),P=fe,F=$-M[C]-V,W=$/2-M[C]/2+B,te=ux(P,W,F),z=!f.arrow&&wf(o)!=null&&W!==te&&l.reference[C]/2-(W<P?fe:V)-M[C]/2<0,K=z?W<P?W-P:W-F:0;return{[y]:N[y]+K,data:{[y]:te,centerOffset:W-te-K,...z&&{alignmentOffset:K}},reset:z}}}),bR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,i;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:N,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:M=!0,...S}=Fl(e,t);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const j=zl(o),L=Ho(d),R=zl(d)===d,D=await(f.isRTL==null?void 0:f.isRTL(m.floating)),U=N||(R||!M?[Lp(d)]:fR(d)),G=C!=="none";!N&&G&&U.push(...gR(d,M,C,D));const $=[d,...U],B=await Mh(t,S),Y=[];let fe=((i=l.flip)==null?void 0:i.overflows)||[];if(p&&Y.push(B[j]),x){const W=dR(o,u,D);Y.push(B[W[0]],B[W[1]])}if(fe=[...fe,{placement:o,overflows:Y}],!Y.every(W=>W<=0)){var V,P;const W=(((V=l.flip)==null?void 0:V.index)||0)+1,te=$[W];if(te&&(!(x==="alignment"?L!==Ho(te):!1)||fe.every(H=>Ho(H.placement)===L?H.overflows[0]>0:!0)))return{data:{index:W,overflows:fe},reset:{placement:te}};let z=(P=fe.filter(K=>K.overflows[0]<=0).sort((K,H)=>K.overflows[1]-H.overflows[1])[0])==null?void 0:P.placement;if(!z)switch(y){case"bestFit":{var F;const K=(F=fe.filter(H=>{if(G){const ue=Ho(H.placement);return ue===L||ue==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ue=>ue>0).reduce((ue,ae)=>ue+ae,0)]).sort((H,ue)=>H[1]-ue[1])[0])==null?void 0:F[0];K&&(z=K);break}case"initialPlacement":z=d;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function xw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vw(e){return oR.some(t=>e[t]>=0)}const wR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:i="referenceHidden",...o}=Fl(e,t);switch(i){case"referenceHidden":{const l=await Mh(t,{...o,elementContext:"reference"}),u=xw(l,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:vw(u)}}}case"escaped":{const l=await Mh(t,{...o,altBoundary:!0}),u=xw(l,s.floating);return{data:{escapedOffsets:u,escaped:vw(u)}}}default:return{}}}}},Q3=new Set(["left","top"]);async function NR(e,t){const{placement:s,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=zl(s),d=wf(s),f=Ho(s)==="y",m=Q3.has(u)?-1:1,p=l&&f?-1:1,x=Fl(t,e);let{mainAxis:N,crossAxis:y,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof C=="number"&&(y=d==="end"?C*-1:C),f?{x:y*p,y:N*m}:{x:N*m,y:y*p}}const jR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,i;const{x:o,y:l,placement:u,middlewareData:d}=t,f=await NR(t,e);return u===((s=d.offset)==null?void 0:s.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:u}}}}},SR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:j,y:L}=S;return{x:j,y:L}}},...f}=Fl(e,t),m={x:s,y:i},p=await Mh(t,f),x=Ho(zl(o)),N=k2(x);let y=m[N],C=m[x];if(l){const S=N==="y"?"top":"left",j=N==="y"?"bottom":"right",L=y+p[S],R=y-p[j];y=ux(L,y,R)}if(u){const S=x==="y"?"top":"left",j=x==="y"?"bottom":"right",L=C+p[S],R=C-p[j];C=ux(L,C,R)}const M=d.fn({...t,[N]:y,[x]:C});return{...M,data:{x:M.x-s,y:M.y-i,enabled:{[N]:l,[x]:u}}}}}},AR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:o,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Fl(e,t),p={x:s,y:i},x=Ho(o),N=k2(x);let y=p[N],C=p[x];const M=Fl(d,t),S=typeof M=="number"?{mainAxis:M,crossAxis:0}:{mainAxis:0,crossAxis:0,...M};if(f){const R=N==="y"?"height":"width",D=l.reference[N]-l.floating[R]+S.mainAxis,U=l.reference[N]+l.reference[R]-S.mainAxis;y<D?y=D:y>U&&(y=U)}if(m){var j,L;const R=N==="y"?"width":"height",D=Q3.has(zl(o)),U=l.reference[x]-l.floating[R]+(D&&((j=u.offset)==null?void 0:j[x])||0)+(D?0:S.crossAxis),G=l.reference[x]+l.reference[R]+(D?0:((L=u.offset)==null?void 0:L[x])||0)-(D?S.crossAxis:0);C<U?C=U:C>G&&(C=G)}return{[N]:y,[x]:C}}}},CR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,i;const{placement:o,rects:l,platform:u,elements:d}=t,{apply:f=()=>{},...m}=Fl(e,t),p=await Mh(t,m),x=zl(o),N=wf(o),y=Ho(o)==="y",{width:C,height:M}=l.floating;let S,j;x==="top"||x==="bottom"?(S=x,j=N===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(j=x,S=N==="end"?"top":"bottom");const L=M-p.top-p.bottom,R=C-p.left-p.right,D=Rc(M-p[S],L),U=Rc(C-p[j],R),G=!t.middlewareData.shift;let $=D,B=U;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(B=R),(i=t.middlewareData.shift)!=null&&i.enabled.y&&($=L),G&&!N){const fe=Yi(p.left,0),V=Yi(p.right,0),P=Yi(p.top,0),F=Yi(p.bottom,0);y?B=C-2*(fe!==0||V!==0?fe+V:Yi(p.left,p.right)):$=M-2*(P!==0||F!==0?P+F:Yi(p.top,p.bottom))}await f({...t,availableWidth:B,availableHeight:$});const Y=await u.getDimensions(d.floating);return C!==Y.width||M!==Y.height?{reset:{rects:!0}}:{}}}};function n0(){return typeof window<"u"}function Nf(e){return J3(e)?(e.nodeName||"").toLowerCase():"#document"}function Ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yo(e){var t;return(t=(J3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function J3(e){return n0()?e instanceof Node||e instanceof Ji(e).Node:!1}function ao(e){return n0()?e instanceof Element||e instanceof Ji(e).Element:!1}function Zo(e){return n0()?e instanceof HTMLElement||e instanceof Ji(e).HTMLElement:!1}function yw(e){return!n0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ji(e).ShadowRoot}const TR=new Set(["inline","contents"]);function zh(e){const{overflow:t,overflowX:s,overflowY:i,display:o}=io(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!TR.has(o)}const MR=new Set(["table","td","th"]);function ER(e){return MR.has(Nf(e))}const _R=[":popover-open",":modal"];function s0(e){return _R.some(t=>{try{return e.matches(t)}catch{return!1}})}const kR=["transform","translate","scale","rotate","perspective"],LR=["transform","translate","scale","rotate","perspective","filter"],DR=["paint","layout","strict","content"];function R2(e){const t=O2(),s=ao(e)?io(e):e;return kR.some(i=>s[i]?s[i]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||LR.some(i=>(s.willChange||"").includes(i))||DR.some(i=>(s.contain||"").includes(i))}function RR(e){let t=Oc(e);for(;Zo(t)&&!hf(t);){if(R2(t))return t;if(s0(t))return null;t=Oc(t)}return null}function O2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OR=new Set(["html","body","#document"]);function hf(e){return OR.has(Nf(e))}function io(e){return Ji(e).getComputedStyle(e)}function a0(e){return ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oc(e){if(Nf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yw(e)&&e.host||Yo(e);return yw(t)?t.host:t}function eS(e){const t=Oc(e);return hf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zo(t)&&zh(t)?t:eS(t)}function Eh(e,t,s){var i;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=eS(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),u=Ji(o);if(l){const d=fx(u);return t.concat(u,u.visualViewport||[],zh(o)?o:[],d&&s?Eh(d):[])}return t.concat(o,Eh(o,[],s))}function fx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tS(e){const t=io(e);let s=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Zo(e),l=o?e.offsetWidth:s,u=o?e.offsetHeight:i,d=kp(s)!==l||kp(i)!==u;return d&&(s=l,i=u),{width:s,height:i,$:d}}function P2(e){return ao(e)?e:e.contextElement}function sf(e){const t=P2(e);if(!Zo(t))return Go(1);const s=t.getBoundingClientRect(),{width:i,height:o,$:l}=tS(t);let u=(l?kp(s.width):s.width)/i,d=(l?kp(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const PR=Go(0);function nS(e){const t=Ji(e);return!O2()||!t.visualViewport?PR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IR(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Ji(e)?!1:t}function Pu(e,t,s,i){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),l=P2(e);let u=Go(1);t&&(i?ao(i)&&(u=sf(i)):u=sf(e));const d=IR(l,s,i)?nS(l):Go(0);let f=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,p=o.width/u.x,x=o.height/u.y;if(l){const N=Ji(l),y=i&&ao(i)?Ji(i):i;let C=N,M=fx(C);for(;M&&i&&y!==C;){const S=sf(M),j=M.getBoundingClientRect(),L=io(M),R=j.left+(M.clientLeft+parseFloat(L.paddingLeft))*S.x,D=j.top+(M.clientTop+parseFloat(L.paddingTop))*S.y;f*=S.x,m*=S.y,p*=S.x,x*=S.y,f+=R,m+=D,C=Ji(M),M=fx(C)}}return Dp({width:p,height:x,x:f,y:m})}function i0(e,t){const s=a0(e).scrollLeft;return t?t.left+s:Pu(Yo(e)).left+s}function sS(e,t){const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-i0(e,s),o=s.top+t.scrollTop;return{x:i,y:o}}function BR(e){let{elements:t,rect:s,offsetParent:i,strategy:o}=e;const l=o==="fixed",u=Yo(i),d=t?s0(t.floating):!1;if(i===u||d&&l)return s;let f={scrollLeft:0,scrollTop:0},m=Go(1);const p=Go(0),x=Zo(i);if((x||!x&&!l)&&((Nf(i)!=="body"||zh(u))&&(f=a0(i)),Zo(i))){const y=Pu(i);m=sf(i),p.x=y.x+i.clientLeft,p.y=y.y+i.clientTop}const N=u&&!x&&!l?sS(u,f):Go(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-f.scrollLeft*m.x+p.x+N.x,y:s.y*m.y-f.scrollTop*m.y+p.y+N.y}}function HR(e){return Array.from(e.getClientRects())}function FR(e){const t=Yo(e),s=a0(e),i=e.ownerDocument.body,o=Yi(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Yi(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-s.scrollLeft+i0(e);const d=-s.scrollTop;return io(i).direction==="rtl"&&(u+=Yi(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:u,y:d}}const bw=25;function zR(e,t){const s=Ji(e),i=Yo(e),o=s.visualViewport;let l=i.clientWidth,u=i.clientHeight,d=0,f=0;if(o){l=o.width,u=o.height;const p=O2();(!p||p&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const m=i0(i);if(m<=0){const p=i.ownerDocument,x=p.body,N=getComputedStyle(x),y=p.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,C=Math.abs(i.clientWidth-x.clientWidth-y);C<=bw&&(l-=C)}else m<=bw&&(l+=m);return{width:l,height:u,x:d,y:f}}const UR=new Set(["absolute","fixed"]);function qR(e,t){const s=Pu(e,!0,t==="fixed"),i=s.top+e.clientTop,o=s.left+e.clientLeft,l=Zo(e)?sf(e):Go(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,m=i*l.y;return{width:u,height:d,x:f,y:m}}function ww(e,t,s){let i;if(t==="viewport")i=zR(e,s);else if(t==="document")i=FR(Yo(e));else if(ao(t))i=qR(t,s);else{const o=nS(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Dp(i)}function aS(e,t){const s=Oc(e);return s===t||!ao(s)||hf(s)?!1:io(s).position==="fixed"||aS(s,t)}function VR(e,t){const s=t.get(e);if(s)return s;let i=Eh(e,[],!1).filter(d=>ao(d)&&Nf(d)!=="body"),o=null;const l=io(e).position==="fixed";let u=l?Oc(e):e;for(;ao(u)&&!hf(u);){const d=io(u),f=R2(u);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&UR.has(o.position)||zh(u)&&!f&&aS(e,u))?i=i.filter(p=>p!==u):o=d,u=Oc(u)}return t.set(e,i),i}function GR(e){let{element:t,boundary:s,rootBoundary:i,strategy:o}=e;const u=[...s==="clippingAncestors"?s0(t)?[]:VR(t,this._c):[].concat(s),i],d=u[0],f=u.reduce((m,p)=>{const x=ww(t,p,o);return m.top=Yi(x.top,m.top),m.right=Rc(x.right,m.right),m.bottom=Rc(x.bottom,m.bottom),m.left=Yi(x.left,m.left),m},ww(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function WR(e){const{width:t,height:s}=tS(e);return{width:t,height:s}}function XR(e,t,s){const i=Zo(t),o=Yo(t),l=s==="fixed",u=Pu(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=Go(0);function m(){f.x=i0(o)}if(i||!i&&!l)if((Nf(t)!=="body"||zh(o))&&(d=a0(t)),i){const y=Pu(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else o&&m();l&&!i&&o&&m();const p=o&&!i&&!l?sS(o,d):Go(0),x=u.left+d.scrollLeft-f.x-p.x,N=u.top+d.scrollTop-f.y-p.y;return{x,y:N,width:u.width,height:u.height}}function r1(e){return io(e).position==="static"}function Nw(e,t){if(!Zo(e)||io(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Yo(e)===s&&(s=s.ownerDocument.body),s}function iS(e,t){const s=Ji(e);if(s0(e))return s;if(!Zo(e)){let o=Oc(e);for(;o&&!hf(o);){if(ao(o)&&!r1(o))return o;o=Oc(o)}return s}let i=Nw(e,t);for(;i&&ER(i)&&r1(i);)i=Nw(i,t);return i&&hf(i)&&r1(i)&&!R2(i)?s:i||RR(e)||s}const ZR=async function(e){const t=this.getOffsetParent||iS,s=this.getDimensions,i=await s(e.floating);return{reference:XR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function $R(e){return io(e).direction==="rtl"}const YR={convertOffsetParentRelativeRectToViewportRelativeRect:BR,getDocumentElement:Yo,getClippingRect:GR,getOffsetParent:iS,getElementRects:ZR,getClientRects:HR,getDimensions:WR,getScale:sf,isElement:ao,isRTL:$R};function rS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function KR(e,t){let s=null,i;const o=Yo(e);function l(){var d;clearTimeout(i),(d=s)==null||d.disconnect(),s=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:p,top:x,width:N,height:y}=m;if(d||t(),!N||!y)return;const C=$m(x),M=$m(o.clientWidth-(p+N)),S=$m(o.clientHeight-(x+y)),j=$m(p),R={rootMargin:-C+"px "+-M+"px "+-S+"px "+-j+"px",threshold:Yi(0,Rc(1,f))||1};let D=!0;function U(G){const $=G[0].intersectionRatio;if($!==f){if(!D)return u();$?u(!1,$):i=setTimeout(()=>{u(!1,1e-7)},1e3)}$===1&&!rS(m,e.getBoundingClientRect())&&u(),D=!1}try{s=new IntersectionObserver(U,{...R,root:o.ownerDocument})}catch{s=new IntersectionObserver(U,R)}s.observe(e)}return u(!0),l}function QR(e,t,s,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,m=P2(e),p=o||l?[...m?Eh(m):[],...Eh(t)]:[];p.forEach(j=>{o&&j.addEventListener("scroll",s,{passive:!0}),l&&j.addEventListener("resize",s)});const x=m&&d?KR(m,s):null;let N=-1,y=null;u&&(y=new ResizeObserver(j=>{let[L]=j;L&&L.target===m&&y&&(y.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),s()}),m&&!f&&y.observe(m),y.observe(t));let C,M=f?Pu(e):null;f&&S();function S(){const j=Pu(e);M&&!rS(M,j)&&s(),M=j,C=requestAnimationFrame(S)}return s(),()=>{var j;p.forEach(L=>{o&&L.removeEventListener("scroll",s),l&&L.removeEventListener("resize",s)}),x?.(),(j=y)==null||j.disconnect(),y=null,f&&cancelAnimationFrame(C)}}const JR=jR,eO=SR,tO=bR,nO=CR,sO=wR,jw=yR,aO=AR,iO=(e,t,s)=>{const i=new Map,o={platform:YR,...s},l={...o.platform,_c:i};return vR(e,t,{...o,platform:l})};var rO=typeof document<"u",oO=function(){},pp=rO?T.useLayoutEffect:oO;function Rp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;i--!==0;)if(!Rp(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=s;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Rp(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function oS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sw(e,t){const s=oS(e);return Math.round(t*s)/s}function o1(e){const t=T.useRef(e);return pp(()=>{t.current=e}),t}function lO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[p,x]=T.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[N,y]=T.useState(i);Rp(N,i)||y(i);const[C,M]=T.useState(null),[S,j]=T.useState(null),L=T.useCallback(H=>{H!==G.current&&(G.current=H,M(H))},[]),R=T.useCallback(H=>{H!==$.current&&($.current=H,j(H))},[]),D=l||C,U=u||S,G=T.useRef(null),$=T.useRef(null),B=T.useRef(p),Y=f!=null,fe=o1(f),V=o1(o),P=o1(m),F=T.useCallback(()=>{if(!G.current||!$.current)return;const H={placement:t,strategy:s,middleware:N};V.current&&(H.platform=V.current),iO(G.current,$.current,H).then(ue=>{const ae={...ue,isPositioned:P.current!==!1};W.current&&!Rp(B.current,ae)&&(B.current=ae,Hh.flushSync(()=>{x(ae)}))})},[N,t,s,V,P]);pp(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,x(H=>({...H,isPositioned:!1})))},[m]);const W=T.useRef(!1);pp(()=>(W.current=!0,()=>{W.current=!1}),[]),pp(()=>{if(D&&(G.current=D),U&&($.current=U),D&&U){if(fe.current)return fe.current(D,U,F);F()}},[D,U,F,fe,Y]);const te=T.useMemo(()=>({reference:G,floating:$,setReference:L,setFloating:R}),[L,R]),z=T.useMemo(()=>({reference:D,floating:U}),[D,U]),K=T.useMemo(()=>{const H={position:s,left:0,top:0};if(!z.floating)return H;const ue=Sw(z.floating,p.x),ae=Sw(z.floating,p.y);return d?{...H,transform:"translate("+ue+"px, "+ae+"px)",...oS(z.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ue,top:ae}},[s,d,z.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:F,refs:te,elements:z,floatingStyles:K}),[p,F,te,z,K])}const cO=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:i,padding:o}=typeof e=="function"?e(s):e;return i&&t(i)?i.current!=null?jw({element:i.current,padding:o}).fn(s):{}:i?jw({element:i,padding:o}).fn(s):{}}}},uO=(e,t)=>({...JR(e),options:[e,t]}),dO=(e,t)=>({...eO(e),options:[e,t]}),fO=(e,t)=>({...aO(e),options:[e,t]}),hO=(e,t)=>({...tO(e),options:[e,t]}),mO=(e,t)=>({...nO(e),options:[e,t]}),pO=(e,t)=>({...sO(e),options:[e,t]}),gO=(e,t)=>({...cO(e),options:[e,t]});var xO="Arrow",lS=T.forwardRef((e,t)=>{const{children:s,width:i=10,height:o=5,...l}=e;return n.jsx(Vt.svg,{...l,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});lS.displayName=xO;var vO=lS;function cS(e){const[t,s]=T.useState(void 0);return Ta(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;s({width:u,height:d})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}var I2="Popper",[uS,dS]=lo(I2),[yO,fS]=uS(I2),hS=e=>{const{__scopePopper:t,children:s}=e,[i,o]=T.useState(null);return n.jsx(yO,{scope:t,anchor:i,onAnchorChange:o,children:s})};hS.displayName=I2;var mS="PopperAnchor",pS=T.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:i,...o}=e,l=fS(mS,s),u=T.useRef(null),d=Hn(t,u),f=T.useRef(null);return T.useEffect(()=>{const m=f.current;f.current=i?.current||u.current,m!==f.current&&l.onAnchorChange(f.current)}),i?null:n.jsx(Vt.div,{...o,ref:d})});pS.displayName=mS;var B2="PopperContent",[bO,wO]=uS(B2),gS=T.forwardRef((e,t)=>{const{__scopePopper:s,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:N=!1,updatePositionStrategy:y="optimized",onPlaced:C,...M}=e,S=fS(B2,s),[j,L]=T.useState(null),R=Hn(t,me=>L(me)),[D,U]=T.useState(null),G=cS(D),$=G?.width??0,B=G?.height??0,Y=i+(l!=="center"?"-"+l:""),fe=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(m)?m:[m],P=V.length>0,F={padding:fe,boundary:V.filter(jO),altBoundary:P},{refs:W,floatingStyles:te,placement:z,isPositioned:K,middlewareData:H}=lO({strategy:"fixed",placement:Y,whileElementsMounted:(...me)=>QR(...me,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[uO({mainAxis:o+B,alignmentAxis:u}),f&&dO({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?fO():void 0,...F}),f&&hO({...F}),mO({...F,apply:({elements:me,rects:be,availableWidth:ve,availableHeight:Me})=>{const{width:Pe,height:Xe}=be.reference,Qe=me.floating.style;Qe.setProperty("--radix-popper-available-width",`${ve}px`),Qe.setProperty("--radix-popper-available-height",`${Me}px`),Qe.setProperty("--radix-popper-anchor-width",`${Pe}px`),Qe.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),D&&gO({element:D,padding:d}),SO({arrowWidth:$,arrowHeight:B}),N&&pO({strategy:"referenceHidden",...F})]}),[ue,ae]=yS(z),_=ui(C);Ta(()=>{K&&_?.()},[K,_]);const k=H.arrow?.x,q=H.arrow?.y,J=H.arrow?.centerOffset!==0,[oe,ce]=T.useState();return Ta(()=>{j&&ce(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:K?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(bO,{scope:s,placedSide:ue,onArrowChange:U,arrowX:k,arrowY:q,shouldHideArrow:J,children:n.jsx(Vt.div,{"data-side":ue,"data-align":ae,...M,ref:R,style:{...M.style,animation:K?void 0:"none"}})})})});gS.displayName=B2;var xS="PopperArrow",NO={top:"bottom",right:"left",bottom:"top",left:"right"},vS=T.forwardRef(function(t,s){const{__scopePopper:i,...o}=t,l=wO(xS,i),u=NO[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(vO,{...o,ref:s,style:{...o.style,display:"block"}})})});vS.displayName=xS;function jO(e){return e!==null}var SO=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:i,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[m,p]=yS(s),x={start:"0%",center:"50%",end:"100%"}[p],N=(o.arrow?.x??0)+d/2,y=(o.arrow?.y??0)+f/2;let C="",M="";return m==="bottom"?(C=u?x:`${N}px`,M=`${-f}px`):m==="top"?(C=u?x:`${N}px`,M=`${i.floating.height+f}px`):m==="right"?(C=`${-f}px`,M=u?x:`${y}px`):m==="left"&&(C=`${i.floating.width+f}px`,M=u?x:`${y}px`),{data:{x:C,y:M}}}});function yS(e){const[t,s="center"]=e.split("-");return[t,s]}var AO=hS,CO=pS,TO=gS,MO=vS;function bS(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EO="VisuallyHidden",_O=T.forwardRef((e,t)=>n.jsx(Vt.span,{...e,ref:t,style:{...wS,...e.style}}));_O.displayName=EO;var kO=[" ","Enter","ArrowUp","ArrowDown"],LO=[" ","Enter"],Iu="Select",[r0,o0,DO]=_2(Iu),[jf]=lo(Iu,[DO,dS]),l0=dS(),[RO,Hc]=jf(Iu),[OO,PO]=jf(Iu),NS=e=>{const{__scopeSelect:t,children:s,open:i,defaultOpen:o,onOpenChange:l,value:u,defaultValue:d,onValueChange:f,dir:m,name:p,autoComplete:x,disabled:N,required:y,form:C}=e,M=l0(t),[S,j]=T.useState(null),[L,R]=T.useState(null),[D,U]=T.useState(!1),G=Fh(m),[$,B]=Hl({prop:i,defaultProp:o??!1,onChange:l,caller:Iu}),[Y,fe]=Hl({prop:u,defaultProp:d,onChange:f,caller:Iu}),V=T.useRef(null),P=S?C||!!S.closest("form"):!0,[F,W]=T.useState(new Set),te=Array.from(F).map(z=>z.props.value).join(";");return n.jsx(AO,{...M,children:n.jsxs(RO,{required:y,scope:t,trigger:S,onTriggerChange:j,valueNode:L,onValueNodeChange:R,valueNodeHasChildren:D,onValueNodeHasChildrenChange:U,contentId:Vo(),value:Y,onValueChange:fe,open:$,onOpenChange:B,dir:G,triggerPointerDownPosRef:V,disabled:N,children:[n.jsx(r0.Provider,{scope:t,children:n.jsx(OO,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(z=>{W(K=>new Set(K).add(z))},[]),onNativeOptionRemove:T.useCallback(z=>{W(K=>{const H=new Set(K);return H.delete(z),H})},[]),children:s})}),P?n.jsxs(VS,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:x,value:Y,onChange:z=>fe(z.target.value),disabled:N,form:C,children:[Y===void 0?n.jsx("option",{value:""}):null,Array.from(F)]},te):null]})})};NS.displayName=Iu;var jS="SelectTrigger",SS=T.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:i=!1,...o}=e,l=l0(s),u=Hc(jS,s),d=u.disabled||i,f=Hn(t,u.onTriggerChange),m=o0(s),p=T.useRef("touch"),[x,N,y]=WS(M=>{const S=m().filter(R=>!R.disabled),j=S.find(R=>R.value===u.value),L=XS(S,M,j);L!==void 0&&u.onValueChange(L.value)}),C=M=>{d||(u.onOpenChange(!0),y()),M&&(u.triggerPointerDownPosRef.current={x:Math.round(M.pageX),y:Math.round(M.pageY)})};return n.jsx(CO,{asChild:!0,...l,children:n.jsx(Vt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":GS(u.value)?"":void 0,...o,ref:f,onClick:Qt(o.onClick,M=>{M.currentTarget.focus(),p.current!=="mouse"&&C(M)}),onPointerDown:Qt(o.onPointerDown,M=>{p.current=M.pointerType;const S=M.target;S.hasPointerCapture(M.pointerId)&&S.releasePointerCapture(M.pointerId),M.button===0&&M.ctrlKey===!1&&M.pointerType==="mouse"&&(C(M),M.preventDefault())}),onKeyDown:Qt(o.onKeyDown,M=>{const S=x.current!=="";!(M.ctrlKey||M.altKey||M.metaKey)&&M.key.length===1&&N(M.key),!(S&&M.key===" ")&&kO.includes(M.key)&&(C(),M.preventDefault())})})})});SS.displayName=jS;var AS="SelectValue",CS=T.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:o,children:l,placeholder:u="",...d}=e,f=Hc(AS,s),{onValueNodeHasChildrenChange:m}=f,p=l!==void 0,x=Hn(t,f.onValueNodeChange);return Ta(()=>{m(p)},[m,p]),n.jsx(Vt.span,{...d,ref:x,style:{pointerEvents:"none"},children:GS(f.value)?n.jsx(n.Fragment,{children:u}):l})});CS.displayName=AS;var IO="SelectIcon",TS=T.forwardRef((e,t)=>{const{__scopeSelect:s,children:i,...o}=e;return n.jsx(Vt.span,{"aria-hidden":!0,...o,ref:t,children:i||""})});TS.displayName=IO;var BO="SelectPortal",MS=e=>n.jsx(N2,{asChild:!0,...e});MS.displayName=BO;var Bu="SelectContent",ES=T.forwardRef((e,t)=>{const s=Hc(Bu,e.__scopeSelect),[i,o]=T.useState();if(Ta(()=>{o(new DocumentFragment)},[]),!s.open){const l=i;return l?Hh.createPortal(n.jsx(_S,{scope:e.__scopeSelect,children:n.jsx(r0.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(kS,{...e,ref:t})});ES.displayName=Bu;var to=10,[_S,Fc]=jf(Bu),HO="SelectContentImpl",FO=df("SelectContent.RemoveScroll"),kS=T.forwardRef((e,t)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:f,align:m,alignOffset:p,arrowPadding:x,collisionBoundary:N,collisionPadding:y,sticky:C,hideWhenDetached:M,avoidCollisions:S,...j}=e,L=Hc(Bu,s),[R,D]=T.useState(null),[U,G]=T.useState(null),$=Hn(t,me=>D(me)),[B,Y]=T.useState(null),[fe,V]=T.useState(null),P=o0(s),[F,W]=T.useState(!1),te=T.useRef(!1);T.useEffect(()=>{if(R)return E3(R)},[R]),b3();const z=T.useCallback(me=>{const[be,...ve]=P().map(Xe=>Xe.ref.current),[Me]=ve.slice(-1),Pe=document.activeElement;for(const Xe of me)if(Xe===Pe||(Xe?.scrollIntoView({block:"nearest"}),Xe===be&&U&&(U.scrollTop=0),Xe===Me&&U&&(U.scrollTop=U.scrollHeight),Xe?.focus(),document.activeElement!==Pe))return},[P,U]),K=T.useCallback(()=>z([B,R]),[z,B,R]);T.useEffect(()=>{F&&K()},[F,K]);const{onOpenChange:H,triggerPointerDownPosRef:ue}=L;T.useEffect(()=>{if(R){let me={x:0,y:0};const be=Me=>{me={x:Math.abs(Math.round(Me.pageX)-(ue.current?.x??0)),y:Math.abs(Math.round(Me.pageY)-(ue.current?.y??0))}},ve=Me=>{me.x<=10&&me.y<=10?Me.preventDefault():R.contains(Me.target)||H(!1),document.removeEventListener("pointermove",be),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ve,{capture:!0})}}},[R,H,ue]),T.useEffect(()=>{const me=()=>H(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[H]);const[ae,_]=WS(me=>{const be=P().filter(Pe=>!Pe.disabled),ve=be.find(Pe=>Pe.ref.current===document.activeElement),Me=XS(be,me,ve);Me&&setTimeout(()=>Me.ref.current.focus())}),k=T.useCallback((me,be,ve)=>{const Me=!te.current&&!ve;(L.value!==void 0&&L.value===be||Me)&&(Y(me),Me&&(te.current=!0))},[L.value]),q=T.useCallback(()=>R?.focus(),[R]),J=T.useCallback((me,be,ve)=>{const Me=!te.current&&!ve;(L.value!==void 0&&L.value===be||Me)&&V(me)},[L.value]),oe=i==="popper"?hx:LS,ce=oe===hx?{side:d,sideOffset:f,align:m,alignOffset:p,arrowPadding:x,collisionBoundary:N,collisionPadding:y,sticky:C,hideWhenDetached:M,avoidCollisions:S}:{};return n.jsx(_S,{scope:s,content:R,viewport:U,onViewportChange:G,itemRefCallback:k,selectedItem:B,onItemLeave:q,itemTextRefCallback:J,focusSelectedItem:K,selectedItemText:fe,position:i,isPositioned:F,searchRef:ae,children:n.jsx(j2,{as:FO,allowPinchZoom:!0,children:n.jsx(w2,{asChild:!0,trapped:L.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Qt(o,me=>{L.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:n.jsx(b2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:n.jsx(oe,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:me=>me.preventDefault(),...j,...ce,onPlaced:()=>W(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Qt(j.onKeyDown,me=>{const be=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!be&&me.key.length===1&&_(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Me=P().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Pe=me.target,Xe=Me.indexOf(Pe);Me=Me.slice(Xe+1)}setTimeout(()=>z(Me)),me.preventDefault()}})})})})})})});kS.displayName=HO;var zO="SelectItemAlignedPosition",LS=T.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:i,...o}=e,l=Hc(Bu,s),u=Fc(Bu,s),[d,f]=T.useState(null),[m,p]=T.useState(null),x=Hn(t,$=>p($)),N=o0(s),y=T.useRef(!1),C=T.useRef(!0),{viewport:M,selectedItem:S,selectedItemText:j,focusSelectedItem:L}=u,R=T.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&M&&S&&j){const $=l.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),Y=l.valueNode.getBoundingClientRect(),fe=j.getBoundingClientRect();if(l.dir!=="rtl"){const Pe=fe.left-B.left,Xe=Y.left-Pe,Qe=$.left-Xe,ge=$.width+Qe,re=Math.max(ge,B.width),Pt=window.innerWidth-to,Te=cx(Xe,[to,Math.max(to,Pt-re)]);d.style.minWidth=ge+"px",d.style.left=Te+"px"}else{const Pe=B.right-fe.right,Xe=window.innerWidth-Y.right-Pe,Qe=window.innerWidth-$.right-Xe,ge=$.width+Qe,re=Math.max(ge,B.width),Pt=window.innerWidth-to,Te=cx(Xe,[to,Math.max(to,Pt-re)]);d.style.minWidth=ge+"px",d.style.right=Te+"px"}const V=N(),P=window.innerHeight-to*2,F=M.scrollHeight,W=window.getComputedStyle(m),te=parseInt(W.borderTopWidth,10),z=parseInt(W.paddingTop,10),K=parseInt(W.borderBottomWidth,10),H=parseInt(W.paddingBottom,10),ue=te+z+F+H+K,ae=Math.min(S.offsetHeight*5,ue),_=window.getComputedStyle(M),k=parseInt(_.paddingTop,10),q=parseInt(_.paddingBottom,10),J=$.top+$.height/2-to,oe=P-J,ce=S.offsetHeight/2,me=S.offsetTop+ce,be=te+z+me,ve=ue-be;if(be<=J){const Pe=V.length>0&&S===V[V.length-1].ref.current;d.style.bottom="0px";const Xe=m.clientHeight-M.offsetTop-M.offsetHeight,Qe=Math.max(oe,ce+(Pe?q:0)+Xe+K),ge=be+Qe;d.style.height=ge+"px"}else{const Pe=V.length>0&&S===V[0].ref.current;d.style.top="0px";const Qe=Math.max(J,te+M.offsetTop+(Pe?k:0)+ce)+ve;d.style.height=Qe+"px",M.scrollTop=be-J+M.offsetTop}d.style.margin=`${to}px 0`,d.style.minHeight=ae+"px",d.style.maxHeight=P+"px",i?.(),requestAnimationFrame(()=>y.current=!0)}},[N,l.trigger,l.valueNode,d,m,M,S,j,l.dir,i]);Ta(()=>R(),[R]);const[D,U]=T.useState();Ta(()=>{m&&U(window.getComputedStyle(m).zIndex)},[m]);const G=T.useCallback($=>{$&&C.current===!0&&(R(),L?.(),C.current=!1)},[R,L]);return n.jsx(qO,{scope:s,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:G,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:n.jsx(Vt.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});LS.displayName=zO;var UO="SelectPopperPosition",hx=T.forwardRef((e,t)=>{const{__scopeSelect:s,align:i="start",collisionPadding:o=to,...l}=e,u=l0(s);return n.jsx(TO,{...u,...l,ref:t,align:i,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hx.displayName=UO;var[qO,H2]=jf(Bu,{}),mx="SelectViewport",DS=T.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:i,...o}=e,l=Fc(mx,s),u=H2(mx,s),d=Hn(t,l.onViewportChange),f=T.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(r0.Slot,{scope:s,children:n.jsx(Vt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Qt(o.onScroll,m=>{const p=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:N}=u;if(N?.current&&x){const y=Math.abs(f.current-p.scrollTop);if(y>0){const C=window.innerHeight-to*2,M=parseFloat(x.style.minHeight),S=parseFloat(x.style.height),j=Math.max(M,S);if(j<C){const L=j+y,R=Math.min(C,L),D=L-R;x.style.height=R+"px",x.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});DS.displayName=mx;var RS="SelectGroup",[VO,GO]=jf(RS),WO=T.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,o=Vo();return n.jsx(VO,{scope:s,id:o,children:n.jsx(Vt.div,{role:"group","aria-labelledby":o,...i,ref:t})})});WO.displayName=RS;var OS="SelectLabel",XO=T.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,o=GO(OS,s);return n.jsx(Vt.div,{id:o.id,...i,ref:t})});XO.displayName=OS;var Op="SelectItem",[ZO,PS]=jf(Op),IS=T.forwardRef((e,t)=>{const{__scopeSelect:s,value:i,disabled:o=!1,textValue:l,...u}=e,d=Hc(Op,s),f=Fc(Op,s),m=d.value===i,[p,x]=T.useState(l??""),[N,y]=T.useState(!1),C=Hn(t,L=>f.itemRefCallback?.(L,i,o)),M=Vo(),S=T.useRef("touch"),j=()=>{o||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(ZO,{scope:s,value:i,disabled:o,textId:M,isSelected:m,onItemTextChange:T.useCallback(L=>{x(R=>R||(L?.textContent??"").trim())},[]),children:n.jsx(r0.ItemSlot,{scope:s,value:i,disabled:o,textValue:p,children:n.jsx(Vt.div,{role:"option","aria-labelledby":M,"data-highlighted":N?"":void 0,"aria-selected":m&&N,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:C,onFocus:Qt(u.onFocus,()=>y(!0)),onBlur:Qt(u.onBlur,()=>y(!1)),onClick:Qt(u.onClick,()=>{S.current!=="mouse"&&j()}),onPointerUp:Qt(u.onPointerUp,()=>{S.current==="mouse"&&j()}),onPointerDown:Qt(u.onPointerDown,L=>{S.current=L.pointerType}),onPointerMove:Qt(u.onPointerMove,L=>{S.current=L.pointerType,o?f.onItemLeave?.():S.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qt(u.onPointerLeave,L=>{L.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Qt(u.onKeyDown,L=>{f.searchRef?.current!==""&&L.key===" "||(LO.includes(L.key)&&j(),L.key===" "&&L.preventDefault())})})})})});IS.displayName=Op;var hh="SelectItemText",BS=T.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:o,...l}=e,u=Hc(hh,s),d=Fc(hh,s),f=PS(hh,s),m=PO(hh,s),[p,x]=T.useState(null),N=Hn(t,j=>x(j),f.onItemTextChange,j=>d.itemTextRefCallback?.(j,f.value,f.disabled)),y=p?.textContent,C=T.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:M,onNativeOptionRemove:S}=m;return Ta(()=>(M(C),()=>S(C)),[M,S,C]),n.jsxs(n.Fragment,{children:[n.jsx(Vt.span,{id:f.textId,...l,ref:N}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Hh.createPortal(l.children,u.valueNode):null]})});BS.displayName=hh;var HS="SelectItemIndicator",FS=T.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return PS(HS,s).isSelected?n.jsx(Vt.span,{"aria-hidden":!0,...i,ref:t}):null});FS.displayName=HS;var px="SelectScrollUpButton",zS=T.forwardRef((e,t)=>{const s=Fc(px,e.__scopeSelect),i=H2(px,e.__scopeSelect),[o,l]=T.useState(!1),u=Hn(t,i.onScrollButtonChange);return Ta(()=>{if(s.viewport&&s.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=s.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),o?n.jsx(qS,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=s;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});zS.displayName=px;var gx="SelectScrollDownButton",US=T.forwardRef((e,t)=>{const s=Fc(gx,e.__scopeSelect),i=H2(gx,e.__scopeSelect),[o,l]=T.useState(!1),u=Hn(t,i.onScrollButtonChange);return Ta(()=>{if(s.viewport&&s.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<m;l(p)};const f=s.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),o?n.jsx(qS,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=s;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});US.displayName=gx;var qS=T.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:i,...o}=e,l=Fc("SelectScrollButton",s),u=T.useRef(null),d=o0(s),f=T.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return T.useEffect(()=>()=>f(),[f]),Ta(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(Vt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Qt(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Qt(o.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Qt(o.onPointerLeave,()=>{f()})})}),$O="SelectSeparator",YO=T.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return n.jsx(Vt.div,{"aria-hidden":!0,...i,ref:t})});YO.displayName=$O;var xx="SelectArrow",KO=T.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,o=l0(s),l=Hc(xx,s),u=Fc(xx,s);return l.open&&u.position==="popper"?n.jsx(MO,{...o,...i,ref:t}):null});KO.displayName=xx;var QO="SelectBubbleInput",VS=T.forwardRef(({__scopeSelect:e,value:t,...s},i)=>{const o=T.useRef(null),l=Hn(i,o),u=bS(t);return T.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==t&&p){const x=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(x)}},[u,t]),n.jsx(Vt.select,{...s,style:{...wS,...s.style},ref:l,defaultValue:t})});VS.displayName=QO;function GS(e){return e===""||e===void 0}function WS(e){const t=ui(e),s=T.useRef(""),i=T.useRef(0),o=T.useCallback(u=>{const d=s.current+u;t(d),(function f(m){s.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=T.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,o,l]}function XS(e,t,s){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=s?e.indexOf(s):-1;let u=JO(e,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==s));const f=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==s?f:void 0}function JO(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var eP=NS,tP=SS,nP=CS,sP=TS,aP=MS,iP=ES,rP=DS,oP=IS,lP=BS,cP=FS,uP=zS,dP=US;function an({...e}){return n.jsx(eP,{"data-slot":"select",...e})}function rn({...e}){return n.jsx(nP,{"data-slot":"select-value",...e})}function on({className:e,size:t="default",children:s,...i}){return n.jsxs(tP,{"data-slot":"select-trigger","data-size":t,className:Ut("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[s,n.jsx(sP,{asChild:!0,children:n.jsx(g2,{className:"size-4 opacity-50"})})]})}function ln({className:e,children:t,position:s="popper",...i}){return n.jsx(aP,{children:n.jsxs(iP,{"data-slot":"select-content",className:Ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[n.jsx(fP,{}),n.jsx(rP,{className:Ut("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(hP,{})]})})}function it({className:e,children:t,...s}){return n.jsxs(oP,{"data-slot":"select-item",className:Ut("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(cP,{children:n.jsx(EL,{className:"size-4"})})}),n.jsx(lP,{children:t})]})}function fP({className:e,...t}){return n.jsx(uP,{"data-slot":"select-scroll-up-button",className:Ut("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(DL,{className:"size-4"})})}function hP({className:e,...t}){return n.jsx(dP,{"data-slot":"select-scroll-down-button",className:Ut("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(g2,{className:"size-4"})})}function Qa({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:Ut("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var mP="Separator",Aw="horizontal",pP=["horizontal","vertical"],ZS=T.forwardRef((e,t)=>{const{decorative:s,orientation:i=Aw,...o}=e,l=gP(i)?i:Aw,d=s?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return n.jsx(Vt.div,{"data-orientation":l,...d,...o,ref:t})});ZS.displayName=mP;function gP(e){return pP.includes(e)}var xP=ZS;function hn({className:e,orientation:t="horizontal",decorative:s=!0,...i}){return n.jsx(xP,{"data-slot":"separator-root",decorative:s,orientation:t,className:Ut("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...i})}function vP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const yP=e=>{switch(e){case"success":return NP;case"info":return SP;case"warning":return jP;case"error":return AP;default:return null}},bP=Array(12).fill(0),wP=({visible:e,className:t})=>tt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},tt.createElement("div",{className:"sonner-spinner"},bP.map((s,i)=>tt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),NP=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jP=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SP=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AP=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CP=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},tt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),tt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TP=()=>{const[e,t]=tt.useState(document.hidden);return tt.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let vx=1;class MP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:i,...o}=t,l=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:vx++,u=this.toasts.find(f=>f.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...t,id:l,title:i}),{...f,...t,id:l,dismissible:d,title:i}):f):this.addToast({title:i,...o,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let l=i!==void 0,u;const d=o.then(async m=>{if(u=["resolve",m],tt.isValidElement(m))l=!1,this.create({id:i,type:"default",message:m});else if(_P(m)&&!m.ok){l=!1;const x=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,N=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,C=typeof x=="object"&&!tt.isValidElement(x)?x:{message:x};this.create({id:i,type:"error",description:N,...C})}else if(m instanceof Error){l=!1;const x=typeof s.error=="function"?await s.error(m):s.error,N=typeof s.description=="function"?await s.description(m):s.description,C=typeof x=="object"&&!tt.isValidElement(x)?x:{message:x};this.create({id:i,type:"error",description:N,...C})}else if(s.success!==void 0){l=!1;const x=typeof s.success=="function"?await s.success(m):s.success,N=typeof s.description=="function"?await s.description(m):s.description,C=typeof x=="object"&&!tt.isValidElement(x)?x:{message:x};this.create({id:i,type:"success",description:N,...C})}}).catch(async m=>{if(u=["reject",m],s.error!==void 0){l=!1;const p=typeof s.error=="function"?await s.error(m):s.error,x=typeof s.description=="function"?await s.description(m):s.description,y=typeof p=="object"&&!tt.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:x,...y})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),f=()=>new Promise((m,p)=>d.then(()=>u[0]==="reject"?p(u[1]):m(u[1])).catch(p));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(t,s)=>{const i=s?.id||vx++;return this.create({jsx:t(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ki=new MP,EP=(e,t)=>{const s=t?.id||vx++;return ki.addToast({title:e,...t,id:s}),s},_P=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kP=EP,LP=()=>ki.toasts,DP=()=>ki.getActiveToasts(),vn=Object.assign(kP,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:LP,getToasts:DP});vP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ym(e){return e.label!==void 0}const RP=3,OP="24px",PP="16px",Cw=4e3,IP=356,BP=14,HP=45,FP=200;function Oo(...e){return e.filter(Boolean).join(" ")}function zP(e){const[t,s]=e.split("-"),i=[];return t&&i.push(t),s&&i.push(s),i}const UP=e=>{var t,s,i,o,l,u,d,f,m;const{invert:p,toast:x,unstyled:N,interacting:y,setHeights:C,visibleToasts:M,heights:S,index:j,toasts:L,expanded:R,removeToast:D,defaultRichColors:U,closeButton:G,style:$,cancelButtonStyle:B,actionButtonStyle:Y,className:fe="",descriptionClassName:V="",duration:P,position:F,gap:W,expandByDefault:te,classNames:z,icons:K,closeButtonAriaLabel:H="Close toast"}=e,[ue,ae]=tt.useState(null),[_,k]=tt.useState(null),[q,J]=tt.useState(!1),[oe,ce]=tt.useState(!1),[me,be]=tt.useState(!1),[ve,Me]=tt.useState(!1),[Pe,Xe]=tt.useState(!1),[Qe,ge]=tt.useState(0),[re,Pt]=tt.useState(0),Te=tt.useRef(x.duration||P||Cw),we=tt.useRef(null),ke=tt.useRef(null),$e=j===0,st=j+1<=M,le=x.type,et=x.dismissible!==!1,ut=x.className||"",St=x.descriptionClassName||"",At=tt.useMemo(()=>S.findIndex(ot=>ot.toastId===x.id)||0,[S,x.id]),mn=tt.useMemo(()=>{var ot;return(ot=x.closeButton)!=null?ot:G},[x.closeButton,G]),_t=tt.useMemo(()=>x.duration||P||Cw,[x.duration,P]),ht=tt.useRef(0),Ct=tt.useRef(0),jt=tt.useRef(0),wn=tt.useRef(null),[cn,lt]=F.split("-"),kt=tt.useMemo(()=>S.reduce((ot,Pn,jn)=>jn>=At?ot:ot+Pn.height,0),[S,At]),Zt=TP(),Rt=x.invert||p,en=le==="loading";Ct.current=tt.useMemo(()=>At*W+kt,[At,kt]),tt.useEffect(()=>{Te.current=_t},[_t]),tt.useEffect(()=>{J(!0)},[]),tt.useEffect(()=>{const ot=ke.current;if(ot){const Pn=ot.getBoundingClientRect().height;return Pt(Pn),C(jn=>[{toastId:x.id,height:Pn,position:x.position},...jn]),()=>C(jn=>jn.filter(fs=>fs.toastId!==x.id))}},[C,x.id]),tt.useLayoutEffect(()=>{if(!q)return;const ot=ke.current,Pn=ot.style.height;ot.style.height="auto";const jn=ot.getBoundingClientRect().height;ot.style.height=Pn,Pt(jn),C(fs=>fs.find(ct=>ct.toastId===x.id)?fs.map(ct=>ct.toastId===x.id?{...ct,height:jn}:ct):[{toastId:x.id,height:jn,position:x.position},...fs])},[q,x.title,x.description,C,x.id,x.jsx,x.action,x.cancel]);const Ot=tt.useCallback(()=>{ce(!0),ge(Ct.current),C(ot=>ot.filter(Pn=>Pn.toastId!==x.id)),setTimeout(()=>{D(x)},FP)},[x,D,C,Ct]);tt.useEffect(()=>{if(x.promise&&le==="loading"||x.duration===1/0||x.type==="loading")return;let ot;return R||y||Zt?(()=>{if(jt.current<ht.current){const fs=new Date().getTime()-ht.current;Te.current=Te.current-fs}jt.current=new Date().getTime()})():(()=>{Te.current!==1/0&&(ht.current=new Date().getTime(),ot=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Ot()},Te.current))})(),()=>clearTimeout(ot)},[R,y,x,le,Zt,Ot]),tt.useEffect(()=>{x.delete&&(Ot(),x.onDismiss==null||x.onDismiss.call(x,x))},[Ot,x.delete]);function Kn(){var ot;if(K?.loading){var Pn;return tt.createElement("div",{className:Oo(z?.loader,x==null||(Pn=x.classNames)==null?void 0:Pn.loader,"sonner-loader"),"data-visible":le==="loading"},K.loading)}return tt.createElement(wP,{className:Oo(z?.loader,x==null||(ot=x.classNames)==null?void 0:ot.loader),visible:le==="loading"})}const ds=x.icon||K?.[le]||yP(le);var Nn,Mt;return tt.createElement("li",{tabIndex:0,ref:ke,className:Oo(fe,ut,z?.toast,x==null||(t=x.classNames)==null?void 0:t.toast,z?.default,z?.[le],x==null||(s=x.classNames)==null?void 0:s[le]),"data-sonner-toast":"","data-rich-colors":(Nn=x.richColors)!=null?Nn:U,"data-styled":!(x.jsx||x.unstyled||N),"data-mounted":q,"data-promise":!!x.promise,"data-swiped":Pe,"data-removed":oe,"data-visible":st,"data-y-position":cn,"data-x-position":lt,"data-index":j,"data-front":$e,"data-swiping":me,"data-dismissible":et,"data-type":le,"data-invert":Rt,"data-swipe-out":ve,"data-swipe-direction":_,"data-expanded":!!(R||te&&q),"data-testid":x.testId,style:{"--index":j,"--toasts-before":j,"--z-index":L.length-j,"--offset":`${oe?Qe:Ct.current}px`,"--initial-height":te?"auto":`${re}px`,...$,...x.style},onDragEnd:()=>{be(!1),ae(null),wn.current=null},onPointerDown:ot=>{ot.button!==2&&(en||!et||(we.current=new Date,ge(Ct.current),ot.target.setPointerCapture(ot.pointerId),ot.target.tagName!=="BUTTON"&&(be(!0),wn.current={x:ot.clientX,y:ot.clientY})))},onPointerUp:()=>{var ot,Pn,jn;if(ve||!et)return;wn.current=null;const fs=Number(((ot=ke.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),aa=Number(((Pn=ke.current)==null?void 0:Pn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ct=new Date().getTime()-((jn=we.current)==null?void 0:jn.getTime()),bs=ue==="x"?fs:aa,Ea=Math.abs(bs)/ct;if(Math.abs(bs)>=HP||Ea>.11){ge(Ct.current),x.onDismiss==null||x.onDismiss.call(x,x),k(ue==="x"?fs>0?"right":"left":aa>0?"down":"up"),Ot(),Me(!0);return}else{var as,is;(as=ke.current)==null||as.style.setProperty("--swipe-amount-x","0px"),(is=ke.current)==null||is.style.setProperty("--swipe-amount-y","0px")}Xe(!1),be(!1),ae(null)},onPointerMove:ot=>{var Pn,jn,fs;if(!wn.current||!et||((Pn=window.getSelection())==null?void 0:Pn.toString().length)>0)return;const ct=ot.clientY-wn.current.y,bs=ot.clientX-wn.current.x;var Ea;const as=(Ea=e.swipeDirections)!=null?Ea:zP(F);!ue&&(Math.abs(bs)>1||Math.abs(ct)>1)&&ae(Math.abs(bs)>Math.abs(ct)?"x":"y");let is={x:0,y:0};const Gn=qn=>1/(1.5+Math.abs(qn)/20);if(ue==="y"){if(as.includes("top")||as.includes("bottom"))if(as.includes("top")&&ct<0||as.includes("bottom")&&ct>0)is.y=ct;else{const qn=ct*Gn(ct);is.y=Math.abs(qn)<Math.abs(ct)?qn:ct}}else if(ue==="x"&&(as.includes("left")||as.includes("right")))if(as.includes("left")&&bs<0||as.includes("right")&&bs>0)is.x=bs;else{const qn=bs*Gn(bs);is.x=Math.abs(qn)<Math.abs(bs)?qn:bs}(Math.abs(is.x)>0||Math.abs(is.y)>0)&&Xe(!0),(jn=ke.current)==null||jn.style.setProperty("--swipe-amount-x",`${is.x}px`),(fs=ke.current)==null||fs.style.setProperty("--swipe-amount-y",`${is.y}px`)}},mn&&!x.jsx&&le!=="loading"?tt.createElement("button",{"aria-label":H,"data-disabled":en,"data-close-button":!0,onClick:en||!et?()=>{}:()=>{Ot(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Oo(z?.closeButton,x==null||(i=x.classNames)==null?void 0:i.closeButton)},(Mt=K?.close)!=null?Mt:CP):null,(le||x.icon||x.promise)&&x.icon!==null&&(K?.[le]!==null||x.icon)?tt.createElement("div",{"data-icon":"",className:Oo(z?.icon,x==null||(o=x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Kn():null,x.type!=="loading"?ds:null):null,tt.createElement("div",{"data-content":"",className:Oo(z?.content,x==null||(l=x.classNames)==null?void 0:l.content)},tt.createElement("div",{"data-title":"",className:Oo(z?.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?tt.createElement("div",{"data-description":"",className:Oo(V,St,z?.description,x==null||(d=x.classNames)==null?void 0:d.description)},typeof x.description=="function"?x.description():x.description):null),tt.isValidElement(x.cancel)?x.cancel:x.cancel&&Ym(x.cancel)?tt.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||B,onClick:ot=>{Ym(x.cancel)&&et&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,ot),Ot())},className:Oo(z?.cancelButton,x==null||(f=x.classNames)==null?void 0:f.cancelButton)},x.cancel.label):null,tt.isValidElement(x.action)?x.action:x.action&&Ym(x.action)?tt.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||Y,onClick:ot=>{Ym(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,ot),!ot.defaultPrevented&&Ot())},className:Oo(z?.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function Tw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qP(e,t){const s={};return[e,t].forEach((i,o)=>{const l=o===1,u=l?"--mobile-offset":"--offset",d=l?PP:OP;function f(m){["top","right","bottom","left"].forEach(p=>{s[`${u}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(m=>{i[m]===void 0?s[`${u}-${m}`]=d:s[`${u}-${m}`]=typeof i[m]=="number"?`${i[m]}px`:i[m]}):f(d)}),s}const VP=tt.forwardRef(function(t,s){const{id:i,invert:o,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:m,offset:p,mobileOffset:x,theme:N="light",richColors:y,duration:C,style:M,visibleToasts:S=RP,toastOptions:j,dir:L=Tw(),gap:R=BP,icons:D,containerAriaLabel:U="Notifications"}=t,[G,$]=tt.useState([]),B=tt.useMemo(()=>i?G.filter(q=>q.toasterId===i):G.filter(q=>!q.toasterId),[G,i]),Y=tt.useMemo(()=>Array.from(new Set([l].concat(B.filter(q=>q.position).map(q=>q.position)))),[B,l]),[fe,V]=tt.useState([]),[P,F]=tt.useState(!1),[W,te]=tt.useState(!1),[z,K]=tt.useState(N!=="system"?N:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=tt.useRef(null),ue=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=tt.useRef(null),_=tt.useRef(!1),k=tt.useCallback(q=>{$(J=>{var oe;return(oe=J.find(ce=>ce.id===q.id))!=null&&oe.delete||ki.dismiss(q.id),J.filter(({id:ce})=>ce!==q.id)})},[]);return tt.useEffect(()=>ki.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{$(J=>J.map(oe=>oe.id===q.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{g3.flushSync(()=>{$(J=>{const oe=J.findIndex(ce=>ce.id===q.id);return oe!==-1?[...J.slice(0,oe),{...J[oe],...q},...J.slice(oe+1)]:[q,...J]})})})}),[G]),tt.useEffect(()=>{if(N!=="system"){K(N);return}if(N==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{K(J?"dark":"light")})}catch{q.addListener(({matches:oe})=>{try{K(oe?"dark":"light")}catch(ce){console.error(ce)}})}},[N]),tt.useEffect(()=>{G.length<=1&&F(!1)},[G]),tt.useEffect(()=>{const q=J=>{var oe;if(u.every(be=>J[be]||J.code===be)){var me;F(!0),(me=H.current)==null||me.focus()}J.code==="Escape"&&(document.activeElement===H.current||(oe=H.current)!=null&&oe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[u]),tt.useEffect(()=>{if(H.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,_.current=!1)}},[H.current]),tt.createElement("section",{ref:s,"aria-label":`${U} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((q,J)=>{var oe;const[ce,me]=q.split("-");return B.length?tt.createElement("ol",{key:q,dir:L==="auto"?Tw():L,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":ce,"data-x-position":me,style:{"--front-toast-height":`${((oe=fe[0])==null?void 0:oe.height)||0}px`,"--width":`${IP}px`,"--gap":`${R}px`,...M,...qP(p,x)},onBlur:be=>{_.current&&!be.currentTarget.contains(be.relatedTarget)&&(_.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||_.current||(_.current=!0,ae.current=be.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{W||F(!1)},onDragEnd:()=>F(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},B.filter(be=>!be.position&&J===0||be.position===q).map((be,ve)=>{var Me,Pe;return tt.createElement(UP,{key:be.id,icons:D,index:ve,toast:be,defaultRichColors:y,duration:(Me=j?.duration)!=null?Me:C,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:o,visibleToasts:S,closeButton:(Pe=j?.closeButton)!=null?Pe:f,interacting:W,position:q,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:k,toasts:B.filter(Xe=>Xe.position==be.position),heights:fe.filter(Xe=>Xe.position==be.position),setHeights:V,expandByDefault:d,gap:R,expanded:P,swipeDirections:t.swipeDirections})})):null}))});function F2({open:e,onOpenChange:t,prefilledECO:s,prefilledMachine:i,onWorkOrderCreated:o,allowedMachineIds:l}){const[u,d]=T.useState({machineId:"",type:"",priority:"medium",title:"",description:"",assignedTo:"",requestedBy:"",createdBy:"",dueDate:"",estimatedHours:"",linkedECO:"",linkedEvent:"",linkedComponents:[],linkedRCA:""}),[f,m]=T.useState([]),[p,x]=T.useState(""),[N,y]=T.useState([]),[C,M]=T.useState({partNumber:"",qty:"",lot:""}),[S,j]=T.useState([]),[L,R]=T.useState([]),[D,U]=T.useState([]),[,G]=T.useState(!1);T.useEffect(()=>{async function H(){try{const[ue,ae,_]=await Promise.all([oo(),Ul(),Yp()]);j(ue&&ue.length>0?ue:us),R(ae&&ae.length>0?ae:so),U(_&&_.length>0?_:Wo)}catch(ue){console.error("Error loading data:",ue),j(us),R(so),U(Wo)}}e&&H()},[e]);const $=l&&l.length>0?S.filter(H=>l.includes(H.id)):S,B=$.find(H=>H.id===u.machineId),Y=L.filter(H=>H.machineId===u.machineId),fe=D.filter(H=>H.machineId===u.machineId);T.useEffect(()=>{s&&e&&(d(H=>({...H,machineId:s.machineId,type:"PM",title:`Implementation: ${s.title}`,description:`Implement ECO ${s.number}: ${s.description}`,linkedECO:s.id,requestedBy:"ECO System",priority:s.reason==="safety"?"critical":"high"})),s.partsAssociated&&s.partsAssociated.length>0&&y(s.partsAssociated.map((H,ue)=>({id:`eco-part-${ue}`,partNumber:H.partNumber,qty:H.qty,lot:""}))),s.impactedComponents&&s.impactedComponents.length>0&&d(H=>({...H,linkedComponents:s.impactedComponents||[]})))},[s,e]),T.useEffect(()=>{if(console.log("Prefill effect triggered:",{prefilledMachine:i?.id,open:e,machinesCount:S.length}),i&&e&&S.length>0){const H=S.find(ue=>ue.id===i.id);console.log("Machine exists in list:",H?.id),H&&(console.log("Setting form data with machine:",i.id),d(ue=>({...ue,machineId:i.id,title:`Work Order for ${i.name}`,description:`Maintenance work order for ${i.name} (${i.type})`})))}},[i,e,S]),T.useEffect(()=>{e&&l&&u.machineId&&!l.includes(u.machineId)&&d(H=>({...H,machineId:""}))},[e,l,u.machineId]);const V=()=>{p.trim()&&(m([...f,{id:Date.now().toString(),description:p.trim(),status:"pending",notes:""}]),x(""))},P=H=>{m(f.filter(ue=>ue.id!==H))},F=()=>{C.partNumber.trim()&&C.qty&&(y([...N,{id:Date.now().toString(),partNumber:C.partNumber.trim(),qty:parseInt(C.qty),lot:C.lot.trim()}]),M({partNumber:"",qty:"",lot:""}))},W=H=>{y(N.filter(ue=>ue.id!==H))},te=H=>{d(ue=>({...ue,linkedComponents:ue.linkedComponents.includes(H)?ue.linkedComponents.filter(ae=>ae!==H):[...ue.linkedComponents,H]}))},z=async H=>{if(H.preventDefault(),!u.machineId){vn.error("Please select a machine");return}if(!u.type){vn.error("Please select a work order type");return}if(!u.title.trim()){vn.error("Please enter a work order title");return}if(!u.dueDate){vn.error("Please select a due date");return}const ue=`WO-${Date.now().toString().slice(-6)}`,ae={id:ue,number:ue,title:u.title,machineId:u.machineId,machineName:B?.name||"",type:u.type,priority:u.priority,status:"open",description:u.description,requestedBy:u.requestedBy,assignee:u.assignedTo,dueDate:u.dueDate,linkedEventId:u.linkedECO||u.linkedEvent||void 0,linkedComponentId:u.linkedComponents[0]||void 0,tasks:f.map(_=>({description:_.description,status:_.status,notes:_.notes})),partsUsed:N.map(_=>({partNumber:_.partNumber,qty:_.qty,lot:_.lot})),laborHours:u.estimatedHours?parseFloat(u.estimatedHours):void 0,rcaId:u.linkedRCA||void 0};G(!0);try{await V4(ae),o&&o(ae),vn.success("Work order created successfully",{description:`${ue}: ${u.title} has been created for ${B?.name}`}),K()}catch(_){console.error("Error creating work order:",_),vn.error("Failed to create work order")}finally{G(!1)}},K=()=>{d({machineId:"",type:"",priority:"medium",title:"",description:"",assignedTo:"",requestedBy:"",createdBy:"",dueDate:"",estimatedHours:"",linkedECO:"",linkedEvent:"",linkedComponents:[],linkedRCA:""}),m([]),y([]),x(""),M({partNumber:"",qty:"",lot:""}),t(!1)};return n.jsx(Ha,{open:e,onOpenChange:t,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"Create Work Order"}),n.jsx(fi,{children:"Create a new work order with tasks, parts, and relationships"})]}),n.jsxs("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:[s&&n.jsx(Ie,{className:"p-4 bg-muted border-border",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xa,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-foreground",children:"ECO Implementation Work Order"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["This work order is pre-filled from ECO ",s.number,": ",s.title]})]})]})}),n.jsxs("form",{id:"create-work-order-form",onSubmit:z,className:"space-y-6",children:[n.jsx(Ie,{className:"p-3 bg-muted border-border",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(xa,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Work Order Creation Guide"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a machine first to see available ECO, Event, and Component associations for this work order"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine",children:"Machine *"}),n.jsxs(an,{value:u.machineId,onValueChange:H=>d(ue=>({...ue,machineId:H})),children:[n.jsx(on,{id:"machine",children:n.jsx(rn,{placeholder:"Select a machine..."})}),n.jsx(ln,{children:$.map(H=>n.jsxs(it,{value:H.id,children:[H.name," - ",H.category]},H.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"type",children:"Work Order Type *"}),n.jsxs(an,{value:u.type,onValueChange:H=>d(ue=>({...ue,type:H})),children:[n.jsx(on,{id:"type",children:n.jsx(rn,{placeholder:"Select type..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"Preventive Maintenance",children:"Preventive Maintenance"}),n.jsx(it,{value:"Corrective Maintenance",children:"Corrective Maintenance"}),n.jsx(it,{value:"Repair",children:"Repair"}),n.jsx(it,{value:"Inspection",children:"Inspection"}),n.jsx(it,{value:"Calibration",children:"Calibration"}),n.jsx(it,{value:"Installation",children:"Installation"}),n.jsx(it,{value:"Upgrade",children:"Upgrade"}),n.jsx(it,{value:"Emergency",children:"Emergency"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"priority",children:"Priority"}),n.jsxs(an,{value:u.priority,onValueChange:H=>d(ue=>({...ue,priority:H})),children:[n.jsx(on,{id:"priority",children:n.jsx(rn,{})}),n.jsxs(ln,{children:[n.jsx(it,{value:"low",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"Low"]})}),n.jsx(it,{value:"medium",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"Medium"]})}),n.jsx(it,{value:"high",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"High"]})}),n.jsx(it,{value:"critical",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-red-600"}),"Critical"]})})]})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"title",children:"Title *"}),n.jsx(nt,{id:"title",value:u.title,onChange:H=>d(ue=>({...ue,title:H.target.value})),placeholder:"Brief summary of the work order..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"description",children:"Description"}),n.jsx(Qa,{id:"description",value:u.description,onChange:H=>d(ue=>({...ue,description:H.target.value})),placeholder:"Detailed description of work to be performed...",rows:4})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Assignment & Scheduling"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"assignedTo",children:"Assigned To"}),n.jsx(nt,{id:"assignedTo",value:u.assignedTo,onChange:H=>d(ue=>({...ue,assignedTo:H.target.value})),placeholder:"Technician name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"requestedBy",children:"Requested By"}),n.jsx(nt,{id:"requestedBy",value:u.requestedBy,onChange:H=>d(ue=>({...ue,requestedBy:H.target.value})),placeholder:"Requester name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"dueDate",children:"Due Date *"}),n.jsx(nt,{id:"dueDate",type:"date",value:u.dueDate,onChange:H=>d(ue=>({...ue,dueDate:H.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"estimatedHours",children:"Estimated Hours"}),n.jsx(nt,{id:"estimatedHours",type:"number",step:"0.5",value:u.estimatedHours,onChange:H=>d(ue=>({...ue,estimatedHours:H.target.value})),placeholder:"0.0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"createdBy",children:"Created By"}),n.jsx(nt,{id:"createdBy",value:u.createdBy,onChange:H=>d(ue=>({...ue,createdBy:H.target.value})),placeholder:"Your name"})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Tasks"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(nt,{value:p,onChange:H=>x(H.target.value),placeholder:"Add a task...",onKeyPress:H=>{H.key==="Enter"&&(H.preventDefault(),V())}}),n.jsxs(Ue,{type:"button",variant:"outline",onClick:V,children:[n.jsx(ew,{className:"w-4 h-4 mr-2"}),"Add"]})]}),f.length>0&&n.jsx(Ie,{className:"p-3",children:n.jsx("div",{className:"space-y-2",children:f.map((H,ue)=>n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted rounded",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[ue+1,"."]}),n.jsx("span",{className:"text-sm",children:H.description})]}),n.jsx(Ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(H.id),children:n.jsx(Sr,{className:"w-4 h-4"})})]},H.id))})}),f.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No tasks added yet"})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Parts Required"}),n.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[n.jsx(nt,{className:"col-span-5",value:C.partNumber,onChange:H=>M(ue=>({...ue,partNumber:H.target.value})),placeholder:"Part number..."}),n.jsx(nt,{className:"col-span-2",type:"number",value:C.qty,onChange:H=>M(ue=>({...ue,qty:H.target.value})),placeholder:"Qty"}),n.jsx(nt,{className:"col-span-3",value:C.lot,onChange:H=>M(ue=>({...ue,lot:H.target.value})),placeholder:"Lot (optional)"}),n.jsxs(Ue,{type:"button",variant:"outline",onClick:F,className:"col-span-2",children:[n.jsx(ew,{className:"w-4 h-4 mr-2"}),"Add"]})]}),N.length>0&&n.jsx(Ie,{className:"p-3",children:n.jsx("div",{className:"space-y-2",children:N.map(H=>n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted rounded",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Ve,{variant:"outline",children:H.partNumber}),n.jsxs("span",{className:"text-sm",children:["Qty: ",H.qty]}),H.lot&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Lot: ",H.lot]})]}),n.jsx(Ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>W(H.id),children:n.jsx(Sr,{className:"w-4 h-4"})})]},H.id))})}),N.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No parts added yet"})]}),n.jsx(hn,{}),u.machineId&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Relationships (Optional)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedECO",children:"Linked ECO"}),n.jsxs(an,{value:u.linkedECO,onValueChange:H=>d(ue=>({...ue,linkedECO:H})),children:[n.jsx(on,{id:"linkedECO",children:n.jsx(rn,{placeholder:"Select ECO..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"none",children:"None"}),Y.map(H=>n.jsxs(it,{value:H.id,children:[H.number," - ",H.title]},H.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedEvent",children:"Linked Event"}),n.jsx(nt,{id:"linkedEvent",value:u.linkedEvent,onChange:H=>d(ue=>({...ue,linkedEvent:H.target.value})),placeholder:"Event ID or reference..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedRCA",children:"Linked RCA"}),n.jsx(nt,{id:"linkedRCA",value:u.linkedRCA,onChange:H=>d(ue=>({...ue,linkedRCA:H.target.value})),placeholder:"RCA ID or reference..."})]})]}),fe.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Linked Components"}),n.jsx(Ie,{className:"p-3 max-h-40 overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:fe.slice(0,10).map(H=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted p-2 rounded",children:[n.jsx("input",{type:"checkbox",checked:u.linkedComponents.includes(H.id),onChange:()=>te(H.id),className:"cursor-pointer"}),n.jsx("span",{className:"text-sm",children:H.name}),n.jsx(Ve,{variant:"outline",className:"text-xs ml-auto",children:H.partNumber})]},H.id))})}),u.linkedComponents.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.linkedComponents.length," component(s) selected"]})]})]})]})]}),n.jsxs(Uu,{className:"border-t pt-4",children:[n.jsx(Ue,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),n.jsxs(Ue,{type:"submit",form:"create-work-order-form",children:[n.jsx(qo,{className:"w-4 h-4 mr-2"}),"Create Work Order"]})]})]})})}function $S({machines:e,open:t,onOpenChange:s,onViewMachineDetails:i}){const[o,l]=T.useState(!1),[u,d]=T.useState(null),f=x=>{if(!x)return"Unknown";const N=new Date(x),C=Math.floor((new Date().getTime()-N.getTime())/(1e3*60*60));if(C<1)return"Less than 1 hour";if(C<24)return`${C} hours ago`;const M=Math.floor(C/24);return`${M} day${M!==1?"s":""} ago`},m=x=>x==="down"?"destructive":x==="maintenance"?"secondary":"default",p=x=>x==="down"?xa:x==="maintenance"?tr:Xo;return n.jsxs(Ha,{open:t,onOpenChange:s,children:[n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsxs(za,{className:"flex items-center gap-2",children:[n.jsx(xa,{className:"w-5 h-5 text-red-600"}),"Machines Down or Under Maintenance"]}),n.jsx(fi,{children:"Machines currently offline requiring attention or scheduled maintenance"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:e.length===0?n.jsx(Ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"All machines are operational."})}):e.map(x=>{const N=p(x.status);return n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(N,{className:`w-5 h-5 ${x.status==="down"?"text-red-600":"text-yellow-600"}`}),n.jsx("h4",{children:x.name}),n.jsx(Ve,{variant:"secondary",children:x.category}),n.jsx(Ve,{variant:m(x.status),children:x.status.toUpperCase()}),x.criticality&&n.jsx(Ve,{variant:x.criticality==="high"?"destructive":x.criticality==="medium"?"secondary":"outline",children:x.criticality.toUpperCase()})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:x.type||"N/A"})]}),x.lastDowntime&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Down Since:"}),n.jsx("span",{className:"text-red-600",children:f(x.lastDowntime)})]}),x.oem&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"OEM:"}),n.jsx("span",{children:x.oem})]}),x.controller&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Controller:"}),n.jsx("span",{children:x.controller})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aD,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Position:"}),n.jsxs("span",{children:["X: ",x.x,", Y: ",x.y]})]}),x.todayTarget&&x.todayActual!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Production Impact:"}),n.jsxs("span",{className:"ml-2 text-red-600",children:[x.todayActual,"/",x.todayTarget," units (",Math.round(x.todayActual/x.todayTarget*100),"%)"]})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>{i?.(x),s(!1)},children:"View Details"}),n.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>{d(x),l(!0)},children:"Create WO"})]})]})},x.id)})}),e.length>0&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"text-red-600",children:e.filter(x=>x.status==="down").length})," machines down ",n.jsx("span",{className:"text-yellow-600 ml-2",children:e.filter(x=>x.status==="maintenance").length})," under maintenance"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total production capacity impact: ",Math.round((e.reduce((x,N)=>x+(N.todayTarget||0),0)-e.reduce((x,N)=>x+(N.todayActual||0),0))/e.reduce((x,N)=>x+(N.todayTarget||0),0)*100),"%"]})]}),n.jsx(Ue,{children:"Generate Report"})]})})]}),n.jsx(F2,{open:o,onOpenChange:l,prefilledMachine:u})]})}function YS({workOrders:e,open:t,onOpenChange:s,onViewWorkOrderDetails:i}){const o=p=>{switch(p){case"critical":return"destructive";case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"default"}},l=p=>{switch(p){case"open":return"default";case"in-progress":return"secondary";case"on-hold":return"outline";default:return"default"}},u=()=>"bg-muted text-foreground border-border",d=p=>{const x=new Date(p),N=new Date;return Math.ceil((x.getTime()-N.getTime())/(1e3*60*60*24))},f=p=>{const x=d(p);return x<0?{text:`${Math.abs(x)} days overdue`,color:"text-red-600"}:x===0?{text:"Due today",color:"text-muted-foreground"}:x===1?{text:"Due tomorrow",color:"text-muted-foreground"}:x<=3?{text:`Due in ${x} days`,color:"text-muted-foreground"}:{text:`Due in ${x} days`,color:"text-muted-foreground"}},m=[...e].sort((p,x)=>{const N={critical:0,high:1,medium:2,low:3},y=N[p.priority]??4,C=N[x.priority]??4;return y!==C?y-C:d(p.dueDate)-d(x.dueDate)});return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsxs(za,{className:"flex items-center gap-2",children:[n.jsx(qo,{className:"w-5 h-5 text-muted-foreground"}),"Pending Work Orders"]}),n.jsx(fi,{children:"All open and in-progress work orders requiring attention"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:m.length===0?n.jsx(Ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No pending work orders."})}):m.map(p=>{const x=f(p.dueDate),N=d(p.dueDate)<0;return n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[N&&n.jsx(er,{className:"w-5 h-5 text-red-600"}),n.jsx("h4",{children:p.id}),n.jsx(Ve,{variant:"secondary",children:p.machineName}),n.jsx(Ve,{variant:o(p.priority),children:p.priority.toUpperCase()}),n.jsx(Ve,{variant:l(p.status),children:p.status.toUpperCase()}),n.jsx(Ve,{className:u(),variant:"outline",children:p.type})]}),n.jsx("p",{className:"text-sm",children:p.description}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Due:"}),n.jsx("span",{className:x.color,children:p.dueDate})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Assignee:"}),n.jsx("span",{children:p.assignee})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Requested by:"}),n.jsx("span",{children:p.requestedBy})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`text-sm ${x.color}`,children:x.text})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>{i?.(p),s(!1)},children:"View Details"}),n.jsx(Ue,{size:"sm",children:p.status==="open"?"Start Work":"Update Status"})]})]})},p.id)})}),m.length>0&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"text-red-600",children:m.filter(p=>p.priority==="critical").length})," critical ",n.jsx("span",{className:"text-muted-foreground ml-2",children:m.filter(p=>p.priority==="high").length})," high priority ",n.jsx("span",{className:"text-red-600 ml-2",children:m.filter(p=>d(p.dueDate)<0).length})," overdue"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.filter(p=>p.status==="in-progress").length," in progress ",m.filter(p=>p.status==="open").length," awaiting assignment"]})]}),n.jsx(Ue,{children:"Export List"})]})})]})})}function KS({ecos:e,open:t,onOpenChange:s,onViewDetails:i}){const o=()=>"bg-muted text-foreground border-border",l=m=>{switch(m){case"safety":return"destructive";case"quality":return"secondary";case"cost":return"outline";case"capacity":return"default";default:return"outline"}},u=m=>{const p=new Date(m);return Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60*24))},d=m=>m===0?{text:"Today",color:"text-muted-foreground"}:m===1?{text:"1 day ago",color:"text-muted-foreground"}:m<=14?{text:`${m} days ago`,color:"text-muted-foreground"}:m<=30?{text:`${m} days ago`,color:"text-muted-foreground"}:{text:`${m} days ago`,color:"text-red-600"},f=[...e].sort((m,p)=>u(p.date)-u(m.date));return n.jsx(Ha,{open:t,onOpenChange:s,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsxs(za,{className:"flex items-center gap-2",children:[n.jsx(Rn,{className:"w-5 h-5 text-muted-foreground"}),"Engineering Change Orders - In Review"]}),n.jsx(fi,{children:"ECOs pending approval and implementation"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:f.length===0?n.jsx(Ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No ECOs in review."})}):f.map(m=>{const p=d(u(m.date)),x=u(m.date)>14;return n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[x&&n.jsx(xa,{className:"w-5 h-5 text-red-600"}),n.jsx("h4",{children:m.number}),n.jsx(Ve,{variant:"secondary",children:m.machineName}),n.jsx(Ve,{variant:"secondary",children:"IN REVIEW"}),n.jsx(Ve,{className:o(),variant:"outline",children:m.type}),m.reason&&n.jsx(Ve,{variant:l(m.reason),children:m.reason.toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:m.title}),m.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.description})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Submitted:"}),n.jsx("span",{children:m.date})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Requested by:"}),n.jsx("span",{children:m.requestedBy})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"In review:"}),n.jsx("span",{className:p.color,children:p.text})]})]}),m.approvers&&m.approvers.length>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pending approvers:"}),m.approvers.map((N,y)=>n.jsx(Ve,{variant:"outline",className:"text-xs",children:N},y))]}),(m.impactedDocuments||m.impactedComponents||m.impactedSettings)&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{children:"Impacts: "}),m.impactedDocuments&&n.jsxs("span",{children:[m.impactedDocuments.length," document(s)  "]}),m.impactedComponents&&n.jsxs("span",{children:[m.impactedComponents.length," component(s)  "]}),m.impactedSettings&&n.jsxs("span",{children:[m.impactedSettings.length," setting(s)"]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>{i?.(m),s(!1)},children:"View Details"}),n.jsx(Ue,{size:"sm",variant:"default",children:"Review"}),n.jsx(Ue,{size:"sm",variant:"outline",children:"Reject"})]})]})},m.id)})}),f.length>0&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm",children:[f.filter(m=>m.type==="Software").length," Software ",f.filter(m=>m.type==="Hardware").length," Hardware ",f.filter(m=>m.type==="Process").length," Process"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"text-red-600",children:f.filter(m=>u(m.date)>30).length})," pending ",">","30 days ",n.jsx("span",{className:"text-red-600 ml-2",children:f.filter(m=>m.reason==="safety").length})," safety-related"]})]}),n.jsx(Ue,{children:"Export List"})]})})]})})}var l1="rovingFocusGroup.onEntryFocus",GP={bubbles:!1,cancelable:!0},Uh="RovingFocusGroup",[yx,QS,WP]=_2(Uh),[XP,JS]=lo(Uh,[WP]),[ZP,$P]=XP(Uh),eA=T.forwardRef((e,t)=>n.jsx(yx.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(yx.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(YP,{...e,ref:t})})}));eA.displayName=Uh;var YP=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:p=!1,...x}=e,N=T.useRef(null),y=Hn(t,N),C=Fh(l),[M,S]=Hl({prop:u,defaultProp:d??null,onChange:f,caller:Uh}),[j,L]=T.useState(!1),R=ui(m),D=QS(s),U=T.useRef(!1),[G,$]=T.useState(0);return T.useEffect(()=>{const B=N.current;if(B)return B.addEventListener(l1,R),()=>B.removeEventListener(l1,R)},[R]),n.jsx(ZP,{scope:s,orientation:i,dir:C,loop:o,currentTabStopId:M,onItemFocus:T.useCallback(B=>S(B),[S]),onItemShiftTab:T.useCallback(()=>L(!0),[]),onFocusableItemAdd:T.useCallback(()=>$(B=>B+1),[]),onFocusableItemRemove:T.useCallback(()=>$(B=>B-1),[]),children:n.jsx(Vt.div,{tabIndex:j||G===0?-1:0,"data-orientation":i,...x,ref:y,style:{outline:"none",...e.style},onMouseDown:Qt(e.onMouseDown,()=>{U.current=!0}),onFocus:Qt(e.onFocus,B=>{const Y=!U.current;if(B.target===B.currentTarget&&Y&&!j){const fe=new CustomEvent(l1,GP);if(B.currentTarget.dispatchEvent(fe),!fe.defaultPrevented){const V=D().filter(z=>z.focusable),P=V.find(z=>z.active),F=V.find(z=>z.id===M),te=[P,F,...V].filter(Boolean).map(z=>z.ref.current);sA(te,p)}}U.current=!1}),onBlur:Qt(e.onBlur,()=>L(!1))})})}),tA="RovingFocusGroupItem",nA=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:o=!1,tabStopId:l,children:u,...d}=e,f=Vo(),m=l||f,p=$P(tA,s),x=p.currentTabStopId===m,N=QS(s),{onFocusableItemAdd:y,onFocusableItemRemove:C,currentTabStopId:M}=p;return T.useEffect(()=>{if(i)return y(),()=>C()},[i,y,C]),n.jsx(yx.ItemSlot,{scope:s,id:m,focusable:i,active:o,children:n.jsx(Vt.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...d,ref:t,onMouseDown:Qt(e.onMouseDown,S=>{i?p.onItemFocus(m):S.preventDefault()}),onFocus:Qt(e.onFocus,()=>p.onItemFocus(m)),onKeyDown:Qt(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const j=JP(S,p.orientation,p.dir);if(j!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let R=N().filter(D=>D.focusable).map(D=>D.ref.current);if(j==="last")R.reverse();else if(j==="prev"||j==="next"){j==="prev"&&R.reverse();const D=R.indexOf(S.currentTarget);R=p.loop?e9(R,D+1):R.slice(D+1)}setTimeout(()=>sA(R))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:M!=null}):u})})});nA.displayName=tA;var KP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JP(e,t,s){const i=QP(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return KP[i]}function sA(e,t=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:t}),document.activeElement!==s))return}function e9(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var t9=eA,n9=nA,c0="Tabs",[s9]=lo(c0,[JS]),aA=JS(),[a9,z2]=s9(c0),iA=T.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:f="automatic",...m}=e,p=Fh(d),[x,N]=Hl({prop:i,onChange:o,defaultProp:l??"",caller:c0});return n.jsx(a9,{scope:s,baseId:Vo(),value:x,onValueChange:N,orientation:u,dir:p,activationMode:f,children:n.jsx(Vt.div,{dir:p,"data-orientation":u,...m,ref:t})})});iA.displayName=c0;var rA="TabsList",oA=T.forwardRef((e,t)=>{const{__scopeTabs:s,loop:i=!0,...o}=e,l=z2(rA,s),u=aA(s);return n.jsx(t9,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:n.jsx(Vt.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});oA.displayName=rA;var lA="TabsTrigger",cA=T.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,disabled:o=!1,...l}=e,u=z2(lA,s),d=aA(s),f=fA(u.baseId,i),m=hA(u.baseId,i),p=i===u.value;return n.jsx(n9,{asChild:!0,...d,focusable:!o,active:p,children:n.jsx(Vt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:Qt(e.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?u.onValueChange(i):x.preventDefault()}),onKeyDown:Qt(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(i)}),onFocus:Qt(e.onFocus,()=>{const x=u.activationMode!=="manual";!p&&!o&&x&&u.onValueChange(i)})})})});cA.displayName=lA;var uA="TabsContent",dA=T.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,forceMount:o,children:l,...u}=e,d=z2(uA,s),f=fA(d.baseId,i),m=hA(d.baseId,i),p=i===d.value,x=T.useRef(p);return T.useEffect(()=>{const N=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(N)},[]),n.jsx($o,{present:o||p,children:({present:N})=>n.jsx(Vt.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!N,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:N&&l})})});dA.displayName=uA;function fA(e,t){return`${e}-trigger-${t}`}function hA(e,t){return`${e}-content-${t}`}var i9=iA,r9=oA,o9=cA,l9=dA;function qu({className:e,...t}){return n.jsx(i9,{"data-slot":"tabs",className:Ut("flex flex-col gap-2",e),...t})}function Vu({className:e,...t}){return n.jsx(r9,{"data-slot":"tabs-list",className:Ut("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Ln({className:e,...t}){return n.jsx(o9,{"data-slot":"tabs-trigger",className:Ut("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Dn({className:e,...t}){return n.jsx(l9,{"data-slot":"tabs-content",className:Ut("flex-1 outline-none",e),...t})}var u0="Collapsible",[c9,mA]=lo(u0),[u9,U2]=c9(u0),pA=T.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:i,defaultOpen:o,disabled:l,onOpenChange:u,...d}=e,[f,m]=Hl({prop:i,defaultProp:o??!1,onChange:u,caller:u0});return n.jsx(u9,{scope:s,disabled:l,contentId:Vo(),open:f,onOpenToggle:T.useCallback(()=>m(p=>!p),[m]),children:n.jsx(Vt.div,{"data-state":V2(f),"data-disabled":l?"":void 0,...d,ref:t})})});pA.displayName=u0;var gA="CollapsibleTrigger",xA=T.forwardRef((e,t)=>{const{__scopeCollapsible:s,...i}=e,o=U2(gA,s);return n.jsx(Vt.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":V2(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...i,ref:t,onClick:Qt(e.onClick,o.onOpenToggle)})});xA.displayName=gA;var q2="CollapsibleContent",vA=T.forwardRef((e,t)=>{const{forceMount:s,...i}=e,o=U2(q2,e.__scopeCollapsible);return n.jsx($o,{present:s||o.open,children:({present:l})=>n.jsx(d9,{...i,ref:t,present:l})})});vA.displayName=q2;var d9=T.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:i,children:o,...l}=e,u=U2(q2,s),[d,f]=T.useState(i),m=T.useRef(null),p=Hn(t,m),x=T.useRef(0),N=x.current,y=T.useRef(0),C=y.current,M=u.open||d,S=T.useRef(M),j=T.useRef(void 0);return T.useEffect(()=>{const L=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(L)},[]),Ta(()=>{const L=m.current;if(L){j.current=j.current||{transitionDuration:L.style.transitionDuration,animationName:L.style.animationName},L.style.transitionDuration="0s",L.style.animationName="none";const R=L.getBoundingClientRect();x.current=R.height,y.current=R.width,S.current||(L.style.transitionDuration=j.current.transitionDuration,L.style.animationName=j.current.animationName),f(i)}},[u.open,i]),n.jsx(Vt.div,{"data-state":V2(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!M,...l,ref:p,style:{"--radix-collapsible-content-height":N?`${N}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:M&&o})});function V2(e){return e?"open":"closed"}var f9=pA,h9=xA,m9=vA,uo="Accordion",p9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[G2,g9,x9]=_2(uo),[d0]=lo(uo,[x9,mA]),W2=mA(),yA=tt.forwardRef((e,t)=>{const{type:s,...i}=e,o=i,l=i;return n.jsx(G2.Provider,{scope:e.__scopeAccordion,children:s==="multiple"?n.jsx(w9,{...l,ref:t}):n.jsx(b9,{...o,ref:t})})});yA.displayName=uo;var[bA,v9]=d0(uo),[wA,y9]=d0(uo,{collapsible:!1}),b9=tt.forwardRef((e,t)=>{const{value:s,defaultValue:i,onValueChange:o=()=>{},collapsible:l=!1,...u}=e,[d,f]=Hl({prop:s,defaultProp:i??"",onChange:o,caller:uo});return n.jsx(bA,{scope:e.__scopeAccordion,value:tt.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:tt.useCallback(()=>l&&f(""),[l,f]),children:n.jsx(wA,{scope:e.__scopeAccordion,collapsible:l,children:n.jsx(NA,{...u,ref:t})})})}),w9=tt.forwardRef((e,t)=>{const{value:s,defaultValue:i,onValueChange:o=()=>{},...l}=e,[u,d]=Hl({prop:s,defaultProp:i??[],onChange:o,caller:uo}),f=tt.useCallback(p=>d((x=[])=>[...x,p]),[d]),m=tt.useCallback(p=>d((x=[])=>x.filter(N=>N!==p)),[d]);return n.jsx(bA,{scope:e.__scopeAccordion,value:u,onItemOpen:f,onItemClose:m,children:n.jsx(wA,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(NA,{...l,ref:t})})})}),[N9,f0]=d0(uo),NA=tt.forwardRef((e,t)=>{const{__scopeAccordion:s,disabled:i,dir:o,orientation:l="vertical",...u}=e,d=tt.useRef(null),f=Hn(d,t),m=g9(s),x=Fh(o)==="ltr",N=Qt(e.onKeyDown,y=>{if(!p9.includes(y.key))return;const C=y.target,M=m().filter(B=>!B.ref.current?.disabled),S=M.findIndex(B=>B.ref.current===C),j=M.length;if(S===-1)return;y.preventDefault();let L=S;const R=0,D=j-1,U=()=>{L=S+1,L>D&&(L=R)},G=()=>{L=S-1,L<R&&(L=D)};switch(y.key){case"Home":L=R;break;case"End":L=D;break;case"ArrowRight":l==="horizontal"&&(x?U():G());break;case"ArrowDown":l==="vertical"&&U();break;case"ArrowLeft":l==="horizontal"&&(x?G():U());break;case"ArrowUp":l==="vertical"&&G();break}const $=L%j;M[$].ref.current?.focus()});return n.jsx(N9,{scope:s,disabled:i,direction:o,orientation:l,children:n.jsx(G2.Slot,{scope:s,children:n.jsx(Vt.div,{...u,"data-orientation":l,ref:f,onKeyDown:i?void 0:N})})})}),Pp="AccordionItem",[j9,X2]=d0(Pp),jA=tt.forwardRef((e,t)=>{const{__scopeAccordion:s,value:i,...o}=e,l=f0(Pp,s),u=v9(Pp,s),d=W2(s),f=Vo(),m=i&&u.value.includes(i)||!1,p=l.disabled||e.disabled;return n.jsx(j9,{scope:s,open:m,disabled:p,triggerId:f,children:n.jsx(f9,{"data-orientation":l.orientation,"data-state":EA(m),...d,...o,ref:t,disabled:p,open:m,onOpenChange:x=>{x?u.onItemOpen(i):u.onItemClose(i)}})})});jA.displayName=Pp;var SA="AccordionHeader",AA=tt.forwardRef((e,t)=>{const{__scopeAccordion:s,...i}=e,o=f0(uo,s),l=X2(SA,s);return n.jsx(Vt.h3,{"data-orientation":o.orientation,"data-state":EA(l.open),"data-disabled":l.disabled?"":void 0,...i,ref:t})});AA.displayName=SA;var bx="AccordionTrigger",CA=tt.forwardRef((e,t)=>{const{__scopeAccordion:s,...i}=e,o=f0(uo,s),l=X2(bx,s),u=y9(bx,s),d=W2(s);return n.jsx(G2.ItemSlot,{scope:s,children:n.jsx(h9,{"aria-disabled":l.open&&!u.collapsible||void 0,"data-orientation":o.orientation,id:l.triggerId,...d,...i,ref:t})})});CA.displayName=bx;var TA="AccordionContent",MA=tt.forwardRef((e,t)=>{const{__scopeAccordion:s,...i}=e,o=f0(uo,s),l=X2(TA,s),u=W2(s);return n.jsx(m9,{role:"region","aria-labelledby":l.triggerId,"data-orientation":o.orientation,...u,...i,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});MA.displayName=TA;function EA(e){return e?"open":"closed"}var S9=yA,A9=jA,C9=AA,T9=CA,M9=MA;function _A({...e}){return n.jsx(S9,{"data-slot":"accordion",...e})}function kA({className:e,...t}){return n.jsx(A9,{"data-slot":"accordion-item",className:Ut("border-b last:border-b-0",e),...t})}function LA({className:e,children:t,...s}){return n.jsx(C9,{className:"flex",children:n.jsxs(T9,{"data-slot":"accordion-trigger",className:Ut("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...s,children:[t,n.jsx(g2,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function DA({className:e,children:t,...s}){return n.jsx(M9,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...s,children:n.jsx("div",{className:Ut("pt-0 pb-4",e),children:t})})}function E9({selectedMachine:e,onMachineSelect:t,onViewMachineDetails:s,onViewECODetails:i,onBackupMachine:o,onViewWorkOrderDetails:l,machineFilterTerm:u="",onMachineFilterChange:d}){const[f,m]=T.useState(!1),[p,x]=T.useState(!1),[N,y]=T.useState(!1),[C,M]=T.useState(!1),[S,j]=T.useState([]),[L,R]=T.useState([]),[D,U]=T.useState([]),[G,$]=T.useState([]),[B,Y]=T.useState([]),[fe,V]=T.useState([]),[P,F]=T.useState(!0),[W,te]=T.useState(""),[z,K]=T.useState(""),[H,ue]=T.useState(""),[ae,_]=T.useState("");T.useEffect(()=>{async function Te(){try{const[we,ke,$e,st,le,et]=await Promise.all([oo(),mk(),Ih(),Bc(),$p(),Ul()]);j(we),R(ke),U($e),$(st),Y(le),V(et)}catch(we){console.error("Error loading data:",we)}finally{F(!1)}}Te()},[]);const k=u.trim()?S.filter(Te=>Te.name.toLowerCase().includes(u.toLowerCase())||Te.type.toLowerCase().includes(u.toLowerCase())||Te.category.toLowerCase().includes(u.toLowerCase())||Te.id.toLowerCase().includes(u.toLowerCase())||Te.oem&&Te.oem.toLowerCase().includes(u.toLowerCase())):S,q=W.trim()?B.filter(Te=>Te.name.toLowerCase().includes(W.toLowerCase())||Te.type.toLowerCase().includes(W.toLowerCase())||Te.machineName.toLowerCase().includes(W.toLowerCase())||Te.version&&Te.version.toLowerCase().includes(W.toLowerCase())):B,J=z.trim()?D.filter(Te=>Te.description.toLowerCase().includes(z.toLowerCase())||Te.type.toLowerCase().includes(z.toLowerCase())||Te.machineName.toLowerCase().includes(z.toLowerCase())):D,oe=H.trim()?G.filter(Te=>Te.id.toLowerCase().includes(H.toLowerCase())||Te.description.toLowerCase().includes(H.toLowerCase())||Te.type.toLowerCase().includes(H.toLowerCase())||Te.status.toLowerCase().includes(H.toLowerCase())||Te.machineName.toLowerCase().includes(H.toLowerCase())):G,ce=ae.trim()?fe.filter(Te=>Te.number.toLowerCase().includes(ae.toLowerCase())||Te.description.toLowerCase().includes(ae.toLowerCase())||Te.status.toLowerCase().includes(ae.toLowerCase())||Te.machineName.toLowerCase().includes(ae.toLowerCase())):fe,me=k.filter(Te=>Te.status==="active").length,be=k.filter(Te=>Te.status==="down"||Te.status==="maintenance"),ve=be.length,Me=G.filter(Te=>Te.status!=="completed"),Pe=Me.length,Xe=fe.filter(Te=>Te.status==="review"),Qe=Xe.length,ge=k.filter(Te=>Te.lastBackup&&Te.lastBackup!=="N/A"&&new Date(Te.lastBackup)<new Date(Date.now()-4320*60*60*1e3)),re=ge.length,Pt=Te=>k.filter(we=>we.category===Te);return P?n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):n.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-white overflow-auto",children:[n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-8 pb-24",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-4"}),"System Overview"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:[n.jsx(Ya,{title:u?"Filtered Machines":"Total Machines",value:k.length,icon:ff,variant:"default"}),n.jsx(Ya,{title:"Active Machines",value:me,icon:ff,variant:"success",subtitle:`${ve} down`,onClick:()=>x(!0)}),n.jsx(Ya,{title:"Pending Maintenance",value:Pe,icon:tr,variant:Pe>3?"warning":"default",subtitle:"Work Orders",onClick:()=>y(!0)}),n.jsx(Ya,{title:"ECOs in Review",value:Qe,icon:Rn,variant:"default",onClick:()=>M(!0)}),n.jsx(Ya,{title:"Old Backups",value:re,icon:er,variant:re>0?"danger":"success",subtitle:">6 months",onClick:()=>m(!0)})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(nt,{placeholder:"Filter by machine name, category, or ID...",className:"pl-3 pr-8",value:u,onChange:Te=>d?.(Te.target.value)}),u&&n.jsx(Ue,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100",onClick:()=>d?.(""),children:""})]}),u&&n.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[n.jsx("span",{className:"font-semibold",children:"Filtered:"})," Showing ",k.length," of ",S.length," machines"]})]}),n.jsx(Ie,{className:"p-6 bg-gradient-to-r from-slate-50 to-gray-50 border-2",children:n.jsx(c3,{machines:k,onMachineClick:Te=>{t?.(Te)},selectedMachineId:e?.id})})]}),n.jsxs("div",{className:"w-full",children:[n.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center",children:[n.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-green-500 to-blue-500 rounded-full mr-3 sm:mr-4"}),"Machine Sections"]}),n.jsx(_A,{type:"multiple",defaultValue:[],className:"space-y-3 sm:space-y-4 mb-8 sm:mb-12 w-full",children:L.map(Te=>{const we=Pt(Te.name),ke=we.filter(le=>le.status==="active").length,$e=we.filter(le=>le.status==="down").length,st=we.filter(le=>le.status==="maintenance").length;return n.jsxs(kA,{value:Te.name,className:"border-2 border-gray-200 rounded-xl bg-gradient-to-r from-white to-gray-50 px-4 sm:px-6 py-2 hover:border-gray-300 transition-colors",children:[n.jsx(LA,{className:"hover:no-underline",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full pr-4 gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 min-w-0",children:[n.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:Te.name}),n.jsxs(Ve,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 border-2 font-semibold w-fit",children:[Te.count," machines"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-start sm:justify-end",children:[ke>0&&n.jsxs(Ve,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 border-2 font-semibold text-xs sm:text-sm",children:[ke," active"]}),st>0&&n.jsxs(Ve,{className:"bg-amber-100 text-amber-800 border-amber-200 border-2 font-semibold text-xs sm:text-sm",children:[st," maintenance"]}),$e>0&&n.jsxs(Ve,{className:"bg-rose-100 text-rose-800 border-rose-200 border-2 font-semibold text-xs sm:text-sm",children:[$e," down"]})]})]})}),n.jsx(DA,{className:"pt-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 sm:gap-6 px-2 sm:px-0",children:we.map(le=>n.jsx(E2,{machine:le,onSelect:et=>t?.(et)},le.id))})})]},Te.name)})})]}),n.jsxs("div",{className:"mt-8 mb-12",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full mr-4"}),"Quick Access"]}),n.jsx(Ie,{className:"border-2 bg-white p-4 mb-8 w-full",children:n.jsxs(qu,{defaultValue:"documents",className:"w-full",children:[n.jsxs(Vu,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto sm:h-12 bg-gray-50 rounded-lg mb-4 p-1 gap-1 overflow-x-auto",children:[n.jsx(Ln,{value:"documents",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-green-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Documents"}),n.jsx(Ln,{value:"events",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-orange-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Events"}),n.jsx(Ln,{value:"maintenance",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-purple-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Maintenance"}),n.jsx(Ln,{value:"changes",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-pink-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Changes"})]}),n.jsx(Dn,{value:"documents",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-6 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter documents by name, type, machine, or version...",value:W,onChange:Te=>te(Te.target.value),className:"w-full"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 font-semibold",children:"Program Backups"}),n.jsx("div",{className:"space-y-2",children:q.filter(Te=>Te.type==="Program Backup").length>0?q.filter(Te=>Te.type==="Program Backup").map(Te=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:Te.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Te.machineName,"  ",Te.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:"Download"})]},Te.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No program backups available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 font-semibold",children:"Operator Manual"}),n.jsx("div",{className:"space-y-2",children:q.filter(Te=>Te.type==="Operator Manual").length>0?q.filter(Te=>Te.type==="Operator Manual").map(Te=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:Te.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Te.machineName,"  ",Te.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:"Download"})]},Te.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No operator manuals available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 font-semibold",children:"Drawings"}),n.jsx("div",{className:"space-y-2",children:q.filter(Te=>Te.type==="Drawings").length>0?q.filter(Te=>Te.type==="Drawings").map(Te=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:Te.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Te.machineName,"  ",Te.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:"Download"})]},Te.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No drawings available"})})]})]})}),n.jsx(Dn,{value:"events",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter events by description, type, or machine...",value:z,onChange:Te=>K(Te.target.value),className:"w-full"})}),J.map(Te=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xo,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:Te.description}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Te.machineName,"  ",Te.timestamp]})]})]}),n.jsx(Ve,{variant:Te.type==="fault"?"destructive":Te.type==="downtime"?"secondary":"default",children:Te.type})]},Te.id))]})}),n.jsx(Dn,{value:"maintenance",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter work orders by ID, description, type, status, or machine...",value:H,onChange:Te=>ue(Te.target.value),className:"w-full"})}),oe.map(Te=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm",children:[Te.id,": ",Te.description]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Te.machineName,"  Due: ",Te.dueDate]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ve,{variant:Te.type==="Emergency"?"destructive":"secondary",children:Te.type}),n.jsx(Ve,{variant:"outline",children:Te.status})]})]},Te.id))]})}),n.jsx(Dn,{value:"changes",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter ECOs by number, description, status, or machine...",value:ae,onChange:Te=>_(Te.target.value),className:"w-full"})}),ce.map(Te=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm",children:[Te.number,": ",Te.description]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Te.machineName,"  ",Te.date]})]})]}),n.jsx(Ve,{variant:Te.status==="approved"?"default":"secondary",children:Te.status})]},Te.id))]})})]})})]})]})}),n.jsx($3,{machines:ge,open:f,onOpenChange:m,onBackupMachine:Te=>{m(!1),o?.(Te)}}),n.jsx($S,{machines:be,open:p,onOpenChange:x,onViewMachineDetails:s}),n.jsx(YS,{workOrders:Me,open:N,onOpenChange:y,onViewWorkOrderDetails:l}),n.jsx(KS,{ecos:Xe,open:C,onOpenChange:M,onViewDetails:i})]})}function _9({onMachineSelect:e,onECOSelect:t,onWorkOrderSelect:s}){const[i,o]=T.useState(""),[l,u]=T.useState(!1),[d,f]=T.useState([]),[m,p]=T.useState([]),[x,N]=T.useState(!1),y=T.useRef(null),C=T.useRef(null),M=tt.useCallback(async G=>{N(!0);try{const[$,B,Y,fe,V]=await Promise.all([oo(),$p(),Bc(),Ih(),Ul()]),P=[],W=G.toLowerCase().split(" ").filter(te=>te.length>0);$.forEach(te=>{const z=[];S(te.id,W)&&z.push("id"),S(te.name,W)&&z.push("name"),S(te.model,W)&&z.push("model"),S(te.serialNumber,W)&&z.push("serial"),S(te.type,W)&&z.push("type"),S(te.category,W)&&z.push("category"),S(te.location,W)&&z.push("location"),S(te.status,W)&&z.push("status"),S(te.oem,W)&&z.push("oem"),S(te.controller,W)&&z.push("controller"),S(te.criticality,W)&&z.push("criticality"),S(te.commissionedDate,W)&&z.push("commissioned"),S(te.lastBackup,W)&&z.push("backup"),S(te.downReason,W)&&z.push("downtime"),z.length>0&&P.push({id:`machine-${te.id}`,title:te.name||te.id||"Unknown Machine",subtitle:`${te.type||te.category||"N/A"}  ${te.status||"N/A"}  ID: ${te.id}`,type:"machine",data:te,matchedFields:z})}),B.forEach(te=>{const z=[];S(te.id,W)&&z.push("id"),S(te.name,W)&&z.push("name"),S(te.type,W)&&z.push("type"),S(te.machineId,W)&&z.push("machine-id"),S(te.machineName,W)&&z.push("machine"),S(te.version,W)&&z.push("version"),S(te.uploadDate,W)&&z.push("date"),S(te.notes,W)&&z.push("notes"),S(te.fileUrl,W)&&z.push("file"),S(te.linkedECO,W)&&z.push("eco"),z.length>0&&P.push({id:`document-${te.id}`,title:te.name||"Unknown Document",subtitle:`${te.type||"Document"}  ${te.machineName||"N/A"}  ${te.uploadDate||"N/A"}`,type:"document",data:te,matchedFields:z})}),Y.forEach(te=>{const z=[];S(te.id,W)&&z.push("id"),S(te.workOrderNumber,W)&&z.push("number"),S(te.description,W)&&z.push("description"),S(te.machineId,W)&&z.push("machine-id"),S(te.machineName,W)&&z.push("machine"),S(te.assignedTo,W)&&z.push("assigned"),S(te.createdBy,W)&&z.push("creator"),S(te.dueDate,W)&&z.push("due-date"),S(te.createdAt,W)&&z.push("created"),S(te.completedAt,W)&&z.push("completed"),S(te.linkedComponentId,W)&&z.push("component"),S(te.linkedEventId,W)&&z.push("event"),S(te.priority,W)&&z.push("priority"),S(te.status,W)&&z.push("status"),z.length>0&&P.push({id:`workorder-${te.id}`,title:`WO ${te.id||"N/A"}: ${te.description||te.title||"No description"}`,subtitle:`${te.type||"Maintenance"}  ${te.machineName||"N/A"}  ${te.status||"N/A"}  Due: ${te.dueDate||"N/A"}`,type:"workorder",data:te,matchedFields:z})}),fe.forEach(te=>{const z=[];S(te.id,W)&&z.push("id"),S(te.description,W)&&z.push("description"),S(te.rootCause,W)&&z.push("root-cause"),S(te.machineId,W)&&z.push("machine-id"),S(te.machineName,W)&&z.push("machine"),S(te.classification,W)&&z.push("classification"),S(te.severity,W)&&z.push("severity"),S(te.impactOnProduction,W)&&z.push("impact"),S(te.downtime?.toString(),W)&&z.push("downtime"),S(te.reportedBy,W)&&z.push("reporter"),S(te.resolvedBy,W)&&z.push("resolver"),S(te.eventDate,W)&&z.push("date"),S(te.resolvedDate,W)&&z.push("resolved"),S(te.timestamp,W)&&z.push("timestamp"),S(te.resolution,W)&&z.push("resolution"),te.linkedWorkOrders?.some(K=>S(K,W))&&z.push("work-orders"),te.linkedComponents?.some(K=>S(K,W))&&z.push("components"),z.length>0&&P.push({id:`event-${te.id}`,title:te.description||te.rootCause||"Event",subtitle:`${te.eventType||te.type||"Event"}  ${te.machineName||"N/A"}  ${te.severity||"N/A"}  ${te.timestamp||"N/A"}`,type:"event",data:te,matchedFields:z})}),V.forEach(te=>{const z=[];S(te.id,W)&&z.push("id"),S(te.ecoNumber,W)&&z.push("number"),S(te.description,W)&&z.push("description"),S(te.machineId,W)&&z.push("machine-id"),S(te.machineName,W)&&z.push("machine"),S(te.status,W)&&z.push("status"),S(te.createdBy,W)&&z.push("creator"),S(te.approvedBy,W)&&z.push("approver"),S(te.implementedBy,W)&&z.push("implementer"),S(te.dateCreated,W)&&z.push("created"),S(te.dateApproved,W)&&z.push("approved"),S(te.dateImplemented,W)&&z.push("implemented"),S(te.technicalDetails,W)&&z.push("technical"),S(te.implementationNotes,W)&&z.push("implementation"),z.length>0&&P.push({id:`eco-${te.id}`,title:`ECO ${te.number||te.id||"N/A"}: ${te.description||te.title||"No description"}`,subtitle:`${te.machineName||"N/A"}  ${te.status||"N/A"}  ${te.priority||"N/A"}  ${te.date||"N/A"}`,type:"eco",data:te,matchedFields:z})}),P.sort((te,z)=>{const K=te.matchedFields.some(ae=>["id","name","wo-number","eco-number","machine-id","event-id"].includes(ae)),H=z.matchedFields.some(ae=>["id","name","wo-number","eco-number","machine-id","event-id"].includes(ae));if(K&&!H)return-1;if(!K&&H)return 1;if(z.matchedFields.length!==te.matchedFields.length)return z.matchedFields.length-te.matchedFields.length;const ue={machine:5,workorder:4,event:3,eco:2,document:1};return(ue[z.type]||0)-(ue[te.type]||0)}),p(P),f(P.slice(0,10))}catch($){console.error("Search error:",$)}finally{N(!1)}},[]);T.useEffect(()=>{const G=setTimeout(()=>{i.trim()?M(i.trim()):(f([]),p([]))},300);return()=>clearTimeout(G)},[i,M]),T.useEffect(()=>{function G($){C.current&&!C.current.contains($.target)&&!y.current?.contains($.target)&&f([])}return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const S=(G,$)=>{if(!G)return!1;const B=G.toLowerCase();return $.some(Y=>B.includes(Y))},j=G=>{G.key==="Enter"&&i.trim()?(u(!0),f([])):G.key==="Escape"&&(f([]),u(!1))},L=G=>{switch(G.type){case"machine":e?.(G.data);break;case"eco":t?.(G.data);break;case"workorder":s?.(G.data);break}f([]),u(!1)},R=G=>{switch(G){case"machine":return n.jsx(ff,{className:"w-4 h-4 text-blue-600"});case"document":return n.jsx(Rn,{className:"w-4 h-4 text-green-600"});case"workorder":return n.jsx(tr,{className:"w-4 h-4 text-purple-600"});case"event":return n.jsx(er,{className:"w-4 h-4 text-orange-600"});case"eco":return n.jsx(Rn,{className:"w-4 h-4 text-pink-600"});default:return n.jsx(tw,{className:"w-4 h-4"})}},D=G=>{switch(G){case"machine":return"bg-blue-100 text-blue-800 border-blue-200";case"document":return"bg-green-100 text-green-800 border-green-200";case"workorder":return"bg-purple-100 text-purple-800 border-purple-200";case"event":return"bg-orange-100 text-orange-800 border-orange-200";case"eco":return"bg-pink-100 text-pink-800 border-pink-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},U=()=>{o(""),f([]),p([]),u(!1)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(nt,{ref:y,placeholder:"Search by machine ID, WO number, ECO, event, document name, date, status...",className:"pl-9 pr-8",value:i,onChange:G=>o(G.target.value),onKeyDown:j,onFocus:()=>{i.trim()&&m.length>0&&f(m.slice(0,8))}}),i&&!x&&n.jsx(Ue,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100",onClick:U,children:n.jsx(Sr,{className:"w-4 h-4"})})]}),x&&i&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),n.jsx("span",{className:"hidden sm:inline",children:"Searching..."})]})]}),n.jsx(Ap,{children:d.length>0&&!l&&n.jsxs(Mc.div,{ref:C,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[d.map(G=>n.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>L(G),children:[R(G.type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.title}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:G.subtitle})]}),n.jsx(Ve,{variant:"secondary",className:`text-xs ${D(G.type)}`,children:G.type}),n.jsx(sx,{className:"w-4 h-4 text-gray-400"})]},G.id)),m.length>8&&n.jsxs("div",{className:"p-3 text-center text-sm text-blue-600 hover:bg-blue-50 cursor-pointer border-t border-gray-100",onClick:()=>{u(!0),f([])},children:["View all ",m.length," results"]})]})})]}),n.jsx(Ap,{children:l&&m.length>0&&n.jsxs(Mc.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border border-gray-200 rounded-lg bg-white",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Search Results"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Found ",m.length,' results for "',i,'"']})]}),n.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:n.jsx(Sr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:["machine","workorder","document","event","eco"].map(G=>{const $=m.filter(B=>B.type===G);return $.length===0?null:n.jsxs("div",{className:"border-b border-gray-100 last:border-b-0",children:[n.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-100",children:n.jsxs("h4",{className:"font-medium text-sm text-gray-700 capitalize flex items-center gap-2",children:[R(G),G,"s (",$.length,")"]})}),n.jsx("div",{className:"space-y-0",children:$.map(B=>n.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-50 last:border-b-0",onClick:()=>L(B),children:[R(B.type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:B.title}),n.jsx("p",{className:"text-xs text-gray-500",children:B.subtitle}),B.matchedFields.length>0&&n.jsx("div",{className:"flex gap-1 mt-1",children:B.matchedFields.map(Y=>n.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-1 rounded",children:Y},Y))})]}),n.jsx(sx,{className:"w-4 h-4 text-gray-400"})]},B.id))})]},G)})})]})})]})}function k9({onSelectArea:e,isAreaEnabled:t}={}){const[s,i]=T.useState([]),[o,l]=T.useState([]),[u,d]=T.useState([]),[f,m]=T.useState([]),[p,x]=T.useState([]),[N,y]=T.useState(!0);T.useEffect(()=>{let R=!0;return(async()=>{try{const[D,U,G,$,B]=await Promise.all([oo(),Bc(),Ul(),G4(),Ih()]);if(!R)return;i(D),l(U),d(G),m($),x(B)}catch(D){console.error("Failed to load home data",D)}finally{R&&y(!1)}})(),()=>{R=!1}},[]);const C=T.useMemo(()=>{const R=s.length,D=s.filter(K=>K.status==="active").length,U=s.filter(K=>K.status==="down").length,G=s.filter(K=>K.status==="maintenance").length,$=o.filter(K=>K.status!=="completed").length,B=u.filter(K=>K.status==="review").length,Y=K=>s.reduce((H,ue)=>H+(typeof ue[K]=="number"?ue[K]:0),0),fe=Y("todayTarget"),V=Y("todayActual"),P=Y("todayScrap"),F=s.map(K=>K.oee).filter(K=>typeof K=="number"),W=F.length?Math.round(F.reduce((K,H)=>K+H,0)/F.length*10)/10:void 0,te=new Map;for(const K of f){const H=te.get(K.machineId);(!H||new Date(K.date)>new Date(H.date))&&te.set(K.machineId,K)}const z=Array.from(te.values()).reduce((K,H)=>K+(H.downtime||0),0);return{total:R,active:D,down:U,maintenance:G,pendingWOs:$,ecosInReview:B,todayTarget:fe,todayActual:V,todayScrap:P,avgOEE:W,totalDowntime:z,planAttainment:fe?Math.round(V/fe*100):0,uptimeRatio:R?Math.round(D/R*100):0}},[s,o,u,f]),M=R=>{const D=(R.category||"").toLowerCase(),U=(R.type||"").toLowerCase();return D.includes("assembly")||U.includes("assembly")||D.includes("retainer")?"green-room":D.includes("wrap")||D.includes("pack")||U.includes("forklift")?"shipping":D||U?"fabrication":"other"},S=T.useMemo(()=>{const R={home:[],production:[],"green-room":[],fabrication:[],shipping:[],machines:[],"tool-life":[]};for(const D of s){const U=M(D);U!=="other"&&U!=="home"&&R[U].push(D)}return R.production=[...R.fabrication,...R["green-room"],...R.shipping],R},[s]),j=R=>{const D=R.length,U=R.filter(P=>P.status==="active").length,G=R.filter(P=>P.status==="down").length,$=R.filter(P=>P.status==="maintenance").length,B=R.reduce((P,F)=>P+(F.todayTarget||0),0),Y=R.reduce((P,F)=>P+(F.todayActual||0),0),fe=R.reduce((P,F)=>P+(F.todayScrap||0),0),V=B?Math.round(Y/B*100):0;return{total:D,active:U,down:G,maintenance:$,todayTarget:B,todayActual:Y,todayScrap:fe,attainment:V}},L=T.useCallback(R=>t?t(R):!0,[t]);return N?n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-white overflow-auto",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[n.jsx(Ya,{title:"Total Machines",value:C.total,icon:ff,variant:"default"}),n.jsx(Ya,{title:"Uptime",value:`${C.uptimeRatio}%`,icon:Bh,variant:C.uptimeRatio>=90?"success":C.uptimeRatio>=75?"warning":"danger",subtitle:`${C.active} active`}),n.jsx(Ya,{title:"Plan Attainment",value:`${C.planAttainment}%`,icon:v2,variant:C.planAttainment>=95?"success":C.planAttainment>=85?"warning":"danger",subtitle:`${C.todayActual}/${C.todayTarget}`}),n.jsx(Ya,{title:"Scrap Today",value:C.todayScrap,icon:er,variant:C.todayScrap>0?"warning":"success"}),n.jsx(Ya,{title:"Pending WOs",value:C.pendingWOs,icon:tr,variant:C.pendingWOs>3?"warning":"default"}),n.jsx(Ya,{title:"ECOs in Review",value:C.ecosInReview,icon:Rn,variant:"default"})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(x2,{className:"w-5 h-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Production Overview"}),n.jsx("div",{className:"ml-auto",children:n.jsx(Ue,{variant:"outline",size:"sm",disabled:!L("production"),onClick:()=>{L("production")&&e?.("production")},children:"Open"})})]}),n.jsx(Qm,{...j(S.production)})]}),n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(_c,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Fabrication"}),n.jsx("div",{className:"ml-auto",children:n.jsx(Ue,{variant:"outline",size:"sm",disabled:!L("fabrication"),onClick:()=>{L("fabrication")&&e?.("fabrication")},children:"View"})})]}),n.jsx(Qm,{...j(S.fabrication)})]}),n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(_c,{className:"w-5 h-5 text-emerald-600"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Green Room"}),n.jsx("div",{className:"ml-auto",children:n.jsx(Ue,{variant:"outline",size:"sm",disabled:!L("green-room"),onClick:()=>{L("green-room")&&e?.("green-room")},children:"View"})})]}),n.jsx(Qm,{...j(S["green-room"])})]}),n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Qi,{className:"w-5 h-5 text-orange-600"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Shipping"}),n.jsx("div",{className:"ml-auto",children:n.jsx(Ue,{variant:"outline",size:"sm",disabled:!L("shipping"),onClick:()=>{L("shipping")&&e?.("shipping")},children:"View"})})]}),n.jsx(Qm,{...j(S.shipping)})]})]}),n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(CL,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Today's Production"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Km,{label:"Target",value:C.todayTarget}),n.jsx(Km,{label:"Actual",value:C.todayActual}),n.jsx(Km,{label:"Plan Attainment",value:`${C.planAttainment}%`}),n.jsx(Km,{label:"Avg OEE",value:C.avgOEE!==void 0?`${C.avgOEE}%`:""})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(er,{className:"w-5 h-5 text-rose-600"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Recent Events"})]}),n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{children:"Time"}),n.jsx(fn,{children:"Machine"}),n.jsx(fn,{children:"Type"}),n.jsx(fn,{children:"Description"})]})}),n.jsxs(Ou,{children:[p.slice(0,6).map(R=>n.jsxs(Ka,{children:[n.jsx(sn,{className:"text-muted-foreground",children:R.timestamp}),n.jsx(sn,{children:R.machineName}),n.jsx(sn,{className:"capitalize",children:R.type}),n.jsx(sn,{className:"max-w-[28rem] truncate",children:R.description})]},R.id)),p.length===0&&n.jsx(Ka,{children:n.jsx(sn,{colSpan:4,className:"text-sm text-muted-foreground",children:"No recent events"})})]})]})]}),n.jsxs(Ie,{className:"p-6 border-2 bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(tr,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Open Work Orders"})]}),n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{children:"ID"}),n.jsx(fn,{children:"Machine"}),n.jsx(fn,{children:"Type"}),n.jsx(fn,{children:"Status"})]})}),n.jsxs(Ou,{children:[o.filter(R=>R.status!=="completed").slice(0,6).map(R=>n.jsxs(Ka,{children:[n.jsx(sn,{children:R.id}),n.jsx(sn,{children:R.machineName}),n.jsx(sn,{children:R.type}),n.jsx(sn,{className:"capitalize",children:R.status})]},R.id)),o.filter(R=>R.status!=="completed").length===0&&n.jsx(Ka,{children:n.jsx(sn,{colSpan:4,className:"text-sm text-muted-foreground",children:"No open work orders"})})]})]})]})]})]})})}function Km({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-muted p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:e}),n.jsx("div",{className:"text-2xl font-bold text-foreground mt-1",children:t})]})}function Qm({total:e,active:t,down:s,maintenance:i,todayTarget:o,todayActual:l,todayScrap:u,attainment:d}){return n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(zd,{label:"Assets",value:e}),n.jsx(zd,{label:"Uptime",value:e?`${Math.round(t/e*100)}%`:""}),n.jsx(zd,{label:"Target",value:o}),n.jsx(zd,{label:"Actual",value:l}),n.jsx(zd,{label:"Scrap",value:u}),n.jsx(zd,{label:"Attainment",value:`${d}%`}),(s>0||i>0)&&n.jsxs("div",{className:"col-span-2 text-sm text-muted-foreground",children:[s," down  ",i," maintenance"]})]})}function zd({label:e,value:t}){return n.jsxs("div",{className:"rounded-md border bg-muted px-3 py-2",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:e}),n.jsx("div",{className:"text-lg font-semibold mt-0.5",children:t})]})}const RA=new Set(["Block Grinding","Cutting","Drilling","Injection Molding","Straightening","Wash","CNC Cutting"]);function L9({selectedMachine:e,onMachineSelect:t,onViewMachineDetails:s,onViewECODetails:i,onBackupMachine:o,onViewWorkOrderDetails:l,machineFilterTerm:u="",onMachineFilterChange:d}){const[f,m]=T.useState(!1),[p,x]=T.useState(!1),[N,y]=T.useState(!1),[C,M]=T.useState(!1),[S,j]=T.useState([]),[L,R]=T.useState([]),[D,U]=T.useState([]),[G,$]=T.useState(""),[B,Y]=T.useState(""),[fe,V]=T.useState(""),[P,F]=T.useState(""),[W,te]=T.useState(!0),[z,K]=T.useState(""),[H,ue]=T.useState([]);T.useEffect(()=>{const we=us.filter(ke=>RA.has(ke.category));j(we),R(ku),U(so),te(!1)},[]),T.useEffect(()=>{try{const we=localStorage.getItem("notes:area:fabrication");we&&ue(JSON.parse(we))}catch(we){console.warn("Failed to load fabrication notes",we)}},[]),T.useEffect(()=>{try{localStorage.setItem("notes:area:fabrication",JSON.stringify(H))}catch(we){console.warn("Failed to save fabrication notes",we)}},[H]);const ae=u.trim()?S.filter(we=>we.name.toLowerCase().includes(u.toLowerCase())||we.type.toLowerCase().includes(u.toLowerCase())||we.category.toLowerCase().includes(u.toLowerCase())||we.id.toLowerCase().includes(u.toLowerCase())||we.oem&&we.oem.toLowerCase().includes(u.toLowerCase())):S,_=ae.filter(we=>we.status==="active").length,k=ae.filter(we=>we.status==="down"||we.status==="maintenance"),q=k.length,J=L.filter(we=>we.status!=="completed"),oe=J.length,ce=D.filter(we=>we.status==="review"),me=ce.length,be=ae.filter(we=>we.lastBackup&&we.lastBackup!=="N/A"&&new Date(we.lastBackup)<new Date(Date.now()-4320*60*60*1e3)),ve=be.length,Me=we=>ae.filter(ke=>ke.category===we),Pe=T.useMemo(()=>{const we=new Map;for(const ke of ae)we.set(ke.category,(we.get(ke.category)||0)+1);return Array.from(we.entries()).map(([ke,$e])=>({name:ke,count:$e}))},[ae]),Xe=T.useMemo(()=>{const we=new Date().toISOString().slice(0,10),ke={};for(const $e of ae){const st=$e.category;ke[st]||(ke[st]={target:0,actual:0,downMin:0}),ke[st].target+=$e.todayTarget||0,ke[st].actual+=$e.todayActual||0;const le=m2.find(et=>et.machineId===$e.id&&et.date===we);le&&(ke[st].downMin+=le.downtime)}return Object.entries(ke).map(([$e,st])=>({category:$e,util:Math.round(st.actual/Math.max(st.target,1)*100),downMin:st.downMin}))},[ae]),Qe=T.useMemo(()=>new Set(S.map(we=>we.id)),[S]),ge=T.useMemo(()=>{const we=Ph.filter($e=>Qe.has($e.machineId));if(!G.trim())return we;const ke=G.toLowerCase();return we.filter($e=>$e.name.toLowerCase().includes(ke)||$e.type.toLowerCase().includes(ke)||$e.machineName.toLowerCase().includes(ke)||($e.version?.toLowerCase().includes(ke)??!1))},[G,Qe]),re=T.useMemo(()=>{const we=Zp.filter($e=>Qe.has($e.machineId));if(!B.trim())return we;const ke=B.toLowerCase();return we.filter($e=>$e.description.toLowerCase().includes(ke)||$e.type.toLowerCase().includes(ke)||$e.machineName.toLowerCase().includes(ke))},[B,Qe]),Pt=T.useMemo(()=>{const we=L.filter($e=>Qe.has($e.machineId));if(!fe.trim())return we;const ke=fe.toLowerCase();return we.filter($e=>$e.id.toLowerCase().includes(ke)||$e.description.toLowerCase().includes(ke)||$e.type.toLowerCase().includes(ke)||$e.status.toLowerCase().includes(ke)||$e.machineName.toLowerCase().includes(ke))},[fe,L,Qe]),Te=T.useMemo(()=>{const we=D.filter($e=>Qe.has($e.machineId));if(!P.trim())return we;const ke=P.toLowerCase();return we.filter($e=>$e.number.toLowerCase().includes(ke)||$e.description.toLowerCase().includes(ke)||$e.status.toLowerCase().includes(ke)||$e.machineName.toLowerCase().includes(ke))},[P,D,Qe]);return W?n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):n.jsxs("div",{className:"w-full h-full bg-background overflow-auto",children:[n.jsxs("div",{className:"p-4 sm:p-6 space-y-8 pb-24",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:[n.jsx(Ya,{title:u?"Filtered Machines":"Fabrication Machines",value:ae.length,icon:ff,variant:"default"}),n.jsx(Ya,{title:"Active",value:_,icon:ff,variant:"success",subtitle:`${q} down`,onClick:()=>x(!0)}),n.jsx(Ya,{title:"Pending Maintenance",value:oe,icon:tr,variant:oe>3?"warning":"default",subtitle:"Work Orders",onClick:()=>y(!0)}),n.jsx(Ya,{title:"ECOs in Review",value:me,icon:Rn,variant:"default",onClick:()=>M(!0)}),n.jsx(Ya,{title:"Old Backups",value:ve,icon:er,variant:ve>0?"danger":"success",subtitle:">6 months",onClick:()=>m(!0)})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(nt,{placeholder:"Filter by machine name, category, or ID...",className:"pl-3 pr-8",value:u,onChange:we=>d?.(we.target.value)}),u&&n.jsx(Ue,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0 hover:bg-muted",onClick:()=>d?.(""),children:""})]})}),ae.length===0?n.jsx(Ie,{className:"p-6 bg-card border",children:n.jsxs("div",{className:"text-center py-10",children:[n.jsx("p",{className:"text-muted-foreground",children:"No fabrication machines match the current filter."}),n.jsx("div",{className:"mt-3",children:n.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>d?.(""),children:"Clear filter"})})]})}):n.jsx(Ie,{className:"p-6 bg-card border",children:n.jsx(c3,{machines:ae,onMachineClick:we=>{t?.(we)},selectedMachineId:e?.id})}),n.jsxs(Ie,{className:"p-6 bg-card border",children:[n.jsx("h3",{className:"text-base font-semibold mb-4",children:"Lines Utilization"}),Xe.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No data available."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Xe.map(we=>n.jsxs("div",{className:"border rounded-lg p-3 bg-muted",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-semibold",children:we.category}),n.jsxs("div",{className:"text-sm",children:[we.util,"%"]})]}),n.jsx("div",{className:"w-full bg-muted rounded h-2 mt-2",children:n.jsx("div",{className:"h-2 bg-primary rounded",style:{width:`${Math.min(we.util,100)}%`}})}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Down: ",we.downMin," min"]})]},we.category))})]}),n.jsxs("div",{className:"w-full",children:[n.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-4 sm:mb-6 flex items-center",children:[n.jsx("div",{className:"w-1 h-6 sm:h-8 bg-primary rounded-full mr-3 sm:mr-4"}),"Fabrication Sections"]}),n.jsx(_A,{type:"multiple",defaultValue:[],className:"space-y-3 sm:space-y-4 mb-8 sm:mb-12 w-full",children:Pe.map(we=>{const ke=Me(we.name),$e=ke.filter(et=>et.status==="active").length,st=ke.filter(et=>et.status==="down").length,le=ke.filter(et=>et.status==="maintenance").length;return n.jsxs(kA,{value:we.name,className:"border rounded-xl bg-card px-4 sm:px-6 py-2 transition-colors",children:[n.jsx(LA,{className:"hover:no-underline",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("span",{className:"text-base sm:text-lg font-bold text-foreground truncate",children:we.name}),n.jsxs(Ve,{variant:"secondary",className:"font-semibold w-fit",children:[we.count," machines"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-start sm:justify-end",children:[$e>0&&n.jsxs(Ve,{className:"bg-green-100 text-green-800 border-green-200 border-2 font-semibold text-xs sm:text-sm",children:[$e," active"]}),le>0&&n.jsxs(Ve,{className:"bg-blue-100 text-blue-800 border-blue-200 border-2 font-semibold text-xs sm:text-sm",children:[le," maintenance"]}),st>0&&n.jsxs(Ve,{className:"bg-red-100 text-red-800 border-red-200 border-2 font-semibold text-xs sm:text-sm",children:[st," down"]})]})]})}),n.jsx(DA,{className:"pt-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 sm:gap-6 px-2 sm:px-0",children:ke.map(et=>n.jsx(E2,{machine:et,onSelect:ut=>t?.(ut)},et.id))})})]},we.name)})})]}),n.jsxs(Ie,{className:"p-6 bg-card border",children:[n.jsx("h3",{className:"text-base font-semibold mb-3",children:"Shift Handoff Notes"}),n.jsxs("div",{className:"flex gap-2 mb-3",children:[n.jsx(nt,{placeholder:"Add a note for next shift...",value:z,onChange:we=>K(we.target.value)}),n.jsx(Ue,{size:"sm",onClick:()=>{z.trim()&&(ue(we=>[{id:crypto.randomUUID?.()||String(Date.now()),text:z.trim(),ts:Date.now()},...we]),K(""))},children:"Add"})]}),n.jsxs("div",{className:"grid gap-2",children:[H.map(we=>n.jsxs("div",{className:"border rounded p-2 bg-muted flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:new Date(we.ts).toLocaleString()}),n.jsx("div",{className:"text-muted-foreground text-sm",children:we.text})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ue,{size:"sm",variant:we.pinned?"secondary":"outline",onClick:()=>ue(ke=>ke.map($e=>$e.id===we.id?{...$e,pinned:!$e.pinned}:$e)),children:we.pinned?"Unpin":"Pin"}),n.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>ue(ke=>ke.filter($e=>$e.id!==we.id)),children:"Remove"})]})]},we.id)),H.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No notes yet."})]})]}),n.jsxs("div",{className:"mt-8 mb-12",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-indigo-500 to-cyan-500 rounded-full mr-4"}),"Quick Access"]}),n.jsx(Ie,{className:"rounded-xl text-card-foreground shadow border-2 bg-white p-4 mb-8 w-full",children:n.jsxs(qu,{defaultValue:"documents",className:"w-full",children:[n.jsxs(Vu,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto sm:h-12 bg-gray-50 rounded-lg mb-4 p-1 gap-1 overflow-x-auto",children:[n.jsx(Ln,{value:"documents",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-green-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Documents"}),n.jsx(Ln,{value:"events",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-orange-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Events"}),n.jsx(Ln,{value:"maintenance",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-purple-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Maintenance"}),n.jsx(Ln,{value:"changes",className:"font-semibold text-xs sm:text-sm data-[state=active]:bg-pink-600 data-[state=active]:text-white whitespace-nowrap px-2 py-2",children:"Changes"})]}),n.jsx(Dn,{value:"documents",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-6 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter documents by name, type, machine, or version...",value:G,onChange:we=>$(we.target.value),className:"w-full"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 font-semibold",children:"Program Backups"}),n.jsx("div",{className:"space-y-2",children:ge.filter(we=>we.type==="Program Backup").length>0?ge.filter(we=>we.type==="Program Backup").map(we=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:we.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[we.machineName,"  ",we.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:"Download"})]},we.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No program backups available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 font-semibold",children:"Operator Manual"}),n.jsx("div",{className:"space-y-2",children:ge.filter(we=>we.type==="Operator Manual").length>0?ge.filter(we=>we.type==="Operator Manual").map(we=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:we.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[we.machineName,"  ",we.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:"Download"})]},we.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No operator manuals available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 font-semibold",children:"Drawings"}),n.jsx("div",{className:"space-y-2",children:ge.filter(we=>we.type==="Drawings").length>0?ge.filter(we=>we.type==="Drawings").map(we=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:we.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[we.machineName,"  ",we.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:"Download"})]},we.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No drawings available"})})]})]})}),n.jsx(Dn,{value:"events",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter events by description, type, or machine...",value:B,onChange:we=>Y(we.target.value),className:"w-full"})}),re.map(we=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xo,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:we.description}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[we.machineName,"  ",we.timestamp]})]})]}),n.jsx(Ve,{variant:we.type==="fault"?"destructive":we.type==="downtime"?"secondary":"default",children:we.type})]},we.id))]})}),n.jsx(Dn,{value:"maintenance",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter work orders by ID, description, type, status, or machine...",value:fe,onChange:we=>V(we.target.value),className:"w-full"})}),Pt.map(we=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm",children:[we.id,": ",we.description]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[we.machineName,"  Due: ",we.dueDate]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ve,{variant:we.type==="Emergency"?"destructive":"secondary",children:we.type}),n.jsx(Ve,{variant:"outline",children:we.status})]})]},we.id))]})}),n.jsx(Dn,{value:"changes",className:"mt-0 w-full",children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"mb-4",children:n.jsx(nt,{placeholder:"Filter ECOs by number, description, status, or machine...",value:P,onChange:we=>F(we.target.value),className:"w-full"})}),Te.map(we=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm",children:[we.number,": ",we.description]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[we.machineName,"  ",we.date]})]})]}),n.jsx(Ve,{variant:we.status==="approved"?"default":"secondary",children:we.status})]},we.id))]})})]})})]})]}),n.jsx($3,{open:f,onOpenChange:m,machines:be,onBackupMachine:o}),n.jsx($S,{open:p,onOpenChange:x,machines:k,onViewMachineDetails:s}),n.jsx(YS,{open:N,onOpenChange:y,workOrders:J,onViewWorkOrderDetails:l}),n.jsx(KS,{open:C,onOpenChange:M,ecos:ce,onViewDetails:i})]})}function D9({onViewOrder:e,onMachineSelect:t}){const[s,i]=T.useState([]),[o,l]=T.useState([]),[u,d]=T.useState([]),[f,m]=T.useState([]),[p,x]=T.useState(!0),[N,y]=T.useState(""),[C,M]=T.useState("all"),[S,j]=T.useState(!1),[L,R]=T.useState(()=>new Date().toISOString().slice(0,10)),[D,U]=T.useState("all");T.useEffect(()=>{(async()=>{try{await G()}catch(ae){console.error("Failed to load shipping data",ae)}finally{x(!1)}})()},[]);async function G(){const[ae,_,k,q]=await Promise.all([oo(),Kp(),W4(),X4()]);i(ae),l(_),d(k),m(q)}const $=T.useMemo(()=>s.filter(ae=>/Shipping - (Wrap|Pack)/i.test(ae.category)),[s]),B=T.useMemo(()=>s.filter(ae=>/Shipping - Forklift/i.test(ae.category)),[s]),Y=T.useMemo(()=>{const ae=new Map;for(const _ of f)ae.set(_.partNumber,(ae.get(_.partNumber)||0)+_.availableQty);return Array.from(ae.entries()).map(([_,k])=>({sku:_,qty:k}))},[f]),fe=T.useMemo(()=>{const ae=N.toLowerCase();return o.filter(_=>C==="all"?!0:_.status===C).filter(_=>[_.orderNumber,_.customer,_.assignedTo,_.notes,..._.items.map(k=>`${k.sku} ${k.description}`)].filter(Boolean).some(k=>String(k).toLowerCase().includes(ae))).sort((_,k)=>_.dueDate.localeCompare(k.dueDate))},[o,N,C]),V=T.useMemo(()=>{const ae=new Date().toISOString().slice(0,10);return u.filter(_=>_.scheduledDate===ae).sort((_,k)=>(_.windowStart||"").localeCompare(k.windowStart||""))},[u]),P=T.useMemo(()=>{const ae=new Date().toISOString().slice(0,10);return o.filter(_=>_.status!=="shipped"&&_.dueDate<ae).sort((_,k)=>_.dueDate.localeCompare(k.dueDate))},[o]),F=T.useMemo(()=>u.filter(_=>_.scheduledDate===L).filter(_=>D==="all"?!0:_.status===D).slice().sort((_,k)=>(_.windowStart||"").localeCompare(k.windowStart||"")),[u,L,D]),W=T.useMemo(()=>{const ae={};for(const _ of f)_.requiredForOrderId&&(ae[_.requiredForOrderId]=ae[_.requiredForOrderId]||[],ae[_.requiredForOrderId].push(_));return ae},[f]),te=T.useMemo(()=>["Shipping - Wrap","Shipping - Pack"].map(_=>{const k=s.filter(ve=>ve.category===_),q=k.length,J=k.filter(ve=>ve.status==="active").length,oe=k.reduce((ve,Me)=>ve+(Me.todayTarget||0),0),ce=k.reduce((ve,Me)=>ve+(Me.todayActual||0),0),me=oe>0?Math.round(ce/Math.max(oe,1)*100):Math.round(J/Math.max(q,1)*100),be=k.filter(ve=>ve.status!=="active").length;return{category:_.replace("Shipping - ",""),util:me,total:q,active:J,down:be}}),[s]);if(p)return n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})});const z=o.filter(ae=>(W[ae.id]||[]).every(_=>_.status==="ready")),K=o.filter(ae=>ae.status==="shipped").length,H=Math.round(K/Math.max(o.length,1)*100),ue=Math.round(o.reduce((ae,_)=>ae+_.items.reduce((k,q)=>k+(q.readyQty??0),0),0)/Math.max(o.reduce((ae,_)=>ae+_.items.reduce((k,q)=>k+q.qty,0),0),1)*100);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full h-full bg-background overflow-auto",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[n.jsx(Ie,{className:"p-6 border bg-card",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Shipping Overview"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Wrap/Pack machines, orders, deliveries, and parts readiness"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-2",children:[n.jsx(bu,{icon:n.jsx(wL,{className:"w-4 h-4"}),label:"Wrap/Pack",value:$.length}),n.jsx(bu,{icon:n.jsx(Qi,{className:"w-4 h-4"}),label:"Open Orders",value:o.filter(ae=>ae.status!=="shipped").length}),n.jsx(bu,{icon:n.jsx(y2,{className:"w-4 h-4"}),label:"Today Deliveries",value:V.length}),n.jsx(bu,{icon:n.jsx(x2,{className:"w-4 h-4"}),label:"Ready Orders",value:z.length}),n.jsx(bu,{icon:n.jsx(Mp,{className:"w-4 h-4"}),label:"On-time Ship %",value:H}),n.jsx(bu,{icon:n.jsx(Xo,{className:"w-4 h-4"}),label:"Pick Rate %",value:ue}),n.jsx(bu,{icon:n.jsx(er,{className:"w-4 h-4"}),label:"Aging Orders",value:P.length,onClick:()=>j(!0),clickable:!0})]})]})}),n.jsxs(Ie,{className:"p-6 border bg-card",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h4",{className:"text-base font-semibold text-foreground",children:"Wrap & Pack Machines"})}),$.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No wrap/pack equipment detected."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:$.map(ae=>n.jsx(E2,{machine:ae,onSelect:_=>t?.(_)},ae.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Ie,{className:"p-6 border bg-card",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h4",{className:"text-base font-semibold text-foreground",children:"Forklifts"})}),B.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No forklifts defined."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:B.map(ae=>n.jsxs(Ie,{className:"p-3 flex items-center justify-between cursor-pointer hover:shadow-sm",onClick:()=>t?.(ae),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tr,{className:`w-4 h-4 ${ae.status==="maintenance"?"text-blue-600":"text-muted-foreground"}`}),n.jsx("div",{className:"font-medium",children:ae.name})]}),n.jsx(Ve,{variant:"outline",children:ae.status})]},ae.id))})]}),n.jsxs(Ie,{className:"p-6 border bg-card",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h4",{className:"text-base font-semibold text-foreground",children:"Inventory Snapshot"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[Y.slice(0,10).map(ae=>n.jsxs("div",{className:"border rounded-md p-2 bg-muted text-sm flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:ae.sku}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[ae.qty," available"]})]},ae.sku)),Y.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No inventory data."})]})]})]}),n.jsxs(Ie,{className:"p-6 border bg-card",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h4",{className:"text-base font-semibold text-foreground",children:"Lines Utilization (Shipping)"})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:te.map(ae=>n.jsxs("div",{className:"border rounded-lg p-3 bg-muted",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-semibold",children:ae.category}),n.jsxs("div",{className:"text-sm",children:[ae.util,"%"]})]}),n.jsx("div",{className:"w-full bg-muted rounded h-2 mt-2",children:n.jsx("div",{className:"h-2 bg-primary rounded",style:{width:`${Math.min(ae.util,100)}%`}})}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Active ",ae.active,"/",ae.total,"  Down ",ae.down]})]},ae.category))})]}),n.jsxs(qu,{defaultValue:"orders",className:"w-full",children:[n.jsxs(Vu,{children:[n.jsx(Ln,{value:"orders",children:"Orders"}),n.jsx(Ln,{value:"deliveries",children:"Deliveries"}),n.jsx(Ln,{value:"parts",children:"Parts Readiness"}),n.jsx(Ln,{value:"calendar",children:"Dock Calendar"})]}),n.jsx(Dn,{value:"orders",className:"mt-4",children:n.jsxs(Ie,{className:"p-4 border bg-card",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between mb-3",children:[n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx(nt,{placeholder:"Search orders, customers, SKUs...",value:N,onChange:ae=>y(ae.target.value),className:"w-72"}),n.jsxs(Ve,{variant:"outline",children:["Total: ",fe.length]})]}),n.jsx("div",{className:"flex gap-2",children:["all","pending","picking","packed","shipped","on-hold"].map(ae=>n.jsx(Ue,{size:"sm",variant:C===ae?"secondary":"outline",onClick:()=>M(ae),children:ae},ae))})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-3",children:[fe.map(ae=>n.jsx(O9,{order:ae,parts:W[ae.id]||[],onChange:G,onOpen:()=>e?.(ae)},ae.id)),fe.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No orders match your filters."})]})]})}),n.jsx(Dn,{value:"deliveries",className:"mt-4",children:n.jsxs(Ie,{className:"p-4 border bg-card",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Today"}),n.jsxs("div",{className:"grid gap-3",children:[V.map(ae=>n.jsx(_w,{delivery:ae,onChange:G},ae.id)),V.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No deliveries scheduled for today."})]})]})}),n.jsx(Dn,{value:"calendar",className:"mt-4",children:n.jsxs(Ie,{className:"p-4 border bg-card space-y-3",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jL,{className:"w-4 h-4"}),n.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm",value:L,onChange:ae=>R(ae.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(YL,{className:"w-4 h-4"}),["all","scheduled","arrived","departed","delayed","cancelled"].map(ae=>n.jsx(Ue,{size:"sm",variant:D===ae?"secondary":"outline",onClick:()=>U(ae),children:ae},ae))]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid gap-3",children:[F.map(ae=>n.jsx(_w,{delivery:ae,onChange:G},ae.id)),F.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No deliveries for selected day and filter."})]})]})}),n.jsx(Dn,{value:"parts",className:"mt-4",children:n.jsx(Ie,{className:"p-4 border bg-card",children:n.jsx("div",{className:"grid gap-3",children:o.map(ae=>n.jsxs(Ie,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qi,{className:"w-4 h-4"}),n.jsx("div",{className:"font-medium",children:ae.orderNumber}),n.jsx("div",{className:"text-sm text-muted-foreground",children:ae.customer})]}),n.jsxs(Ve,{variant:"outline",children:["Due ",ae.dueDate]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[(W[ae.id]||[]).map(_=>n.jsx(P9,{part:_},_.id)),(W[ae.id]||[]).length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No parts tracked for this order."})]})]},ae.id))})})})]})]})}),n.jsx(Ha,{open:S,onOpenChange:j,children:n.jsxs(Ma,{children:[n.jsx(Fa,{children:n.jsx(za,{children:"Aging Orders"})}),n.jsxs("div",{className:"grid gap-2",children:[P.map(ae=>n.jsxs(Ie,{className:"p-3 flex items-center justify-between cursor-pointer hover:shadow-sm",onClick:()=>e?.(ae),children:[n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium",children:[ae.orderNumber,"  ",ae.customer]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due ",ae.dueDate,"  ",ae.items.length," items"]})]}),n.jsx(Ve,{variant:"outline",children:ae.status})]},ae.id)),P.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No aging orders."})]})]})})]})}function bu({icon:e,label:t,value:s,onClick:i,clickable:o}){return n.jsxs("div",{className:`rounded-lg border bg-muted p-3 flex items-center gap-2 ${o?"cursor-pointer hover:shadow-sm":""}`,onClick:i,children:[n.jsx("div",{className:"text-muted-foreground",children:e}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:t}),n.jsx("div",{className:"text-lg font-semibold text-foreground",children:s})]})]})}async function Mw(e,t){t==="packed"?await Z4(e):t==="shipped"?await $4(e):await pk(e,{status:t})}async function R9(e,t){await Y4(e.requiredForOrderId,e.partNumber,t)}function O9({order:e,parts:t,onChange:s,onOpen:i}){const o=t.every(d=>d.status==="ready"),l=t.some(d=>d.status==="short"),u=o?"ready":l?"short":"partial";return n.jsxs(Ie,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{className:"flex items-center gap-3 text-left hover:opacity-90",onClick:i,children:[n.jsx(Qi,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium underline underline-offset-2",children:[e.orderNumber,"  ",e.customer]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due ",e.dueDate,"  ",e.items.length," items"]})]}),n.jsx(Ve,{variant:"outline",className:"ml-2",children:e.status})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u==="ready"&&n.jsxs(Ve,{className:"bg-green-100 text-green-800",variant:"secondary",children:[n.jsx(tf,{className:"w-3 h-3 mr-1"})," Ready"]}),u==="short"&&n.jsxs(Ve,{className:"bg-red-100 text-red-800",variant:"secondary",children:[n.jsx(er,{className:"w-3 h-3 mr-1"})," Short"]}),u==="partial"&&n.jsxs(Ve,{variant:"secondary",children:[n.jsx(Xo,{className:"w-3 h-3 mr-1"})," Partial"]}),n.jsxs(Ue,{size:"sm",variant:"outline",disabled:e.status!=="picking"&&e.status!=="pending",onClick:async()=>{await Mw(e.id,"packed"),await s?.()},children:[n.jsx(Mp,{className:"w-3 h-3 mr-1"})," Mark Packed"]}),n.jsxs(Ue,{size:"sm",variant:"secondary",disabled:e.status!=="packed",onClick:async()=>{await Mw(e.id,"shipped"),await s?.()},children:[n.jsx(ix,{className:"w-3 h-3 mr-1"})," Mark Shipped"]})]})]}),n.jsx(hn,{className:"my-2"}),n.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:e.items.map(d=>n.jsxs("div",{className:"text-sm flex items-center justify-between border rounded-md p-2 bg-muted",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:d.sku}),n.jsx("div",{className:"text-xs text-muted-foreground",children:d.description})]}),n.jsxs("div",{className:"text-xs flex items-center gap-2",children:[n.jsxs("span",{children:[d.readyQty??0,"/",d.qty," ready"]}),n.jsx(Ue,{size:"sm",variant:"outline",onClick:async()=>{await R9({id:`temp-${e.id}-${d.sku}`,partNumber:d.sku,description:d.description,requiredForOrderId:e.id,requiredQty:d.qty,availableQty:d.readyQty??0},1),await s?.()},children:"Allocate 1"})]})]},d.sku))})]})}async function Ew(e,t){await gk(e,{status:t})}function _w({delivery:e,onChange:t}){return n.jsxs(Ie,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(y2,{className:"w-4 h-4"}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium",children:[e.carrier,"  ",e.reference]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dock ",e.dock,"  ",e.windowStart,"-",e.windowEnd]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ve,{variant:"outline",children:e.status}),n.jsx(Ue,{size:"sm",variant:"outline",onClick:async()=>{await Ew(e.id,"arrived"),await t?.()},children:"Arrived"}),n.jsx(Ue,{size:"sm",variant:"secondary",onClick:async()=>{await Ew(e.id,"departed"),await t?.()},children:"Departed"})]})]}),e.orderIds?.length?n.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Orders: ",e.orderIds.join(", ")]}):null]})}function P9({part:e}){const t=e.status==="ready"?"text-green-700 bg-green-50 border-green-200":e.status==="short"?"text-red-700 bg-red-50 border-red-200":"text-amber-700 bg-amber-50 border-amber-200";return n.jsxs("div",{className:`text-sm flex items-center justify-between border rounded-md p-2 ${t}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:e.partNumber}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.description,"  ",e.location]})]}),n.jsxs("div",{className:"text-xs",children:[e.availableQty,"/",e.requiredQty," available"]})]})}const kw=["AXH007","AXH031","AXH032","AXH036","AXH037","AXH038","AXH045","AXH051","AXH052","AXH053","AXH054","AXH057","AXH058","AXH062","AXH063","AXH064","AXH065","AXH066","DRH001","DRH002","DRH005","DWH001","DWH002","DWH003","DWH004","DWH005","DWH006","DXH001","DXH003","GCH001","GLH002","GPH005","GPH006","GPH007","GPH008","GPH017","GPH018","GPH023","GPH024","GPH025","GPH028","GPH029","GPH031","GPH034","GPH035","GPH037","GPH038","GPH039","GPH040","GPH041","GPH042","GPH043","GPH044","GPH045","GPH046","GPH047","GPH048","GPH050","GPH051","GPH052","GPH053","GPH054","GPH055","GPH056","GPH057","GPH058","GPH059","GPH060","GPH061","GPH063","GPH064","GPH065","GPH066","GPH067","GPH068","GPH069","GPH070","GPH071","GPH072","GPH073","GPH074","GPH075","GSH002","GSH003","GSH004","GSH005","GSH012","GSH013","GSH014","GSH015","GSH016","GSH017","GSH018","GSH019","GSH020","GSH021","GSH022","GSH023","GSH024","HEH001","HEH002","HEH003","HEH004","HEH005","HEH009","HEH010","HEH013","HEH014","HEH015","HEH016","HEH017","HEH018","IGS300","IJH001","IJH002","LAH001","LAH002","LAH003","LAH005","LEH003","LXH016","MAH005","MAH007","MAH008","MAH014","MAH016","MAH018","MAH019","MAH021","MAH022","MAH023","MAH026","MAH027","MAH028","MAH029","MAH030","MAH031","MAH032","MAH033","MAH034","MAH035","MAH036","MAH038","MAH039","MAH040","MAH041","MAH042","MAH043","MAH044","MAH045","MAH046","MAH047","MAH048","MAH049","MAH050","MAH051","MAH052","MAH053","MVH003","MVH004","MVH005","MWH001","MWH002","MWH004","MXH001","MXH002","MXH003","MXH004","PRH001","PRH003","PRH004","PRH005","PRH006","PRH007","PRH008","PRH009","PRH011","PRH013","PRH022","PRH025","QAH004","QAH005","QAH007","QAH008","QAH012","QAH013","QAH014","QAH015","QAH016","QAH017","QAH021","QAH023","QAH024","QAH026","QAH027","QAH028","QAH029","QAH031","QAH032","QAH034","QAH035","QAH039","QAH040","QAH041","QAH042","QAH044","QAH047","QAH064","QAH065","QAH066","QAH067","QAH068","QAH071","QAH072","QAH073","QAH074","QAH075","QAH078","QAH079","QAH080","QAH081","QAH082","QAH083","QAH084","QAH085","QAH086","QAH087","QAH088","QAH090","QAH091","QAH092","QAH094","QAH095","QAH097","QAH101","QAH102","QAH103","QGH001","QGH002","QGH003","QGH005","QGH007","QGH008","QGH009","QGH010","RSH001","RSH002","RSH003","RSH004","RWH001","RWH002","SAH002","SAH003","SAH005","SGH001","SGH002","SGH008","SGH009","SGH010","SGH011","SGH012","SGH013","SGH014","SGH015","SGH016","SGH017","SGH018","SGH019","SNH001","SNH002","WEH009","WLH001","WLH002","ZCH004","ZCH005","ZCH006","ZCH007","ZCH008","ZDH001","ZDH002","ZDH003","ZDH004","ZDH005","ZDH007","ZDH008","ZGH001","ZGH002","ZGH003","ZLH020","ZLH021","ZLH022","ZLH023","ZLH024","ZLH025","ZLH026","ZLH027","ZLH028","ZLH031","ZLH032","ZLH033","ZLH034","ZLH035","ZLH036","ZLH039","ZLH040","ZLH043","ZLH044","ZLH045","ZLH046","ZLH047","ZLH048","ZLH049","ZLH053","ZLH054","ZLH060","ZLH061","ZLH062","ZLH063","ZLH064","ZLH066","ZLH069","ZLH071","ZLH072","ZLH073","ZLH074","ZLH075","ZLH076","ZLH078","ZLH079","ZLH080","ZLH081","ZLH082","ZMH003","ZMH004","ZMH005","ZMH006","ZPH001","ZPH002","ZPH005","ZPH006","ZPH007","ZPH010","ZPH012","ZPH013","ZRH002","ZRH003","ZRH005","ZRH006","ZRH008","ZRH010","ZRH013","ZTH003","ZTH011","ZTH014","ZTH015","ZWH001","ZWH002","ZWH004","ZWH005","ZWH006","ZWH008","ZWH009","ZWH011","ZWH012","ZZH002","ZZH003","ZZH005","ZZH006","ZZH007","ZZH009","ZZH010","ZZH011","ZZH012","ZZH013","ZZH014","ZZH015","ZZH016","ZZH018","ZZH019","ZZH021","ZZH023","ZZH024","ZZH025","ZZH026","ZZH027","ZZH028","ZZH031","ZZH033","ZZH034","ZZH037","ZZH038","ZZH039","ZZH040","ZZH041","ZZH042","ZZH043","ZZH044","ZZH045","ZZH046","ZZH048","ZZH049","ZZH050","ZZH051","ZZH052","ZZH055","ZZH057","ZZH061"],Gd=[{value:"unassigned",label:"Unassigned",badgeClass:"border-border text-muted-foreground"},{value:"green-room",label:"Green Room",badgeClass:"bg-emerald-100 text-emerald-800 border-emerald-200"},{value:"fabrication",label:"Fabrication",badgeClass:"bg-blue-100 text-blue-800 border-blue-200"},{value:"shipping",label:"Shipping",badgeClass:"bg-orange-100 text-orange-800 border-orange-200"}],Lw="machine-area-board:v1",I9=e=>{if(!e)return{};const t={};for(const[s,i]of Object.entries(e)){if(!i)continue;const o=i==="production"?"fabrication":i;Gd.some(l=>l.value===o)&&(t[s]=o)}return t},B9=e=>{const t=(e.category||"").toLowerCase(),s=(e.type||"").toLowerCase();return["assembly","retainer","measurement","green room","inspection"].some(l=>t.includes(l)||s.includes(l))?"green-room":["shipping","wrap","pack","logistics","forklift","warehouse"].some(l=>t.includes(l)||s.includes(l))?"shipping":"fabrication"},H9=Object.freeze({});function F9(e){const t=e?.presetAssignments??H9,s=e?.onAssignmentChange,[i,o]=T.useState(""),[l,u]=T.useState("all"),[d,f]=T.useState({...t}),[m,p]=T.useState(()=>{if(typeof window>"u")return{...t};try{const S=window.localStorage.getItem(Lw),j=S?JSON.parse(S):{};return{...t,...I9(j)}}catch(S){return console.error("Failed to read saved machine areas",S),{...t}}});T.useEffect(()=>{f(S=>({...t,...S}))},[t]),T.useEffect(()=>{(async()=>{try{const S=await oo(),j={};for(const L of S)j[L.id]=B9(L);f(L=>({...j,...t,...L}))}catch(S){console.error("Failed to load machine data for planner",S)}})()},[t]),T.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(Lw,JSON.stringify(m))},[m]);const x=S=>Object.prototype.hasOwnProperty.call(m,S)?m[S]:Object.prototype.hasOwnProperty.call(d,S)?d[S]:"unassigned",N=T.useMemo(()=>kw.reduce((S,j)=>{const L=x(j);return S[L]=(S[L]??0)+1,S},{}),[m,d]),y=T.useMemo(()=>{const S=i.trim().toLowerCase();return kw.filter(j=>{const L=x(j),R=l==="all"||L===l,D=S.length===0||j.toLowerCase().includes(S);return R&&D})},[m,d,i,l]),C=(S,j)=>{p(L=>{const R={...L,[S]:j};return s?.(S,j),R})},M=()=>{p({}),u("all"),o("")};return n.jsx("div",{className:"w-full h-full bg-background overflow-auto",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[n.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Machine Area Planner"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Assign each machine to an area. Planner pre-populates assignments based on existing data, but you can override anything."}),n.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:Gd.map(S=>n.jsxs(Ve,{variant:"outline",className:`font-medium ${S.badgeClass}`,children:[S.label,": ",N[S.value]??0]},S.value))})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[n.jsx(nt,{placeholder:"Search by machine code...",value:i,onChange:S=>o(S.target.value),className:"sm:w-64"}),n.jsxs(an,{value:l,onValueChange:S=>u(S),children:[n.jsx(on,{className:"sm:w-48",children:n.jsx(rn,{placeholder:"Filter by area"})}),n.jsxs(ln,{children:[n.jsx(it,{value:"all",children:"All Areas"}),Gd.map(S=>n.jsx(it,{value:S.value,children:S.label},S.value))]})]}),n.jsx(Ue,{variant:"outline",onClick:M,children:"Reset to Defaults"})]})]}),n.jsx("section",{children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[y.map(S=>{const j=x(S),L=Gd.find(R=>R.value===j)??Gd[0];return n.jsxs(Ie,{className:"p-4 border bg-card shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:S}),n.jsx(Ve,{variant:"outline",className:`text-xs ${L.badgeClass}`,children:L.label})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the area that currently best represents this machine."}),n.jsxs(an,{value:j,onValueChange:R=>C(S,R),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Assign area"})}),n.jsx(ln,{children:Gd.map(R=>n.jsx(it,{value:R.value,children:R.label},R.value))})]})]},S)}),y.length===0&&n.jsx(Ie,{className:"p-6 border bg-card text-center text-sm text-muted-foreground",children:"No machines match the current filters."})]})})]})})}function c1({className:e,...t}){return n.jsx("div",{className:Ut("bg-muted animate-pulse rounded-md",e),...t})}const Dw=["fabrication","green-room","shipping"];function z9({onSelectArea:e}){const[t,s]=T.useState(!0),[i,o]=T.useState([]),[l,u]=T.useState([]),[d,f]=T.useState([]);T.useEffect(()=>{let x=!1;return(async()=>{try{const[N,y,C]=await Promise.all([oo(),Bc(),Kp()]);if(x)return;o(N),u(y),f(C)}catch(N){console.error("Failed to load production overview data",N)}finally{x||s(!1)}})(),()=>{x=!0}},[]);const m=T.useMemo(()=>{const x={fabrication:[],"green-room":[],shipping:[]};for(const y of i){if(RA.has(y.category)){x.fabrication.push(y);continue}const C=y.category.toLowerCase();C.includes("shipping")||C.includes("wrap")||C.includes("pack")?x.shipping.push(y):x["green-room"].push(y)}const N=y=>{const C=x[y],M=C.filter(L=>L.status==="active").length,S=C.filter(L=>L.status==="down"||L.status==="maintenance").length;if(y==="fabrication"){const L=l.filter(R=>R.status!=="completed"&&x.fabrication.some(D=>D.id===R.machineId)).length;return{title:"Fabrication",description:"Machining, molding, grinding, and fabrication assets.",icon:n.jsx(_c,{className:"w-6 h-6 text-blue-500"}),machines:C,activeCount:M,downCount:S,additionalStat:`${L} open work orders`,highlight:`${Math.round(M/Math.max(C.length,1)*100)}% uptime`}}if(y==="green-room"){const L=l.filter(R=>x["green-room"].some(D=>D.id===R.machineId)&&R.type==="PM").length;return{title:"Green Room",description:"Assembly lines, retainers, and measurement stations.",icon:n.jsx(AD,{className:"w-6 h-6 text-emerald-500"}),machines:C,activeCount:M,downCount:S,additionalStat:`${L} preventative jobs in progress`,highlight:`${C.length} machines`}}const j=d.filter(L=>L.status!=="shipped").length;return{title:"Shipping",description:"Wrap, pack, forklifts, and outbound logistics.",icon:n.jsx(Qi,{className:"w-6 h-6 text-orange-500"}),machines:C,activeCount:M,downCount:S,additionalStat:`${j} open shipping orders`,highlight:`${S} machines attention`}};return Dw.reduce((y,C)=>(y[C]=N(C),y),{})},[i,l,d]),p=T.useMemo(()=>{const x=i.length,N=i.filter(j=>j.status==="active").length,y=i.filter(j=>j.status==="down").length,C=i.filter(j=>j.status==="maintenance").length,M=d.filter(j=>j.status!=="shipped").length,S=l.filter(j=>j.status!=="completed").length;return{machineCount:x,active:N,down:y,maintenance:C,openOrders:M,openWorkOrders:S}},[i,d,l]);return t?n.jsxs("div",{className:"w-full h-full bg-background overflow-auto p-6 space-y-6",children:[n.jsx(c1,{className:"h-24 w-full"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((x,N)=>n.jsx(c1,{className:"h-40 w-full"},N))}),n.jsx(c1,{className:"h-64 w-full"})]}):n.jsx("div",{className:"w-full h-full bg-background overflow-auto",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[n.jsxs("header",{className:"space-y-2",children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Production Overview"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"High-level view of fabrication, assembly, and shipping operations. Choose a workspace to dive deeper."})]}),n.jsx("section",{children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(Ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Machines"}),n.jsx(Bh,{className:"w-4 h-4 text-primary"})]}),n.jsx("p",{className:"text-2xl font-semibold mt-2",children:p.machineCount}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[p.active," active  ",p.maintenance," in maintenance  ",p.down," down"]})]}),n.jsxs(Ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Work Orders"}),n.jsx(tr,{className:"w-4 h-4 text-rose-500"})]}),n.jsx("p",{className:"text-2xl font-semibold mt-2",children:p.openWorkOrders}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Open maintenance tasks across all areas"})]}),n.jsxs(Ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Shipping Orders"}),n.jsx(Qi,{className:"w-4 h-4 text-orange-500"})]}),n.jsx("p",{className:"text-2xl font-semibold mt-2",children:p.openOrders}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Awaiting fulfillment or shipment"})]})]})}),n.jsx("section",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:Dw.map(x=>{const N=m[x];return n.jsxs(Ie,{className:"p-5 flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-muted",children:N.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:N.title}),n.jsx("p",{className:"text-xs text-muted-foreground max-w-xs",children:N.description})]})]}),n.jsx(Ve,{variant:"secondary",className:"text-xs",children:N.highlight})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[n.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[n.jsx("span",{className:"text-xs text-muted-foreground block",children:"Machines"}),n.jsx("span",{className:"text-base font-semibold",children:N.machines.length})]}),n.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[n.jsx("span",{className:"text-xs text-muted-foreground block",children:"Active"}),n.jsx("span",{className:"text-base font-semibold",children:N.activeCount})]}),n.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[n.jsx("span",{className:"text-xs text-muted-foreground block",children:"Down / Maint."}),n.jsx("span",{className:"text-base font-semibold",children:N.downCount})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:N.additionalStat}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(Ue,{size:"sm",onClick:()=>e?.(x),className:"gap-2",children:["Open ",N.title,n.jsx(PL,{className:"w-4 h-4"})]})})]},x)})})]})})}var Z2="Progress",$2=100,[U9]=lo(Z2),[q9,V9]=U9(Z2),OA=T.forwardRef((e,t)=>{const{__scopeProgress:s,value:i=null,max:o,getValueLabel:l=G9,...u}=e;(o||o===0)&&!Rw(o)&&console.error(W9(`${o}`,"Progress"));const d=Rw(o)?o:$2;i!==null&&!Ow(i,d)&&console.error(X9(`${i}`,"Progress"));const f=Ow(i,d)?i:null,m=Ip(f)?l(f,d):void 0;return n.jsx(q9,{scope:s,value:f,max:d,children:n.jsx(Vt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Ip(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":BA(f,d),"data-value":f??void 0,"data-max":d,...u,ref:t})})});OA.displayName=Z2;var PA="ProgressIndicator",IA=T.forwardRef((e,t)=>{const{__scopeProgress:s,...i}=e,o=V9(PA,s);return n.jsx(Vt.div,{"data-state":BA(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:t})});IA.displayName=PA;function G9(e,t){return`${Math.round(e/t*100)}%`}function BA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ip(e){return typeof e=="number"}function Rw(e){return Ip(e)&&!isNaN(e)&&e>0}function Ow(e,t){return Ip(e)&&!isNaN(e)&&e<=t&&e>=0}function W9(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$2}\`.`}function X9(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HA=OA,Z9=IA;const FA=T.forwardRef(({className:e,value:t,...s},i)=>n.jsx(HA,{ref:i,className:Ut("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(Z9,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));FA.displayName=HA.displayName;function zA({open:e,onOpenChange:t,prefilledMachineId:s,prefilledType:i,allowedMachineIds:o}){const[l,u]=T.useState({machineId:s||"",type:i||"",name:"",version:"",revision:"",controller:"",notes:"",createdBy:"",approvedBy:"",releaseState:"draft",effectiveFrom:"",supersedes:"",linkedECO:"",linkedComponents:[],partNumbers:[]}),[d,f]=T.useState(null),[m,p]=T.useState(""),[x,N]=T.useState([]),[y,C]=T.useState([]),[M,S]=T.useState([]),[j,L]=T.useState(!1);T.useEffect(()=>{async function F(){try{const[W,te,z]=await Promise.all([oo(),Ul(),Yp()]);N(W&&W.length>0?W:us),C(te&&te.length>0?te:so),S(z&&z.length>0?z:Wo)}catch(W){console.error("Error loading data:",W),N(us),C(so),S(Wo)}}e&&F()},[e]);const R=o&&o.length>0?x.filter(F=>o.includes(F.id)):x,D=R.find(F=>F.id===l.machineId),U=y.filter(F=>F.machineId===l.machineId),G=M.filter(F=>F.machineId===l.machineId);T.useEffect(()=>{e&&s&&u(F=>({...F,machineId:s})),e&&i&&u(F=>({...F,type:i}))},[e,s,i]),T.useEffect(()=>{e&&o&&l.machineId&&!o.includes(l.machineId)&&u(F=>({...F,machineId:""}))},[e,o,l.machineId]);const $=F=>{const W=F.target.files?.[0];W&&(f(W),l.name||u(te=>({...te,name:W.name})))},B=()=>{m.trim()&&!l.partNumbers.includes(m.trim())&&(u(F=>({...F,partNumbers:[...F.partNumbers,m.trim()]})),p(""))},Y=F=>{u(W=>({...W,partNumbers:W.partNumbers.filter(te=>te!==F)}))},fe=F=>{u(W=>({...W,linkedComponents:W.linkedComponents.includes(F)?W.linkedComponents.filter(te=>te!==F):[...W.linkedComponents,F]}))},V=async F=>{if(F.preventDefault(),!l.machineId){vn.error("Please select a machine");return}if(!l.type){vn.error("Please select a document type");return}if(!d){vn.error("Please select a file to upload");return}L(!0);try{const W={id:`DOC-${Date.now()}`,machineId:l.machineId,machineName:D?.name||"",type:l.type,name:l.name,uploadDate:new Date().toISOString().split("T")[0],fileUrl:`file://${d.name}`,version:l.version,controller:l.controller,createdBy:l.createdBy,supersedes:l.supersedes,releaseState:l.releaseState,notes:l.notes,revision:l.revision,partNumbers:l.partNumbers,approvedBy:l.approvedBy,effectiveFrom:l.effectiveFrom,linkedECO:l.linkedECO,linkedComponents:l.linkedComponents};await dk(W),vn.success("Document uploaded successfully",{description:`${l.name} has been uploaded to ${D?.name}`}),P()}catch(W){console.error("Error uploading document:",W),vn.error("Failed to upload document")}finally{L(!1)}},P=()=>{u({machineId:"",type:"",name:"",version:"",revision:"",controller:"",notes:"",createdBy:"",approvedBy:"",releaseState:"draft",effectiveFrom:"",supersedes:"",linkedECO:"",linkedComponents:[],partNumbers:[]}),f(null),p(""),t(!1)};return n.jsx(Ha,{open:e,onOpenChange:t,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"Upload Document"}),n.jsx(fi,{children:"Upload a new document and associate it with a machine and related entities"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:n.jsxs("form",{id:"upload-document-form",onSubmit:V,className:"space-y-6",children:[n.jsx(Ie,{className:"p-3 bg-muted border-border",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(xa,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Document Upload Guide"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a machine first to see available ECO and component associations for this document"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine",children:"Machine *"}),n.jsxs(an,{value:l.machineId,onValueChange:F=>u(W=>({...W,machineId:F})),children:[n.jsx(on,{id:"machine",children:n.jsx(rn,{placeholder:"Select a machine..."})}),n.jsx(ln,{children:R.map(F=>n.jsxs(it,{value:F.id,children:[F.name," - ",F.category]},F.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"type",children:"Document Type *"}),n.jsxs(an,{value:l.type,onValueChange:F=>u(W=>({...W,type:F})),children:[n.jsx(on,{id:"type",children:n.jsx(rn,{placeholder:"Select document type..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"Program Backup",children:"Program Backup"}),n.jsx(it,{value:"Operator Manual",children:"Operator Manual"}),n.jsx(it,{value:"Drawings",children:"Drawings"})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"file",children:"File *"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(nt,{id:"file",type:"file",onChange:$,className:"cursor-pointer"})}),d&&n.jsxs(Ie,{className:"p-3 flex items-center justify-between bg-muted",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tf,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:d.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(d.size/1024).toFixed(2)," KB)"]})]}),n.jsx(Ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(null),children:n.jsx(Sr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"name",children:"Document Name"}),n.jsx(nt,{id:"name",value:l.name,onChange:F=>u(W=>({...W,name:F.target.value})),placeholder:"Auto-populated from filename..."})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.type==="Program Backup"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"version",children:"Version"}),n.jsx(nt,{id:"version",value:l.version,onChange:F=>u(W=>({...W,version:F.target.value})),placeholder:"e.g., v2.3.1"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"controller",children:"Controller"}),n.jsx(nt,{id:"controller",value:l.controller,onChange:F=>u(W=>({...W,controller:F.target.value})),placeholder:"e.g., GXWorks3"})]})]}),l.type==="Drawings"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"revision",children:"Revision"}),n.jsx(nt,{id:"revision",value:l.revision,onChange:F=>u(W=>({...W,revision:F.target.value})),placeholder:"e.g., Rev C"})]}),l.type==="Operator Manual"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"version",children:"Version"}),n.jsx(nt,{id:"version",value:l.version,onChange:F=>u(W=>({...W,version:F.target.value})),placeholder:"e.g., v3.2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"createdBy",children:"Created By"}),n.jsx(nt,{id:"createdBy",value:l.createdBy,onChange:F=>u(W=>({...W,createdBy:F.target.value})),placeholder:"Your name"})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"releaseState",children:"Release State"}),n.jsxs(an,{value:l.releaseState,onValueChange:F=>u(W=>({...W,releaseState:F})),children:[n.jsx(on,{id:"releaseState",children:n.jsx(rn,{})}),n.jsxs(ln,{children:[n.jsx(it,{value:"draft",children:"Draft"}),n.jsx(it,{value:"approved",children:"Approved"})]})]})]}),l.releaseState==="approved"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"approvedBy",children:"Approved By"}),n.jsx(nt,{id:"approvedBy",value:l.approvedBy,onChange:F=>u(W=>({...W,approvedBy:F.target.value})),placeholder:"Approver name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"effectiveFrom",children:"Effective From"}),n.jsx(nt,{id:"effectiveFrom",type:"date",value:l.effectiveFrom,onChange:F=>u(W=>({...W,effectiveFrom:F.target.value}))})]})]})]}),l.type==="Drawings"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Associated Part Numbers"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(nt,{value:m,onChange:F=>p(F.target.value),placeholder:"Enter part number...",onKeyPress:F=>{F.key==="Enter"&&(F.preventDefault(),B())}}),n.jsx(Ue,{type:"button",variant:"outline",onClick:B,children:"Add"})]}),l.partNumbers.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.partNumbers.map(F=>n.jsxs(Ve,{variant:"secondary",className:"gap-1",children:[F,n.jsx(Sr,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>Y(F)})]},F))})]}),l.type==="Program Backup"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"supersedes",children:"Supersedes"}),n.jsx(nt,{id:"supersedes",value:l.supersedes,onChange:F=>u(W=>({...W,supersedes:F.target.value})),placeholder:"Previous document ID or version..."})]}),n.jsx(hn,{}),l.machineId&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Relationships (Optional)"}),U.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedECO",children:"Linked ECO"}),n.jsxs(an,{value:l.linkedECO,onValueChange:F=>u(W=>({...W,linkedECO:F})),children:[n.jsx(on,{id:"linkedECO",children:n.jsx(rn,{placeholder:"Select an ECO (optional)..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"none",children:"None"}),U.map(F=>n.jsxs(it,{value:F.id,children:[F.number," - ",F.title]},F.id))]})]})]}),G.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Linked Components"}),n.jsx(Ie,{className:"p-3 max-h-40 overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:G.slice(0,10).map(F=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted p-2 rounded",children:[n.jsx("input",{type:"checkbox",checked:l.linkedComponents.includes(F.id),onChange:()=>fe(F.id),className:"cursor-pointer"}),n.jsx("span",{className:"text-sm",children:F.name}),n.jsx(Ve,{variant:"outline",className:"text-xs ml-auto",children:F.partNumber})]},F.id))})}),l.linkedComponents.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.linkedComponents.length," component(s) selected"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"notes",children:"Notes"}),n.jsx(Qa,{id:"notes",value:l.notes,onChange:F=>u(W=>({...W,notes:F.target.value})),placeholder:"Additional notes about this document...",rows:3})]})]})}),n.jsxs(Uu,{className:"border-t pt-4",children:[n.jsx(Ue,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),n.jsxs(Ue,{type:"submit",form:"upload-document-form",disabled:j,children:[n.jsx(Jp,{className:"w-4 h-4 mr-2"}),j?"Uploading...":"Upload Document"]})]})]})})}var h0="Switch",[$9]=lo(h0),[Y9,K9]=$9(h0),UA=T.forwardRef((e,t)=>{const{__scopeSwitch:s,name:i,checked:o,defaultChecked:l,required:u,disabled:d,value:f="on",onCheckedChange:m,form:p,...x}=e,[N,y]=T.useState(null),C=Hn(t,R=>y(R)),M=T.useRef(!1),S=N?p||!!N.closest("form"):!0,[j,L]=Hl({prop:o,defaultProp:l??!1,onChange:m,caller:h0});return n.jsxs(Y9,{scope:s,checked:j,disabled:d,children:[n.jsx(Vt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":u,"data-state":GA(j),"data-disabled":d?"":void 0,disabled:d,value:f,...x,ref:C,onClick:Qt(e.onClick,R=>{L(D=>!D),S&&(M.current=R.isPropagationStopped(),M.current||R.stopPropagation())})}),S&&n.jsx(VA,{control:N,bubbles:!M.current,name:i,value:f,checked:j,required:u,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});UA.displayName=h0;var qA="SwitchThumb",Q9=T.forwardRef((e,t)=>{const{__scopeSwitch:s,...i}=e,o=K9(qA,s);return n.jsx(Vt.span,{"data-state":GA(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})});Q9.displayName=qA;var J9="SwitchBubbleInput",VA=T.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:i=!0,...o},l)=>{const u=T.useRef(null),d=Hn(u,l),f=bS(s),m=cS(t);return T.useEffect(()=>{const p=u.current;if(!p)return;const x=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==s&&y){const C=new Event("click",{bubbles:i});y.call(p,s),p.dispatchEvent(C)}},[f,s,i]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:d,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VA.displayName=J9;function GA(e){return e?"checked":"unchecked"}function WA({open:e,onOpenChange:t,allowedMachineIds:s}){const[i,o]=T.useState({machineId:"",title:"",content:"",category:"",priority:"medium",author:"",linkedECO:"",linkedWorkOrder:"",linkedComponents:[],linkedEvent:"",tags:[],isPrivate:!1}),[l,u]=T.useState(""),[d,f]=T.useState([]),m=s&&s.length>0?us.filter(U=>s.includes(U.id)):us,p=m.find(U=>U.id===i.machineId),x=so.filter(U=>U.machineId===i.machineId),N=ku.filter(U=>U.machineId===i.machineId),y=Wo.filter(U=>U.machineId===i.machineId);e&&s&&i.machineId&&!s.includes(i.machineId)&&queueMicrotask(()=>{o(U=>({...U,machineId:""}))});const C=U=>{const G=Array.from(U.target.files||[]);f($=>[...$,...G])},M=U=>{f(G=>G.filter(($,B)=>B!==U))},S=()=>{l.trim()&&!i.tags.includes(l.trim())&&(o(U=>({...U,tags:[...U.tags,l.trim()]})),u(""))},j=U=>{o(G=>({...G,tags:G.tags.filter($=>$!==U)}))},L=U=>{o(G=>({...G,linkedComponents:G.linkedComponents.includes(U)?G.linkedComponents.filter($=>$!==U):[...G.linkedComponents,U]}))},R=U=>{if(U.preventDefault(),!i.machineId){vn.error("Please select a machine");return}if(!i.title.trim()){vn.error("Please enter a note title");return}if(!i.content.trim()){vn.error("Please enter note content");return}if(!i.category){vn.error("Please select a category");return}console.log("Saving note:",{...i,attachments:d}),vn.success("Note added successfully",{description:`"${i.title}" has been added to ${p?.name}`}),D()},D=()=>{o({machineId:"",title:"",content:"",category:"",priority:"medium",author:"",linkedECO:"",linkedWorkOrder:"",linkedComponents:[],linkedEvent:"",tags:[],isPrivate:!1}),f([]),u(""),t(!1)};return n.jsx(Ha,{open:e,onOpenChange:t,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"Add Note"}),n.jsx(fi,{children:"Create a new note and associate it with a machine and related entities"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:n.jsxs("form",{id:"add-note-form",onSubmit:R,className:"space-y-6",children:[n.jsx(Ie,{className:"p-3 bg-muted border-border",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(xa,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Note Creation Guide"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a machine first to see available ECO, Work Order, and Component associations for this note"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine",children:"Machine *"}),n.jsxs(an,{value:i.machineId,onValueChange:U=>o(G=>({...G,machineId:U})),children:[n.jsx(on,{id:"machine",children:n.jsx(rn,{placeholder:"Select a machine..."})}),n.jsx(ln,{children:m.map(U=>n.jsxs(it,{value:U.id,children:[U.name," - ",U.category]},U.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"category",children:"Category *"}),n.jsxs(an,{value:i.category,onValueChange:U=>o(G=>({...G,category:U})),children:[n.jsx(on,{id:"category",children:n.jsx(rn,{placeholder:"Select category..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"General",children:"General"}),n.jsx(it,{value:"Maintenance",children:"Maintenance"}),n.jsx(it,{value:"Production",children:"Production"}),n.jsx(it,{value:"Quality",children:"Quality"}),n.jsx(it,{value:"Safety",children:"Safety"}),n.jsx(it,{value:"Training",children:"Training"}),n.jsx(it,{value:"Calibration",children:"Calibration"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"priority",children:"Priority"}),n.jsxs(an,{value:i.priority,onValueChange:U=>o(G=>({...G,priority:U})),children:[n.jsx(on,{id:"priority",children:n.jsx(rn,{})}),n.jsxs(ln,{children:[n.jsx(it,{value:"low",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"Low"]})}),n.jsx(it,{value:"medium",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"Medium"]})}),n.jsx(it,{value:"high",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-red-600"}),"High"]})})]})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"title",children:"Title *"}),n.jsx(nt,{id:"title",value:i.title,onChange:U=>o(G=>({...G,title:U.target.value})),placeholder:"Brief summary of the note..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"content",children:"Content *"}),n.jsx(Qa,{id:"content",value:i.content,onChange:U=>o(G=>({...G,content:U.target.value})),placeholder:"Detailed note content...",rows:6})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"author",children:"Author"}),n.jsx(nt,{id:"author",value:i.author,onChange:U=>o(G=>({...G,author:U.target.value})),placeholder:"Your name"})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"attachments",children:"Attachments"}),n.jsx(nt,{id:"attachments",type:"file",onChange:C,multiple:!0,className:"cursor-pointer"}),d.length>0&&n.jsx("div",{className:"space-y-2 mt-2",children:d.map((U,G)=>n.jsxs(Ie,{className:"p-3 flex items-center justify-between bg-muted",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ep,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:U.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(U.size/1024).toFixed(2)," KB)"]})]}),n.jsx(Ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(G),children:n.jsx(Sr,{className:"w-4 h-4"})})]},G))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Tags"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(nt,{value:l,onChange:U=>u(U.target.value),placeholder:"Add tags...",onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),S())}}),n.jsx(Ue,{type:"button",variant:"outline",onClick:S,children:"Add"})]}),i.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map(U=>n.jsxs(Ve,{variant:"secondary",className:"gap-1",children:[U,n.jsx(Sr,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>j(U)})]},U))})]}),n.jsx(hn,{}),i.machineId&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Relationships (Optional)"}),x.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedECO",children:"Linked ECO"}),n.jsxs(an,{value:i.linkedECO,onValueChange:U=>o(G=>({...G,linkedECO:U})),children:[n.jsx(on,{id:"linkedECO",children:n.jsx(rn,{placeholder:"Select an ECO (optional)..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"none",children:"None"}),x.map(U=>n.jsxs(it,{value:U.id,children:[U.number," - ",U.title]},U.id))]})]})]}),N.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedWorkOrder",children:"Linked Work Order"}),n.jsxs(an,{value:i.linkedWorkOrder,onValueChange:U=>o(G=>({...G,linkedWorkOrder:U})),children:[n.jsx(on,{id:"linkedWorkOrder",children:n.jsx(rn,{placeholder:"Select a work order (optional)..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"none",children:"None"}),N.map(U=>n.jsxs(it,{value:U.id,children:[U.id," - ",U.description]},U.id))]})]})]}),y.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Linked Components"}),n.jsx(Ie,{className:"p-3 max-h-40 overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:y.slice(0,10).map(U=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted p-2 rounded",children:[n.jsx("input",{type:"checkbox",checked:i.linkedComponents.includes(U.id),onChange:()=>L(U.id),className:"cursor-pointer"}),n.jsx("span",{className:"text-sm",children:U.name}),n.jsx(Ve,{variant:"outline",className:"text-xs ml-auto",children:U.partNumber})]},U.id))})}),i.linkedComponents.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.linkedComponents.length," component(s) selected"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Be,{htmlFor:"private",children:"Private Note"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Only visible to administrators and supervisors"})]}),n.jsx(UA,{id:"private",checked:i.isPrivate,onCheckedChange:U=>o(G=>({...G,isPrivate:U}))})]})]})}),n.jsxs(Uu,{className:"border-t pt-4",children:[n.jsx(Ue,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),n.jsxs(Ue,{type:"submit",form:"add-note-form",children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Add Note"]})]})]})})}function XA({open:e,onOpenChange:t,allowedMachineIds:s}){const[i,o]=T.useState({machineId:"",eventType:"",severity:"medium",startTime:"",endTime:"",description:"",rootCause:"",resolutionNotes:"",reporter:"",resolvedBy:"",status:"open",linkedECO:"",linkedWorkOrder:"",linkedComponents:[],linkedRCA:"",unitsAffected:"",scrapCount:"",downtime:""}),[l,u]=T.useState([]),[d,f]=T.useState([]),[m,p]=T.useState([]),[x,N]=T.useState([]),[y,C]=T.useState([]),[M,S]=T.useState(!1);T.useEffect(()=>{async function P(){try{const[F,W,te,z]=await Promise.all([oo(),Ul(),Bc(),Yp()]);f(F&&F.length>0?F:us),p(W&&W.length>0?W:so),N(te&&te.length>0?te:ku),C(z&&z.length>0?z:Wo)}catch(F){console.error("Error loading data:",F),f(us),p(so),N(ku),C(Wo)}}e&&P()},[e]),T.useEffect(()=>{e&&s&&i.machineId&&!s.includes(i.machineId)&&o(P=>({...P,machineId:""}))},[e,s,i.machineId]);const j=s&&s.length>0?d.filter(P=>s.includes(P.id)):d,L=j.find(P=>P.id===i.machineId),R=m.filter(P=>P.machineId===i.machineId),D=x.filter(P=>P.machineId===i.machineId),U=y.filter(P=>P.machineId===i.machineId),G=P=>{const F=Array.from(P.target.files||[]);u(W=>[...W,...F])},$=P=>{u(F=>F.filter((W,te)=>te!==P))},B=P=>{o(F=>({...F,linkedComponents:F.linkedComponents.includes(P)?F.linkedComponents.filter(W=>W!==P):[...F.linkedComponents,P]}))},Y=()=>{if(i.startTime&&i.endTime){const P=new Date(i.startTime),W=new Date(i.endTime).getTime()-P.getTime(),te=Math.floor(W/6e4),z=Math.floor(te/60),K=te%60;return`${z}h ${K}m`}return""},fe=async P=>{if(P.preventDefault(),!i.machineId){vn.error("Please select a machine");return}if(!i.eventType){vn.error("Please select an event type");return}if(!i.startTime){vn.error("Please enter a start time");return}if(!i.description.trim()){vn.error("Please enter an event description");return}S(!0);try{const F={id:`E${Date.now()}`,machineId:i.machineId,machineName:L?.name||"",type:i.eventType,description:i.description,timestamp:new Date(i.startTime).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")};await uk(F),vn.success("Event logged successfully",{description:`${i.eventType} event has been logged for ${L?.name}`}),V()}catch(F){console.error("Error logging event:",F),vn.error("Failed to log event")}finally{S(!1)}},V=()=>{o({machineId:"",eventType:"",severity:"medium",startTime:"",endTime:"",description:"",rootCause:"",resolutionNotes:"",reporter:"",resolvedBy:"",status:"open",linkedECO:"",linkedWorkOrder:"",linkedComponents:[],linkedRCA:"",unitsAffected:"",scrapCount:"",downtime:""}),u([]),t(!1)};return n.jsx(Ha,{open:e,onOpenChange:t,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"Log Event"}),n.jsx(fi,{children:"Record a machine event with details and associate it with related entities"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:n.jsxs("form",{id:"log-event-form",onSubmit:fe,className:"space-y-6",children:[n.jsx(Ie,{className:"p-3 bg-muted border-border",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(xa,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Event Logging Guide"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a machine first to see available ECO, Work Order, and Component associations for this event"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine",children:"Machine *"}),n.jsxs(an,{value:i.machineId,onValueChange:P=>o(F=>({...F,machineId:P})),children:[n.jsx(on,{id:"machine",children:n.jsx(rn,{placeholder:"Select a machine..."})}),n.jsx(ln,{children:j.map(P=>n.jsxs(it,{value:P.id,children:[P.name," - ",P.category]},P.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"eventType",children:"Event Type *"}),n.jsxs(an,{value:i.eventType,onValueChange:P=>o(F=>({...F,eventType:P})),children:[n.jsx(on,{id:"eventType",children:n.jsx(rn,{placeholder:"Select event type..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"Downtime",children:"Downtime"}),n.jsx(it,{value:"Quality Issue",children:"Quality Issue"}),n.jsx(it,{value:"Safety Incident",children:"Safety Incident"}),n.jsx(it,{value:"Alarm",children:"Alarm"}),n.jsx(it,{value:"Maintenance",children:"Maintenance"}),n.jsx(it,{value:"Production Milestone",children:"Production Milestone"}),n.jsx(it,{value:"Calibration",children:"Calibration"}),n.jsx(it,{value:"Component Failure",children:"Component Failure"}),n.jsx(it,{value:"Process Deviation",children:"Process Deviation"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"severity",children:"Severity"}),n.jsxs(an,{value:i.severity,onValueChange:P=>o(F=>({...F,severity:P})),children:[n.jsx(on,{id:"severity",children:n.jsx(rn,{})}),n.jsxs(ln,{children:[n.jsx(it,{value:"low",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"Low"]})}),n.jsx(it,{value:"medium",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"Medium"]})}),n.jsx(it,{value:"high",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground"}),"High"]})}),n.jsx(it,{value:"critical",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-red-600"}),"Critical"]})})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"status",children:"Status"}),n.jsxs(an,{value:i.status,onValueChange:P=>o(F=>({...F,status:P})),children:[n.jsx(on,{id:"status",children:n.jsx(rn,{})}),n.jsxs(ln,{children:[n.jsx(it,{value:"open",children:"Open"}),n.jsx(it,{value:"in-progress",children:"In Progress"}),n.jsx(it,{value:"resolved",children:"Resolved"})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"startTime",children:"Start Time *"}),n.jsx(nt,{id:"startTime",type:"datetime-local",value:i.startTime,onChange:P=>o(F=>({...F,startTime:P.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"endTime",children:"End Time"}),n.jsx(nt,{id:"endTime",type:"datetime-local",value:i.endTime,onChange:P=>o(F=>({...F,endTime:P.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Duration"}),n.jsxs("div",{className:"flex items-center h-10 px-3 border rounded-md bg-muted",children:[n.jsx(Xo,{className:"w-4 h-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:Y()||"Auto-calculated"})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"description",children:"Description *"}),n.jsx(Qa,{id:"description",value:i.description,onChange:P=>o(F=>({...F,description:P.target.value})),placeholder:"Detailed description of what happened...",rows:4})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"rootCause",children:"Root Cause"}),n.jsx(Qa,{id:"rootCause",value:i.rootCause,onChange:P=>o(F=>({...F,rootCause:P.target.value})),placeholder:"Identified root cause...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"resolutionNotes",children:"Resolution Notes"}),n.jsx(Qa,{id:"resolutionNotes",value:i.resolutionNotes,onChange:P=>o(F=>({...F,resolutionNotes:P.target.value})),placeholder:"How was this resolved...",rows:3})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Impact Metrics (Optional)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"unitsAffected",children:"Units Affected"}),n.jsx(nt,{id:"unitsAffected",type:"number",value:i.unitsAffected,onChange:P=>o(F=>({...F,unitsAffected:P.target.value})),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"scrapCount",children:"Scrap Count"}),n.jsx(nt,{id:"scrapCount",type:"number",value:i.scrapCount,onChange:P=>o(F=>({...F,scrapCount:P.target.value})),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"downtime",children:"Downtime (minutes)"}),n.jsx(nt,{id:"downtime",type:"number",value:i.downtime,onChange:P=>o(F=>({...F,downtime:P.target.value})),placeholder:"0"})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"reporter",children:"Reported By"}),n.jsx(nt,{id:"reporter",value:i.reporter,onChange:P=>o(F=>({...F,reporter:P.target.value})),placeholder:"Your name"})]}),i.status==="resolved"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"resolvedBy",children:"Resolved By"}),n.jsx(nt,{id:"resolvedBy",value:i.resolvedBy,onChange:P=>o(F=>({...F,resolvedBy:P.target.value})),placeholder:"Resolver name"})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"evidence",children:"Evidence/Attachments"}),n.jsx(nt,{id:"evidence",type:"file",onChange:G,multiple:!0,className:"cursor-pointer"}),l.length>0&&n.jsx("div",{className:"space-y-2 mt-2",children:l.map((P,F)=>n.jsxs(Ie,{className:"p-3 flex items-center justify-between bg-muted",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ep,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:P.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(P.size/1024).toFixed(2)," KB)"]})]}),n.jsx(Ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(F),children:n.jsx(Sr,{className:"w-4 h-4"})})]},F))})]}),n.jsx(hn,{}),i.machineId&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{children:"Relationships (Optional)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedECO",children:"Linked ECO"}),n.jsxs(an,{value:i.linkedECO,onValueChange:P=>o(F=>({...F,linkedECO:P})),children:[n.jsx(on,{id:"linkedECO",children:n.jsx(rn,{placeholder:"Select ECO..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"none",children:"None"}),R.map(P=>n.jsxs(it,{value:P.id,children:[P.number," - ",P.title]},P.id))]})]})]}),D.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedWorkOrder",children:"Linked Work Order"}),n.jsxs(an,{value:i.linkedWorkOrder,onValueChange:P=>o(F=>({...F,linkedWorkOrder:P})),children:[n.jsx(on,{id:"linkedWorkOrder",children:n.jsx(rn,{placeholder:"Select WO..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"none",children:"None"}),D.map(P=>n.jsxs(it,{value:P.id,children:[P.id," - ",P.description]},P.id))]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"linkedRCA",children:"Linked RCA"}),n.jsx(nt,{id:"linkedRCA",value:i.linkedRCA,onChange:P=>o(F=>({...F,linkedRCA:P.target.value})),placeholder:"RCA ID or reference..."})]}),U.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Linked Components"}),n.jsx(Ie,{className:"p-3 max-h-40 overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:U.slice(0,10).map(P=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted p-2 rounded",children:[n.jsx("input",{type:"checkbox",checked:i.linkedComponents.includes(P.id),onChange:()=>B(P.id),className:"cursor-pointer"}),n.jsx("span",{className:"text-sm",children:P.name}),n.jsx(Ve,{variant:"outline",className:"text-xs ml-auto",children:P.partNumber})]},P.id))})}),i.linkedComponents.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.linkedComponents.length," component(s) selected"]})]})]})]})}),n.jsxs(Uu,{className:"border-t pt-4",children:[n.jsx(Ue,{type:"button",variant:"outline",onClick:V,children:"Cancel"}),n.jsxs(Ue,{type:"submit",form:"log-event-form",disabled:M,children:[n.jsx(xa,{className:"w-4 h-4 mr-2"}),M?"Logging...":"Log Event"]})]})]})})}const Pw=e=>({request:{receiptNumber:e.request?.receiptNumber??"",date:e.request?.date??"",machineName:e.request?.machineName??"",machineNumber:e.request?.machineNumber??"",parkLinkRailModification:e.request?.parkLinkRailModification??!1,controlPlanUpdate:e.request?.controlPlanUpdate??!1,pfmeaUpdate:e.request?.pfmeaUpdate??!1,requestedDueDate:e.request?.requestedDueDate??"",requestedBy:e.request?.requestedBy??"",confirmedBy:e.request?.confirmedBy??""},engineering:{mechanical:{description:e.engineering?.mechanical?.description??"",printNumber:e.engineering?.mechanical?.printNumber??"",designLocation:e.engineering?.mechanical?.designLocation??"",installLocation:e.engineering?.mechanical?.installLocation??"",testType:e.engineering?.mechanical?.testType??"",consumablesOrSoftware:e.engineering?.mechanical?.consumablesOrSoftware??"",componentCost:e.engineering?.mechanical?.componentCost??"",additionalNotes:e.engineering?.mechanical?.additionalNotes??""},electrical:{description:e.engineering?.electrical?.description??"",printNumber:e.engineering?.electrical?.printNumber??"",designLocation:e.engineering?.electrical?.designLocation??"",installLocation:e.engineering?.electrical?.installLocation??"",testType:e.engineering?.electrical?.testType??"",consumablesOrSoftware:e.engineering?.electrical?.consumablesOrSoftware??"",componentCost:e.engineering?.electrical?.componentCost??"",additionalNotes:e.engineering?.electrical?.additionalNotes??""},documentationNotes:e.engineering?.documentationNotes??"",totalCost:e.engineering?.totalCost??"",hours:e.engineering?.hours??""},approvals:{preparedBy:e.approvals?.preparedBy??"",confirmedBy:e.approvals?.confirmedBy??"",checkedBy:e.approvals?.checkedBy??"",engineer:e.approvals?.engineer??"",engineerDate:e.approvals?.engineerDate??""}});function eI({value:e,onChange:t}){T.useEffect(()=>{t(Pw(e))},[]);const s=Pw(e),i=o=>{t(o(s))};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Ie,{className:"p-4 space-y-3",children:[n.jsx("h3",{className:"font-semibold text-foreground text-sm uppercase tracking-wide",children:"Requestor Section"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-receipt",children:"Receipt No."}),n.jsx(nt,{id:"modsheet-receipt",value:s.request.receiptNumber,onChange:o=>i(l=>({...l,request:{...l.request,receiptNumber:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-date",children:"Date"}),n.jsx(nt,{id:"modsheet-date",type:"date",value:s.request.date,onChange:o=>i(l=>({...l,request:{...l.request,date:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-machine-name",children:"Machine Name"}),n.jsx(nt,{id:"modsheet-machine-name",value:s.request.machineName,onChange:o=>i(l=>({...l,request:{...l.request,machineName:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-machine-number",children:"Machine No."}),n.jsx(nt,{id:"modsheet-machine-number",value:s.request.machineNumber,onChange:o=>i(l=>({...l,request:{...l.request,machineNumber:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{children:"Park Link Rail Modification"}),n.jsxs(an,{value:s.request.parkLinkRailModification?"yes":"no",onValueChange:o=>i(l=>({...l,request:{...l.request,parkLinkRailModification:o==="yes"}})),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Select"})}),n.jsxs(ln,{children:[n.jsx(it,{value:"yes",children:"Yes"}),n.jsx(it,{value:"no",children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx(Be,{children:"Control Plan Update"}),n.jsxs(an,{value:s.request.controlPlanUpdate?"yes":"no",onValueChange:o=>i(l=>({...l,request:{...l.request,controlPlanUpdate:o==="yes"}})),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Select"})}),n.jsxs(ln,{children:[n.jsx(it,{value:"yes",children:"Yes"}),n.jsx(it,{value:"no",children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx(Be,{children:"PFMEA Update"}),n.jsxs(an,{value:s.request.pfmeaUpdate?"yes":"no",onValueChange:o=>i(l=>({...l,request:{...l.request,pfmeaUpdate:o==="yes"}})),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Select"})}),n.jsxs(ln,{children:[n.jsx(it,{value:"yes",children:"Yes"}),n.jsx(it,{value:"no",children:"No"})]})]})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-requested-date",children:"Requested Due Date"}),n.jsx(nt,{id:"modsheet-requested-date",type:"date",value:s.request.requestedDueDate,onChange:o=>i(l=>({...l,request:{...l.request,requestedDueDate:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-requested-by",children:"Requested By"}),n.jsx(nt,{id:"modsheet-requested-by",value:s.request.requestedBy,onChange:o=>i(l=>({...l,request:{...l.request,requestedBy:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-confirmed-by",children:"Confirmed By"}),n.jsx(nt,{id:"modsheet-confirmed-by",value:s.request.confirmedBy,onChange:o=>i(l=>({...l,request:{...l.request,confirmedBy:o.target.value}}))})]})]})]}),n.jsxs(Ie,{className:"p-4 space-y-4",children:[n.jsx("h3",{className:"font-semibold text-foreground text-sm uppercase tracking-wide",children:"Mechanical Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Be,{htmlFor:"modsheet-mech-description",children:"Mechanical Description"}),n.jsx(Qa,{id:"modsheet-mech-description",rows:4,value:s.engineering.mechanical.description,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,description:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-mech-print",children:"Print Number"}),n.jsx(nt,{id:"modsheet-mech-print",value:s.engineering.mechanical.printNumber,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,printNumber:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-mech-design",children:"Design Location"}),n.jsx(nt,{id:"modsheet-mech-design",value:s.engineering.mechanical.designLocation,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,designLocation:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-mech-install",children:"Install Location"}),n.jsx(nt,{id:"modsheet-mech-install",value:s.engineering.mechanical.installLocation,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,installLocation:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-mech-test",children:"Test Type"}),n.jsx(nt,{id:"modsheet-mech-test",value:s.engineering.mechanical.testType,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,testType:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-mech-consumables",children:"Consumables / Software"}),n.jsx(nt,{id:"modsheet-mech-consumables",value:s.engineering.mechanical.consumablesOrSoftware,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,consumablesOrSoftware:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-mech-cost",children:"Component Cost"}),n.jsx(nt,{id:"modsheet-mech-cost",value:s.engineering.mechanical.componentCost,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,componentCost:o.target.value}}}))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Be,{htmlFor:"modsheet-mech-notes",children:"Additional Notes"}),n.jsx(Qa,{id:"modsheet-mech-notes",rows:3,value:s.engineering.mechanical.additionalNotes,onChange:o=>i(l=>({...l,engineering:{...l.engineering,mechanical:{...l.engineering.mechanical,additionalNotes:o.target.value}}}))})]})]})]}),n.jsxs(Ie,{className:"p-4 space-y-4",children:[n.jsx("h3",{className:"font-semibold text-foreground text-sm uppercase tracking-wide",children:"Electrical Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Be,{htmlFor:"modsheet-elec-description",children:"Electrical Description"}),n.jsx(Qa,{id:"modsheet-elec-description",rows:4,value:s.engineering.electrical.description,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,description:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-elec-print",children:"Print Number"}),n.jsx(nt,{id:"modsheet-elec-print",value:s.engineering.electrical.printNumber,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,printNumber:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-elec-design",children:"Design Location"}),n.jsx(nt,{id:"modsheet-elec-design",value:s.engineering.electrical.designLocation,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,designLocation:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-elec-install",children:"Install Location"}),n.jsx(nt,{id:"modsheet-elec-install",value:s.engineering.electrical.installLocation,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,installLocation:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-elec-test",children:"Test Type"}),n.jsx(nt,{id:"modsheet-elec-test",value:s.engineering.electrical.testType,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,testType:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-elec-plc",children:"PLC / Software Backup"}),n.jsx(nt,{id:"modsheet-elec-plc",value:s.engineering.electrical.consumablesOrSoftware,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,consumablesOrSoftware:o.target.value}}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-elec-cost",children:"Component Cost"}),n.jsx(nt,{id:"modsheet-elec-cost",value:s.engineering.electrical.componentCost,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,componentCost:o.target.value}}}))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Be,{htmlFor:"modsheet-elec-notes",children:"Additional Notes"}),n.jsx(Qa,{id:"modsheet-elec-notes",rows:3,value:s.engineering.electrical.additionalNotes,onChange:o=>i(l=>({...l,engineering:{...l.engineering,electrical:{...l.engineering.electrical,additionalNotes:o.target.value}}}))})]})]})]}),n.jsxs(Ie,{className:"p-4 space-y-3",children:[n.jsx("h3",{className:"font-semibold text-foreground text-sm uppercase tracking-wide",children:"Documentation & Totals"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-total-cost",children:"Total Cost"}),n.jsx(nt,{id:"modsheet-total-cost",value:s.engineering.totalCost,onChange:o=>i(l=>({...l,engineering:{...l.engineering,totalCost:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-hours",children:"Hours"}),n.jsx(nt,{id:"modsheet-hours",value:s.engineering.hours,onChange:o=>i(l=>({...l,engineering:{...l.engineering,hours:o.target.value}}))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Be,{htmlFor:"modsheet-docs",children:"Related Documentation / Notes"}),n.jsx(Qa,{id:"modsheet-docs",rows:3,value:s.engineering.documentationNotes,onChange:o=>i(l=>({...l,engineering:{...l.engineering,documentationNotes:o.target.value}}))})]})]})]}),n.jsxs(Ie,{className:"p-4 space-y-3",children:[n.jsx("h3",{className:"font-semibold text-foreground text-sm uppercase tracking-wide",children:"Approvals"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-prepared-by",children:"Prepared By"}),n.jsx(nt,{id:"modsheet-prepared-by",value:s.approvals?.preparedBy??"",onChange:o=>i(l=>({...l,approvals:{...l.approvals,preparedBy:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-confirmed-by-approver",children:"Confirmed By"}),n.jsx(nt,{id:"modsheet-confirmed-by-approver",value:s.approvals?.confirmedBy??"",onChange:o=>i(l=>({...l,approvals:{...l.approvals,confirmedBy:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-checked-by",children:"Checked By"}),n.jsx(nt,{id:"modsheet-checked-by",value:s.approvals?.checkedBy??"",onChange:o=>i(l=>({...l,approvals:{...l.approvals,checkedBy:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-engineer",children:"Engineer"}),n.jsx(nt,{id:"modsheet-engineer",value:s.approvals?.engineer??"",onChange:o=>i(l=>({...l,approvals:{...l.approvals,engineer:o.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(Be,{htmlFor:"modsheet-engineer-date",children:"Engineer Date"}),n.jsx(nt,{id:"modsheet-engineer-date",type:"date",value:s.approvals?.engineerDate??"",onChange:o=>i(l=>({...l,approvals:{...l.approvals,engineerDate:o.target.value}}))})]})]})]})]})}function ZA({open:e,onOpenChange:t,prefilledMachine:s,allowedMachineIds:i}){const[o,l]=T.useState({machineId:s?.id||"",number:"",title:"",type:"",description:"",reason:"",requestedBy:"",effectiveFrom:"",rollbackPlan:""}),[u,d]=T.useState({request:{},engineering:{mechanical:{},electrical:{}},approvals:{}}),[f,m]=T.useState([]),[p,x]=T.useState(!1);T.useEffect(()=>{async function S(){try{const j=await oo();m(j&&j.length>0?j:us)}catch(j){console.error("Error loading machines:",j),m(us)}}e&&S()},[e]),T.useEffect(()=>{e&&s&&l(S=>({...S,machineId:s.id}))},[e,s]);const N=i&&i.length>0?f.filter(S=>i.includes(S.id)):f,y=N.find(S=>S.id===o.machineId);T.useEffect(()=>{y&&d(S=>({...S,request:{...S.request,machineName:y.name,machineNumber:y.id}}))},[y]);const C=async S=>{if(S.preventDefault(),!o.machineId){vn.error("Please select a machine");return}if(!o.number.trim()){vn.error("Please enter an ECO number");return}if(!o.title.trim()){vn.error("Please enter an ECO title");return}if(!o.type){vn.error("Please select an ECO type");return}if(!o.description.trim()){vn.error("Please enter an ECO description");return}if(!o.reason){vn.error("Please select a reason");return}x(!0);try{const j={id:`ECO-${Date.now()}`,machineId:o.machineId,machineName:y?.name||"",number:o.number,title:o.title,type:o.type,status:"draft",description:o.description,reason:o.reason,requestedBy:o.requestedBy,effectiveFrom:o.effectiveFrom,rollbackPlan:o.rollbackPlan,date:new Date().toISOString().split("T")[0],modSheet:u};await fk(j),vn.success("ECO created successfully",{description:`${o.number} - ${o.title} has been created for ${y?.name}`}),M()}catch(j){console.error("Error creating ECO:",j),vn.error("Failed to create ECO")}finally{x(!1)}},M=()=>{l({machineId:s?.id||"",number:"",title:"",type:"",description:"",reason:"",requestedBy:"",effectiveFrom:"",rollbackPlan:""}),d({request:{},engineering:{mechanical:{},electrical:{}},approvals:{}}),t(!1)};return n.jsx(Ha,{open:e,onOpenChange:t,children:n.jsxs(Ma,{className:"max-w-[calc(100%-2rem)] sm:max-w-[90vw] max-h-[85vh]",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"Create ECO"}),n.jsx(fi,{children:"Create a new Engineering Change Order and associate it with a machine"})]}),n.jsx("div",{className:"overflow-y-auto max-h-[60vh] space-y-3",children:n.jsxs("form",{id:"create-eco-form",onSubmit:C,className:"space-y-6",children:[n.jsx(Ie,{className:"p-3 bg-muted border-border",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(xa,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"ECO Creation Guide"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Engineering Change Orders track modifications to machines, processes, or documentation"})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine",children:"Machine *"}),n.jsxs(an,{value:o.machineId,onValueChange:S=>l(j=>({...j,machineId:S})),children:[n.jsx(on,{id:"machine",children:n.jsx(rn,{placeholder:"Select a machine..."})}),n.jsx(ln,{children:N.map(S=>n.jsxs(it,{value:S.id,children:[S.name," - ",S.category]},S.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"number",children:"ECO Number *"}),n.jsx(nt,{id:"number",value:o.number,onChange:S=>l(j=>({...j,number:S.target.value})),placeholder:"e.g., ECO-2024-001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"title",children:"Title *"}),n.jsx(nt,{id:"title",value:o.title,onChange:S=>l(j=>({...j,title:S.target.value})),placeholder:"Brief title of the change"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"type",children:"Type *"}),n.jsxs(an,{value:o.type,onValueChange:S=>l(j=>({...j,type:S})),children:[n.jsx(on,{id:"type",children:n.jsx(rn,{placeholder:"Select ECO type..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"Software",children:"Software"}),n.jsx(it,{value:"Hardware",children:"Hardware"}),n.jsx(it,{value:"Process",children:"Process"}),n.jsx(it,{value:"Documentation",children:"Documentation"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"reason",children:"Reason *"}),n.jsxs(an,{value:o.reason,onValueChange:S=>l(j=>({...j,reason:S})),children:[n.jsx(on,{id:"reason",children:n.jsx(rn,{placeholder:"Select reason..."})}),n.jsxs(ln,{children:[n.jsx(it,{value:"safety",children:"Safety"}),n.jsx(it,{value:"quality",children:"Quality"}),n.jsx(it,{value:"cost",children:"Cost"}),n.jsx(it,{value:"capacity",children:"Capacity"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"description",children:"Description *"}),n.jsx(Qa,{id:"description",value:o.description,onChange:S=>l(j=>({...j,description:S.target.value})),placeholder:"Detailed description of the change...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"requestedBy",children:"Requested By"}),n.jsx(nt,{id:"requestedBy",value:o.requestedBy,onChange:S=>l(j=>({...j,requestedBy:S.target.value})),placeholder:"Your name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"effectiveFrom",children:"Effective From"}),n.jsx(nt,{id:"effectiveFrom",type:"date",value:o.effectiveFrom,onChange:S=>l(j=>({...j,effectiveFrom:S.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"rollbackPlan",children:"Rollback Plan"}),n.jsx(Qa,{id:"rollbackPlan",value:o.rollbackPlan,onChange:S=>l(j=>({...j,rollbackPlan:S.target.value})),placeholder:"Plan for reverting this change if needed...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Mod Sheet Details"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete the digital mod sheet to capture mechanical and electrical work requirements."}),n.jsx(eI,{value:u,onChange:d})]})]})}),n.jsxs(Uu,{className:"border-t pt-4",children:[n.jsx(Ue,{type:"button",variant:"outline",onClick:M,children:"Cancel"}),n.jsxs(Ue,{type:"submit",form:"create-eco-form",disabled:p,children:[n.jsx(bf,{className:"w-4 h-4 mr-2"}),p?"Creating...":"Create ECO"]})]})]})})}const tI=(e,t)=>t<=0?0:Math.round(e/t*100),nI=[{id:"machines:down",evaluate:({machines:e})=>{const t=e.filter(o=>o.status==="down"),s=e.filter(o=>o.status==="maintenance"),i=t.length+s.length;return i>=5?{id:"machines:down",title:"Multiple machines unavailable",message:`${i} machines are down or in maintenance. Prioritise triage to restore throughput.`,severity:"critical",relatedMachines:[...t.map(o=>o.id),...s.map(o=>o.id)],meta:{down:t.map(o=>o.id),maintenance:s.map(o=>o.id)}}:i>=3?{id:"machines:down",title:"Machines require attention",message:`${i} machines are offline. Review maintenance queue to prevent bottlenecks.`,severity:"warning",relatedMachines:[...t.map(o=>o.id),...s.map(o=>o.id)],meta:{down:t.map(o=>o.id),maintenance:s.map(o=>o.id)}}:null}},{id:"workorders:backlog",evaluate:({workOrders:e})=>{const t=e.filter(s=>s.status==="open"||s.status==="awaiting-parts"||s.status==="in-progress");return t.length>=12?{id:"workorders:backlog",title:"Maintenance backlog high",message:`${t.length} work orders remain unresolved. Consider rebalancing resources.`,severity:"critical",relatedWorkOrders:t.map(s=>s.id),meta:{openIds:t.map(s=>s.id)}}:t.length>=8?{id:"workorders:backlog",title:"Maintenance backlog growing",message:`${t.length} work orders are still open.`,severity:"warning",relatedWorkOrders:t.map(s=>s.id),meta:{openIds:t.map(s=>s.id)}}:null}},{id:"shipping:backlog",evaluate:({shippingOrders:e})=>{const t=e.filter(s=>s.status!=="shipped");return t.length>=10?{id:"shipping:backlog",title:"Shipping backlog critical",message:`${t.length} orders are waiting to ship.`,severity:"critical",relatedShippingOrders:t.map(s=>s.id),meta:{orderIds:t.map(s=>s.id)}}:t.length>=6?{id:"shipping:backlog",title:"Shipping backlog warning",message:`${t.length} orders remain in staging.`,severity:"warning",relatedShippingOrders:t.map(s=>s.id),meta:{orderIds:t.map(s=>s.id)}}:null}},{id:"ecos:review",evaluate:({ecos:e})=>{const t=e.filter(s=>s.status==="review");return t.length>=5?{id:"ecos:review",title:"ECO reviews piling up",message:`${t.length} engineering change orders are waiting for approval.`,severity:"warning",relatedEcos:t.map(s=>s.id),meta:{ecoIds:t.map(s=>s.id)}}:null}},{id:"machines:scrap-spike",evaluate:({machines:e})=>{const s=e.filter(l=>(l.todayTarget??0)>0).map(l=>{const u=l.todayTarget??0,d=l.todayScrap??0,f=tI(d,u);return{machine:l,ratio:f}}).filter(l=>l.ratio>=15);if(s.length===0)return null;const i=s.sort((l,u)=>u.ratio-l.ratio)[0],o=i.ratio>=25?"critical":"warning";return{id:"machines:scrap-spike",title:"Scrap spike detected",message:`${i.machine.name} is at ${i.ratio}% scrap against plan.`,severity:o,relatedMachines:[i.machine.id],meta:{machineId:i.machine.id,ratio:i.ratio}}}}];async function sI(e){return e.id,e.title,e.message,e.severity,e.triggeredAt,e.relatedMachines,e.relatedWorkOrders,e.relatedShippingOrders,e.relatedEcos,[]}const $A=T.createContext(null),aI=6e4;function iI({children:e}){const[t,s]=T.useState([]),[i,o]=T.useState(!0),[l,u]=T.useState(null),d=T.useRef([]),f=T.useRef(new Set),m=T.useRef(null),p=T.useCallback(async C=>{try{o($=>$&&d.current.length===0),u(null);const[M,S,j,L,R]=await Promise.all([oo(),Bc(),Kp(),Ul(),Ih()]),D={machines:M,workOrders:S,shippingOrders:j,ecos:L,events:R},U=nI.map($=>$.evaluate(D)).filter($=>$!==null),G=[];if(s($=>{const B=new Map($.map(V=>[V.id,V])),Y=U.map(V=>{const P=B.get(V.id),F=P?.triggeredAt??new Date().toISOString();return P||G.push({...V,triggeredAt:F}),{...V,triggeredAt:F}});d.current=Y;const fe=new Set(Y.map(V=>V.id));for(const V of Array.from(f.current))fe.has(V)||f.current.delete(V);if(!C)for(const V of G)f.current.add(V.id);return Y}),C)for(const $ of G)vn($.title,{description:$.message,className:$.severity==="critical"?"bg-destructive text-destructive-foreground":$.severity==="warning"?"bg-amber-500/80 text-foreground":void 0}),f.current.add($.id),$.severity==="critical"&&sI($).catch(B=>{console.warn("External alert notification failed",B)})}catch(M){console.error("Failed to evaluate alerts",M),u(M instanceof Error?M.message:"Failed to evaluate alerts")}finally{o(!1)}},[]),x=T.useCallback(async()=>{await p(!0)},[p]);T.useEffect(()=>{p(!1);const C=window.setInterval(()=>{p(!0)},aI);return m.current=C,()=>{m.current&&window.clearInterval(m.current)}},[p]);const N=T.useCallback(C=>{s(M=>M.filter(S=>S.id!==C)),f.current.delete(C)},[]),y=T.useMemo(()=>({alerts:t,loading:i,error:l,dismissAlert:N,refreshAlerts:x}),[t,i,l,N,x]);return n.jsx($A.Provider,{value:y,children:e})}const qh=()=>{const e=T.useContext($A);if(!e)throw new Error("useAlerts must be used within an AlertProvider");return e},rI={critical:"bg-destructive text-destructive-foreground",warning:"bg-amber-500/80 text-foreground",info:"bg-accent text-accent-foreground"};function m0({alert:e}){return n.jsxs("div",{className:"rounded-md border border-border bg-background/80 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:Ut("capitalize",rI[e.severity]??""),children:e.severity}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.triggeredAt).toLocaleString()})]}),n.jsx("h4",{className:"mt-2 text-sm font-semibold text-foreground",children:e.title}),n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:e.message})]})}function oI({machine:e,onBack:t,onMachineUpdated:s}){const i=le=>({name:le.name??"",type:le.type??"",category:le.category??"",status:le.status,criticality:le.criticality??"",oem:le.oem??"",controller:le.controller??"",commissionedDate:le.commissionedDate??"",lastBackup:le.lastBackup??"",power:le.power??"",air:le.air??"",network:le.network??"",todayTarget:le.todayTarget!=null?String(le.todayTarget):"",todayActual:le.todayActual!=null?String(le.todayActual):"",todayScrap:le.todayScrap!=null?String(le.todayScrap):"",mtbf:le.mtbf!=null?String(le.mtbf):"",mttr:le.mttr!=null?String(le.mttr):"",oee:le.oee!=null?String(le.oee):"",downReason:le.downReason??""}),[o,l]=T.useState([]),[u,d]=T.useState([]),[f,m]=T.useState([]),[p,x]=T.useState([]),[N,y]=T.useState([]),[C,M]=T.useState([]),[S,j]=T.useState([]),[L,R]=T.useState(!0),[D,U]=T.useState(e),[G,$]=T.useState(!1),[B,Y]=T.useState(()=>i(e)),[fe,V]=T.useState(null),[P,F]=T.useState(!1),[W,te]=T.useState(!1),[z,K]=T.useState(!1),[H,ue]=T.useState(!1),[ae,_]=T.useState(!1),[k,q]=T.useState(!1),{alerts:J}=qh(),oe=T.useMemo(()=>J.filter(le=>le.relatedMachines?.includes(e.id)),[J,e.id]);T.useEffect(()=>{async function le(){try{const[et,ut,St,At,mn,_t,ht]=await Promise.all([$p(),Ih(),Bc(),Ul(),Yp(),hk(),G4()]);l(et),d(ut),m(St),x(At),y(mn),M(_t),j(ht)}catch(et){console.error("Error loading machine details data:",et)}finally{R(!1)}}le()},[e.id]),T.useEffect(()=>{U(e),Y(i(e))},[e]),T.useEffect(()=>{G&&(Y(i(D)),V(null))},[G,D]);const ce=(le,et)=>{Y(ut=>({...ut,[le]:et}))},me=(le,et)=>{const ut=le.trim();if(!ut)return;const St=Number(ut);if(Number.isNaN(St))throw new Error(`${et} must be a number`);return St},be=async le=>{if(le.preventDefault(),V(null),!B.name.trim()){V("Machine name is required.");return}if(!B.type.trim()){V("Machine type is required.");return}if(B.status==="down"&&!B.downReason.trim()){V("Please provide a downtime reason for a down machine.");return}const et={name:B.name.trim(),type:B.type.trim(),category:B.category.trim()||D.category,status:B.status,oem:B.oem.trim()||void 0,controller:B.controller.trim()||void 0,commissionedDate:B.commissionedDate.trim()||void 0,lastBackup:B.lastBackup.trim()||void 0,power:B.power.trim()||void 0,air:B.air.trim()||void 0,network:B.network.trim()||void 0,criticality:B.criticality||void 0,downReason:B.status==="down"?B.downReason.trim():B.downReason.trim()||void 0};try{const ut=[["todayTarget",B.todayTarget,"Today target"],["todayActual",B.todayActual,"Today actual"],["todayScrap",B.todayScrap,"Today scrap"],["mtbf",B.mtbf,"MTBF"],["mttr",B.mttr,"MTTR"],["oee",B.oee,"OEE"]];for(const[St,At,mn]of ut){const _t=me(At,mn),ht=St,Ct=At.trim();_t!==void 0?et[ht]=_t:Ct===""&&(et[ht]=void 0)}}catch(ut){ut instanceof Error?V(ut.message):V("Invalid numeric value.");return}F(!0);try{const ut=await q4(D.id,et);U(ut),s?.(ut),vn.success("Machine updated",{description:`${ut.name} details have been saved.`}),$(!1)}catch(ut){console.error("Failed to update machine",ut);const St=ut instanceof Error?ut.message:"Failed to update machine.";V(St),vn.error("Unable to update machine",{description:St})}finally{F(!1)}},ve=o.filter(le=>le.machineId===e.id),Me=u.filter(le=>le.machineId===e.id),Pe=f.filter(le=>le.machineId===e.id),Xe=p.filter(le=>le.machineId===e.id),Qe=N.filter(le=>le.machineId===e.id),ge=C.filter(le=>le.machineId===e.id),re=S.find(le=>le.machineId===e.id&&le.date==="2024-10-02");if(L)return n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading machine details..."})});const Pt=le=>{const et={active:"default",down:"destructive",maintenance:"secondary"};return n.jsx(Ve,{variant:et[le],children:le.toUpperCase()})},Te=le=>{const et={critical:"destructive",high:"destructive",medium:"secondary",low:"outline"};return n.jsx(Ve,{variant:et[le],children:le})},we=le=>{const et={draft:"outline",review:"secondary",approved:"default",effective:"default",closed:"outline"};return n.jsx(Ve,{variant:et[le],children:le})},ke=Qe.filter(le=>!le.parentComponentId),$e=le=>Qe.filter(et=>et.parentComponentId===le),st=({component:le,depth:et=0})=>{const ut=$e(le.id),St=ut.length>0;return n.jsxs("div",{className:`${et>0?"ml-6 border-l-2 border-border pl-4":""}`,children:[n.jsx(Ie,{className:"p-4 mb-2",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Qi,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("h4",{children:le.name}),n.jsx(Ve,{variant:"outline",className:"text-xs",children:le.type}),n.jsxs(Ve,{variant:le.criticality>=4?"destructive":"secondary",className:"text-xs",children:["Criticality ",le.criticality]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[le.vendor&&n.jsxs("div",{className:"text-muted-foreground",children:["Vendor: ",n.jsx("span",{className:"text-foreground",children:le.vendor})]}),le.partNumber&&n.jsxs("div",{className:"text-muted-foreground",children:["P/N: ",n.jsx("span",{className:"text-foreground",children:le.partNumber})]}),le.serial&&n.jsxs("div",{className:"text-muted-foreground",children:["S/N: ",n.jsx("span",{className:"text-foreground",children:le.serial})]}),le.assetTag&&n.jsxs("div",{className:"text-muted-foreground",children:["Asset: ",n.jsx("span",{className:"text-foreground",children:le.assetTag})]}),le.spareQty!==void 0&&n.jsxs("div",{className:"text-muted-foreground",children:["Spares: ",n.jsxs("span",{className:le.spareQty===0?"text-destructive":"text-foreground",children:[le.spareQty," @ ",le.spareLocation]})]}),le.expectedLife&&n.jsxs("div",{className:"text-muted-foreground",children:["Life: ",n.jsx("span",{className:"text-foreground",children:le.expectedLife})]})]})]})})}),St&&n.jsx("div",{className:"mt-2",children:ut.map(At=>n.jsx(st,{component:At,depth:et+1},At.id))})]})};return n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"border-b border-border bg-background p-6",children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsxs(Ue,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Qp,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{children:D.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Green Room"}),n.jsx(sx,{className:"w-3 h-3 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:D.category})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Pt(D.status),n.jsxs(Ue,{size:"sm",variant:"outline",onClick:()=>$(!0),children:[n.jsx(uD,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Type"}),n.jsx("p",{className:"text-sm",children:D.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"OEM"}),n.jsx("p",{className:"text-sm",children:D.oem||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Controller"}),n.jsx("p",{className:"text-sm",children:D.controller||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Commissioned"}),n.jsx("p",{className:"text-sm",children:D.commissionedDate||"N/A"})]})]}),oe.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Active Alerts"}),n.jsx("div",{className:"space-y-2",children:oe.map(le=>n.jsx(m0,{alert:le},le.id))})]}),n.jsxs("div",{className:"flex gap-6",children:[D.lastBackup&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Backup"}),n.jsx("p",{className:"text-sm",children:D.lastBackup})]}),D.mtbf&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"MTBF"}),n.jsxs("p",{className:"text-sm",children:[D.mtbf," hrs"]})]}),D.mttr&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"MTTR"}),n.jsxs("p",{className:"text-sm",children:[D.mttr," hrs"]})]}),D.oee&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"OEE"}),n.jsxs("p",{className:"text-sm",children:[D.oee,"%"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>K(!0),children:[n.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Upload Doc"]}),n.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>ue(!0),children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"New Note"]}),n.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>_(!0),children:[n.jsx(xa,{className:"w-4 h-4 mr-2"}),"Log Event"]}),n.jsxs(Ue,{variant:"default",size:"sm",onClick:()=>te(!0),children:[n.jsx(qo,{className:"w-4 h-4 mr-2"}),"Create WO"]}),n.jsxs(Ue,{size:"sm",variant:"outline",onClick:()=>q(!0),children:[n.jsx(bf,{className:"w-4 h-4 mr-2"}),"New ECO"]})]})]})]}),n.jsx("div",{className:"flex-1 overflow-auto p-6",children:n.jsxs(qu,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Vu,{className:"mb-4",children:[n.jsx(Ln,{value:"overview",children:"Overview"}),n.jsx(Ln,{value:"documents",children:"Documents"}),n.jsx(Ln,{value:"components",children:"Components"}),n.jsx(Ln,{value:"settings",children:"Settings"}),n.jsx(Ln,{value:"ecos",children:"ECOs"}),n.jsx(Ln,{value:"maintenance",children:"Maintenance"}),n.jsx(Ln,{value:"timeline",children:"Timeline"})]}),n.jsxs(Dn,{value:"overview",className:"space-y-6",children:[D.status==="down"&&n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"p-6 border-red-500 bg-red-50 dark:bg-red-900/20",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:n.jsx(xa,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-red-900 dark:text-red-100 mb-2",children:"Machine Down"}),n.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 mb-3",children:D.downReason||"Reason not specified"}),n.jsxs("div",{className:"flex gap-4 text-sm",children:[D.lastDowntime&&n.jsxs("div",{children:[n.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Down Since:"}),n.jsx("span",{className:"ml-2 text-red-900 dark:text-red-100",children:D.lastDowntime?new Date(D.lastDowntime).toLocaleString():"N/A"})]}),D.diagnosed!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Diagnosis Status:"}),n.jsx("span",{className:"ml-2",children:n.jsx(Ve,{variant:D.diagnosed?"default":"destructive",children:D.diagnosed?"Completed":"Pending"})})]})]})]})]})}),!D.diagnosed&&n.jsxs(Ie,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"mb-1",children:"Initial Diagnostic Checklist"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete these diagnostic steps to identify the root cause"})]}),n.jsx(Ue,{variant:"default",children:"Mark Diagnosis Complete"})]}),n.jsx(hn,{className:"my-4"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Verify safety lockout/tagout procedures completed"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ensure machine is properly locked out before any diagnostic work"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Check air pressure supply to affected zone"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Verify main air line pressure (should be ~90 PSI)"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Inspect pneumatic connections for leaks"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check all quick-disconnect fittings and hoses for air leaks"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Test gripper actuation manually"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use manual override to verify gripper movement"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Check solenoid valve operation"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Verify electrical signal to valve and listen for actuation click"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Review PLC fault codes and logs"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check for any error codes or warnings in the controller"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[n.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 rounded border-gray-300"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Document findings and create RCA if needed"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Record all observations and initiate root cause analysis"})]})]})]})]})]}),re&&n.jsxs(Ie,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{children:"Production - Today"}),n.jsxs(Ve,{variant:"outline",children:[n.jsx(Bh,{className:"w-3 h-3 mr-1"}),"Live"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Target"}),n.jsx("p",{className:"text-2xl",children:re.target}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"units"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Actual"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-2xl",children:re.actual}),re.actual>=re.target?n.jsx(v2,{className:"w-4 h-4 text-green-600"}):n.jsx(p3,{className:"w-4 h-4 text-orange-600"})]}),n.jsx(FA,{value:re.actual/re.target*100,className:"mt-2 h-2"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Scrap"}),n.jsx("p",{className:"text-2xl",children:re.scrap}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(re.scrap/re.actual*100).toFixed(1),"% rate"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Downtime"}),n.jsx("p",{className:"text-2xl",children:re.downtime}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"minutes"})]})]}),n.jsx(hn,{className:"my-4"}),n.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Cycle Time:"}),n.jsxs("span",{className:"ml-2",children:[re.cycleTime,"s"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Efficiency:"}),n.jsxs("span",{className:"ml-2",children:[(re.actual/re.target*100).toFixed(1),"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"First Pass Yield:"}),n.jsxs("span",{className:"ml-2",children:[((re.actual-re.scrap)/re.actual*100).toFixed(1),"%"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"System Information"}),n.jsxs("div",{className:"space-y-3",children:[D.power&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Power:"}),n.jsx("span",{className:"text-sm",children:D.power})]}),D.air&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Air:"}),n.jsx("span",{className:"text-sm",children:D.air})]}),D.network&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Network:"}),n.jsx("span",{className:"text-sm",children:D.network})]}),D.criticality&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Criticality:"}),n.jsx(Ve,{variant:D.criticality==="high"?"destructive":"secondary",children:D.criticality})]})]})]}),n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Recent Events"}),n.jsx("div",{className:"space-y-2",children:Me.slice(0,5).map(le=>n.jsxs("div",{className:"flex items-start gap-2 p-2 border rounded",children:[n.jsx(xa,{className:"w-4 h-4 mt-0.5 text-muted-foreground"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm",children:le.description}),n.jsx("p",{className:"text-xs text-muted-foreground",children:le.timestamp})]}),n.jsx(Ve,{variant:"outline",className:"text-xs",children:le.type})]},le.id))})]})]}),n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Component Summary"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[ke.length," top-level assemblies  ",Qe.length," total components"]})]})]}),n.jsxs(Dn,{value:"documents",className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3",children:"Program Backups"}),n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"space-y-2",children:ve.filter(le=>le.type==="Program Backup").length>0?ve.filter(le=>le.type==="Program Backup").map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:le.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:le.uploadDate})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Ol,{className:"w-4 h-4"})}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Eu,{className:"w-4 h-4"})})]})]},le.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No program backups available"})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3",children:"Operator Manual"}),n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"space-y-2",children:ve.filter(le=>le.type==="Operator Manual").length>0?ve.filter(le=>le.type==="Operator Manual").map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:le.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:le.uploadDate})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Ol,{className:"w-4 h-4"})}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Eu,{className:"w-4 h-4"})})]})]},le.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No operator manuals available"})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3",children:"Drawings"}),n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"space-y-2",children:ve.filter(le=>le.type==="Drawings").length>0?ve.filter(le=>le.type==="Drawings").map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:le.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:le.uploadDate})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Ol,{className:"w-4 h-4"})}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Eu,{className:"w-4 h-4"})})]})]},le.id)):n.jsx("p",{className:"text-sm text-muted-foreground p-3",children:"No drawings available"})})})]})]}),n.jsx(Dn,{value:"components",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{children:"Component Hierarchy"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Qe.length," components total"]})]}),ke.map(le=>n.jsx(st,{component:le},le.id)),ke.length===0&&n.jsx(Ie,{className:"p-6",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No components defined for this machine"})})]})}),n.jsxs(Dn,{value:"settings",className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3",children:"Safety Settings"}),n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"space-y-2",children:ge.filter(le=>le.category==="Safety").map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-sm",children:le.key}),le.subcategory&&n.jsx(Ve,{variant:"outline",className:"text-xs",children:le.subcategory})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Changed by ",le.changedBy," on ",le.effectiveFrom]})]}),n.jsxs("p",{className:"text-sm",children:[le.value," ",le.unit]})]},le.id))})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3",children:"Process Settings"}),n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"space-y-2",children:ge.filter(le=>le.category==="Process").map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-sm",children:le.key}),le.subcategory&&n.jsx(Ve,{variant:"outline",className:"text-xs",children:le.subcategory}),le.linkedECO&&n.jsxs(Ve,{variant:"secondary",className:"text-xs",children:["ECO: ",le.linkedECO]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Changed by ",le.changedBy," on ",le.effectiveFrom]})]}),n.jsxs("p",{className:"text-sm",children:[le.value," ",le.unit]})]},le.id))})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3",children:"Communication Settings"}),n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"space-y-2",children:ge.filter(le=>le.category==="Communication").map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:le.key}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Changed by ",le.changedBy," on ",le.effectiveFrom]})]}),n.jsx("p",{className:"text-sm font-mono",children:le.value})]},le.id))})})]})]}),n.jsx(Dn,{value:"ecos",children:n.jsxs("div",{className:"space-y-4",children:[Xe.map(le=>n.jsxs(Ie,{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{children:le.number}),we(le.status),n.jsx(Ve,{variant:"outline",children:le.type})]}),n.jsx("h4",{children:le.title})]})}),n.jsx("p",{className:"text-sm mb-4",children:le.description}),n.jsx(hn,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Reason:"}),n.jsx("span",{className:"ml-2",children:le.reason})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Requested By:"}),n.jsx("span",{className:"ml-2",children:le.requestedBy})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Date:"}),n.jsx("span",{className:"ml-2",children:le.date})]})]})]},le.id)),Xe.length===0&&n.jsx(Ie,{className:"p-6",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No ECOs for this machine"})})]})}),n.jsx(Dn,{value:"maintenance",children:n.jsxs("div",{className:"space-y-4",children:[Pe.map(le=>n.jsxs(Ie,{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{children:le.id}),n.jsx(Ve,{variant:"outline",children:le.type}),Te(le.priority),n.jsx(Ve,{variant:le.status==="completed"?"default":"secondary",children:le.status})]}),n.jsx("p",{className:"text-sm",children:le.description})]})}),n.jsx(hn,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Requested By:"}),n.jsx("span",{className:"ml-2",children:le.requestedBy})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Assignee:"}),n.jsx("span",{className:"ml-2",children:le.assignee})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{className:"ml-2",children:le.dueDate})]})]})]},le.id)),Pe.length===0&&n.jsx(Ie,{className:"p-6",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No work orders for this machine"})})]})}),n.jsx(Dn,{value:"timeline",children:n.jsx("div",{className:"space-y-3",children:Me.sort((le,et)=>new Date(et.timestamp).getTime()-new Date(le.timestamp).getTime()).map(le=>n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2"}),n.jsx("div",{className:"w-0.5 h-full bg-border"})]}),n.jsx(Ie,{className:"flex-1 p-4 mb-3",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ve,{variant:"outline",children:le.type}),n.jsx("span",{className:"text-xs text-muted-foreground",children:le.timestamp})]}),n.jsx("p",{className:"text-sm",children:le.description})]})})})]},le.id))})})]})}),n.jsx(Ha,{open:G,onOpenChange:$,children:n.jsxs(Ma,{className:"max-w-4xl",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"Edit Machine Details"}),n.jsx(fi,{children:"Update the machine's core information. Changes save immediately and are reflected across the application."})]}),n.jsxs("form",{onSubmit:be,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-name",children:"Name"}),n.jsx(nt,{id:"machine-name",value:B.name,onChange:le=>ce("name",le.target.value),placeholder:"AXH063"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-category",children:"Category"}),n.jsx(nt,{id:"machine-category",value:B.category,onChange:le=>ce("category",le.target.value),placeholder:"AXH Assembly"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-type",children:"Type"}),n.jsx(nt,{id:"machine-type",value:B.type,onChange:le=>ce("type",le.target.value),placeholder:"Assembly Machine"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Status"}),n.jsxs(an,{value:B.status,onValueChange:le=>ce("status",le),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Select status"})}),n.jsxs(ln,{children:[n.jsx(it,{value:"active",children:"Active"}),n.jsx(it,{value:"maintenance",children:"Maintenance"}),n.jsx(it,{value:"down",children:"Down"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{children:"Criticality"}),n.jsxs(an,{value:B.criticality||"not-set",onValueChange:le=>ce("criticality",le==="not-set"?"":le),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Select criticality"})}),n.jsxs(ln,{children:[n.jsx(it,{value:"not-set",children:"Not set"}),n.jsx(it,{value:"low",children:"Low"}),n.jsx(it,{value:"medium",children:"Medium"}),n.jsx(it,{value:"high",children:"High"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-oem",children:"OEM"}),n.jsx(nt,{id:"machine-oem",value:B.oem,onChange:le=>ce("oem",le.target.value),placeholder:"THK"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-controller",children:"Controller"}),n.jsx(nt,{id:"machine-controller",value:B.controller,onChange:le=>ce("controller",le.target.value),placeholder:"Siemens S7-1500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-commissioned",children:"Commissioned Date"}),n.jsx(nt,{id:"machine-commissioned",type:"date",value:B.commissionedDate,onChange:le=>ce("commissionedDate",le.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-last-backup",children:"Last Backup"}),n.jsx(nt,{id:"machine-last-backup",type:"date",value:B.lastBackup,onChange:le=>ce("lastBackup",le.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-power",children:"Power"}),n.jsx(nt,{id:"machine-power",value:B.power,onChange:le=>ce("power",le.target.value),placeholder:"480V 3Ph"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-air",children:"Air"}),n.jsx(nt,{id:"machine-air",value:B.air,onChange:le=>ce("air",le.target.value),placeholder:"90 PSI"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-network",children:"Network"}),n.jsx(nt,{id:"machine-network",value:B.network,onChange:le=>ce("network",le.target.value),placeholder:"192.168.10.45"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-target",children:"Today Target"}),n.jsx(nt,{id:"machine-target",type:"number",value:B.todayTarget,onChange:le=>ce("todayTarget",le.target.value),placeholder:"500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-actual",children:"Today Actual"}),n.jsx(nt,{id:"machine-actual",type:"number",value:B.todayActual,onChange:le=>ce("todayActual",le.target.value),placeholder:"487"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-scrap",children:"Today Scrap"}),n.jsx(nt,{id:"machine-scrap",type:"number",value:B.todayScrap,onChange:le=>ce("todayScrap",le.target.value),placeholder:"8"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-oee",children:"OEE (%)"}),n.jsx(nt,{id:"machine-oee",type:"number",step:"0.1",value:B.oee,onChange:le=>ce("oee",le.target.value),placeholder:"87.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-mtbf",children:"MTBF (hours)"}),n.jsx(nt,{id:"machine-mtbf",type:"number",step:"0.1",value:B.mtbf,onChange:le=>ce("mtbf",le.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-mttr",children:"MTTR (hours)"}),n.jsx(nt,{id:"machine-mttr",type:"number",step:"0.1",value:B.mttr,onChange:le=>ce("mttr",le.target.value)})]})]}),B.status==="down"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Be,{htmlFor:"machine-down-reason",children:"Downtime Reason"}),n.jsx(Qa,{id:"machine-down-reason",value:B.downReason,onChange:le=>ce("downReason",le.target.value),rows:3,placeholder:"Describe the downtime reason"})]}),fe&&n.jsx("p",{className:"text-sm text-red-600",children:fe}),n.jsxs(Uu,{children:[n.jsx(Ue,{type:"button",variant:"outline",onClick:()=>$(!1),disabled:P,children:"Cancel"}),n.jsx(Ue,{type:"submit",disabled:P,children:P?"Saving":"Save Changes"})]})]})]})}),n.jsx(F2,{open:W,onOpenChange:te,prefilledMachine:D}),n.jsx(zA,{open:z,onOpenChange:K,prefilledMachineId:D.id}),n.jsx(WA,{open:H,onOpenChange:ue}),n.jsx(XA,{open:ae,onOpenChange:_}),n.jsx(ZA,{open:k,onOpenChange:q,prefilledMachine:D})]})}function lI(e,t){return T.useReducer((s,i)=>t[s][i]??s,e)}var Y2="ScrollArea",[YA]=lo(Y2),[cI,Cr]=YA(Y2),KA=T.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:i="hover",dir:o,scrollHideDelay:l=600,...u}=e,[d,f]=T.useState(null),[m,p]=T.useState(null),[x,N]=T.useState(null),[y,C]=T.useState(null),[M,S]=T.useState(null),[j,L]=T.useState(0),[R,D]=T.useState(0),[U,G]=T.useState(!1),[$,B]=T.useState(!1),Y=Hn(t,V=>f(V)),fe=Fh(o);return n.jsx(cI,{scope:s,type:i,dir:fe,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:p,content:x,onContentChange:N,scrollbarX:y,onScrollbarXChange:C,scrollbarXEnabled:U,onScrollbarXEnabledChange:G,scrollbarY:M,onScrollbarYChange:S,scrollbarYEnabled:$,onScrollbarYEnabledChange:B,onCornerWidthChange:L,onCornerHeightChange:D,children:n.jsx(Vt.div,{dir:fe,...u,ref:Y,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});KA.displayName=Y2;var QA="ScrollAreaViewport",JA=T.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:i,nonce:o,...l}=e,u=Cr(QA,s),d=T.useRef(null),f=Hn(t,d,u.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),n.jsx(Vt.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});JA.displayName=QA;var Ko="ScrollAreaScrollbar",eC=T.forwardRef((e,t)=>{const{forceMount:s,...i}=e,o=Cr(Ko,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=o,d=e.orientation==="horizontal";return T.useEffect(()=>(d?l(!0):u(!0),()=>{d?l(!1):u(!1)}),[d,l,u]),o.type==="hover"?n.jsx(uI,{...i,ref:t,forceMount:s}):o.type==="scroll"?n.jsx(dI,{...i,ref:t,forceMount:s}):o.type==="auto"?n.jsx(tC,{...i,ref:t,forceMount:s}):o.type==="always"?n.jsx(K2,{...i,ref:t}):null});eC.displayName=Ko;var uI=T.forwardRef((e,t)=>{const{forceMount:s,...i}=e,o=Cr(Ko,e.__scopeScrollArea),[l,u]=T.useState(!1);return T.useEffect(()=>{const d=o.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),u(!0)},p=()=>{f=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),n.jsx($o,{present:s||l,children:n.jsx(tC,{"data-state":l?"visible":"hidden",...i,ref:t})})}),dI=T.forwardRef((e,t)=>{const{forceMount:s,...i}=e,o=Cr(Ko,e.__scopeScrollArea),l=e.orientation==="horizontal",u=g0(()=>f("SCROLL_END"),100),[d,f]=lI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,f]),T.useEffect(()=>{const m=o.viewport,p=l?"scrollLeft":"scrollTop";if(m){let x=m[p];const N=()=>{const y=m[p];x!==y&&(f("SCROLL"),u()),x=y};return m.addEventListener("scroll",N),()=>m.removeEventListener("scroll",N)}},[o.viewport,l,f,u]),n.jsx($o,{present:s||d!=="hidden",children:n.jsx(K2,{"data-state":d==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Qt(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Qt(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),tC=T.forwardRef((e,t)=>{const s=Cr(Ko,e.__scopeScrollArea),{forceMount:i,...o}=e,[l,u]=T.useState(!1),d=e.orientation==="horizontal",f=g0(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,p=s.viewport.offsetHeight<s.viewport.scrollHeight;u(d?m:p)}},10);return mf(s.viewport,f),mf(s.content,f),n.jsx($o,{present:i||l,children:n.jsx(K2,{"data-state":l?"visible":"hidden",...o,ref:t})})}),K2=T.forwardRef((e,t)=>{const{orientation:s="vertical",...i}=e,o=Cr(Ko,e.__scopeScrollArea),l=T.useRef(null),u=T.useRef(0),[d,f]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=rC(d.viewport,d.content),p={...i,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:N=>l.current=N,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:N=>u.current=N};function x(N,y){return xI(N,u.current,d,y)}return s==="horizontal"?n.jsx(fI,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const N=o.viewport.scrollLeft,y=Iw(N,d,o.dir);l.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:N=>{o.viewport&&(o.viewport.scrollLeft=N)},onDragScroll:N=>{o.viewport&&(o.viewport.scrollLeft=x(N,o.dir))}}):s==="vertical"?n.jsx(hI,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const N=o.viewport.scrollTop,y=Iw(N,d);l.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:N=>{o.viewport&&(o.viewport.scrollTop=N)},onDragScroll:N=>{o.viewport&&(o.viewport.scrollTop=x(N))}}):null}),fI=T.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...o}=e,l=Cr(Ko,e.__scopeScrollArea),[u,d]=T.useState(),f=T.useRef(null),m=Hn(t,f,l.onScrollbarXChange);return T.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(sC,{"data-orientation":"horizontal",...o,ref:m,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":p0(s)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,x)=>{if(l.viewport){const N=l.viewport.scrollLeft+p.deltaX;e.onWheelScroll(N),lC(N,x)&&p.preventDefault()}},onResize:()=>{f.current&&l.viewport&&u&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Hp(u.paddingLeft),paddingEnd:Hp(u.paddingRight)}})}})}),hI=T.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...o}=e,l=Cr(Ko,e.__scopeScrollArea),[u,d]=T.useState(),f=T.useRef(null),m=Hn(t,f,l.onScrollbarYChange);return T.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(sC,{"data-orientation":"vertical",...o,ref:m,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":p0(s)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,x)=>{if(l.viewport){const N=l.viewport.scrollTop+p.deltaY;e.onWheelScroll(N),lC(N,x)&&p.preventDefault()}},onResize:()=>{f.current&&l.viewport&&u&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Hp(u.paddingTop),paddingEnd:Hp(u.paddingBottom)}})}})}),[mI,nC]=YA(Ko),sC=T.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:o,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:p,onResize:x,...N}=e,y=Cr(Ko,s),[C,M]=T.useState(null),S=Hn(t,Y=>M(Y)),j=T.useRef(null),L=T.useRef(""),R=y.viewport,D=i.content-i.viewport,U=ui(p),G=ui(f),$=g0(x,10);function B(Y){if(j.current){const fe=Y.clientX-j.current.left,V=Y.clientY-j.current.top;m({x:fe,y:V})}}return T.useEffect(()=>{const Y=fe=>{const V=fe.target;C?.contains(V)&&U(fe,D)};return document.addEventListener("wheel",Y,{passive:!1}),()=>document.removeEventListener("wheel",Y,{passive:!1})},[R,C,D,U]),T.useEffect(G,[i,G]),mf(C,$),mf(y.content,$),n.jsx(mI,{scope:s,scrollbar:C,hasThumb:o,onThumbChange:ui(l),onThumbPointerUp:ui(u),onThumbPositionChange:G,onThumbPointerDown:ui(d),children:n.jsx(Vt.div,{...N,ref:S,style:{position:"absolute",...N.style},onPointerDown:Qt(e.onPointerDown,Y=>{Y.button===0&&(Y.target.setPointerCapture(Y.pointerId),j.current=C.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),B(Y))}),onPointerMove:Qt(e.onPointerMove,B),onPointerUp:Qt(e.onPointerUp,Y=>{const fe=Y.target;fe.hasPointerCapture(Y.pointerId)&&fe.releasePointerCapture(Y.pointerId),document.body.style.webkitUserSelect=L.current,y.viewport&&(y.viewport.style.scrollBehavior=""),j.current=null})})})}),Bp="ScrollAreaThumb",aC=T.forwardRef((e,t)=>{const{forceMount:s,...i}=e,o=nC(Bp,e.__scopeScrollArea);return n.jsx($o,{present:s||o.hasThumb,children:n.jsx(pI,{ref:t,...i})})}),pI=T.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:i,...o}=e,l=Cr(Bp,s),u=nC(Bp,s),{onThumbPositionChange:d}=u,f=Hn(t,x=>u.onThumbChange(x)),m=T.useRef(void 0),p=g0(()=>{m.current&&(m.current(),m.current=void 0)},100);return T.useEffect(()=>{const x=l.viewport;if(x){const N=()=>{if(p(),!m.current){const y=vI(x,d);m.current=y,d()}};return d(),x.addEventListener("scroll",N),()=>x.removeEventListener("scroll",N)}},[l.viewport,p,d]),n.jsx(Vt.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Qt(e.onPointerDownCapture,x=>{const y=x.target.getBoundingClientRect(),C=x.clientX-y.left,M=x.clientY-y.top;u.onThumbPointerDown({x:C,y:M})}),onPointerUp:Qt(e.onPointerUp,u.onThumbPointerUp)})});aC.displayName=Bp;var Q2="ScrollAreaCorner",iC=T.forwardRef((e,t)=>{const s=Cr(Q2,e.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?n.jsx(gI,{...e,ref:t}):null});iC.displayName=Q2;var gI=T.forwardRef((e,t)=>{const{__scopeScrollArea:s,...i}=e,o=Cr(Q2,s),[l,u]=T.useState(0),[d,f]=T.useState(0),m=!!(l&&d);return mf(o.scrollbarX,()=>{const p=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(p),f(p)}),mf(o.scrollbarY,()=>{const p=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(p),u(p)}),m?n.jsx(Vt.div,{...i,ref:t,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hp(e){return e?parseInt(e,10):0}function rC(e,t){const s=e/t;return isNaN(s)?0:s}function p0(e){const t=rC(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-s)*t;return Math.max(i,18)}function xI(e,t,s,i="ltr"){const o=p0(s),l=o/2,u=t||l,d=o-u,f=s.scrollbar.paddingStart+u,m=s.scrollbar.size-s.scrollbar.paddingEnd-d,p=s.content-s.viewport,x=i==="ltr"?[0,p]:[p*-1,0];return oC([f,m],x)(e)}function Iw(e,t,s="ltr"){const i=p0(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,u=t.content-t.viewport,d=l-i,f=s==="ltr"?[0,u]:[u*-1,0],m=cx(e,f);return oC([0,u],[0,d])(m)}function oC(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(s-e[0])}}function lC(e,t){return e>0&&e<t}var vI=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},i=0;return(function o(){const l={left:e.scrollLeft,top:e.scrollTop},u=s.left!==l.left,d=s.top!==l.top;(u||d)&&t(),s=l,i=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(i)};function g0(e,t){const s=ui(e),i=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),T.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,t)},[s,t])}function mf(e,t){const s=ui(t);Ta(()=>{let i=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return o.observe(e),()=>{window.cancelAnimationFrame(i),o.unobserve(e)}}},[e,s])}var yI=KA,bI=JA,wI=iC;function J2({className:e,children:t,...s}){return n.jsxs(yI,{"data-slot":"scroll-area",className:Ut("relative",e),...s,children:[n.jsx(bI,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),n.jsx(NI,{}),n.jsx(wI,{})]})}function NI({className:e,orientation:t="vertical",...s}){return n.jsx(eC,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ut("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...s,children:n.jsx(aC,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const jI="modulepreload",SI=function(e){return"/"+e},Bw={},u1=function(t,s,i){let o=Promise.resolve();if(s&&s.length>0){let f=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(s.map(m=>{if(m=SI(m),m in Bw)return;Bw[m]=!0;const p=m.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const N=document.createElement("link");if(N.rel=p?"stylesheet":jI,p||(N.as="script"),N.crossOrigin="",N.href=m,d&&N.setAttribute("nonce",d),document.head.appendChild(N),p)return new Promise((y,C)=>{N.addEventListener("load",y),N.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};function Yn(e){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(e)}var ro=Uint8Array,Ki=Uint16Array,ev=Int32Array,tv=new ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nv=new ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hw=new ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cC=function(e,t){for(var s=new Ki(31),i=0;i<31;++i)s[i]=t+=1<<e[i-1];for(var o=new ev(s[30]),i=1;i<30;++i)for(var l=s[i];l<s[i+1];++l)o[l]=l-s[i]<<5|i;return{b:s,r:o}},uC=cC(tv,2),AI=uC.b,wx=uC.r;AI[28]=258,wx[258]=28;var CI=cC(nv,0),Fw=CI.r,Nx=new Ki(32768);for(var ys=0;ys<32768;++ys){var Sc=(ys&43690)>>1|(ys&21845)<<1;Sc=(Sc&52428)>>2|(Sc&13107)<<2,Sc=(Sc&61680)>>4|(Sc&3855)<<4,Nx[ys]=((Sc&65280)>>8|(Sc&255)<<8)>>1}var bh=(function(e,t,s){for(var i=e.length,o=0,l=new Ki(t);o<i;++o)e[o]&&++l[e[o]-1];var u=new Ki(t);for(o=1;o<t;++o)u[o]=u[o-1]+l[o-1]<<1;var d;if(s){d=new Ki(1<<t);var f=15-t;for(o=0;o<i;++o)if(e[o])for(var m=o<<4|e[o],p=t-e[o],x=u[e[o]-1]++<<p,N=x|(1<<p)-1;x<=N;++x)d[Nx[x]>>f]=m}else for(d=new Ki(i),o=0;o<i;++o)e[o]&&(d[o]=Nx[u[e[o]-1]++]>>15-e[o]);return d}),Hu=new ro(288);for(var ys=0;ys<144;++ys)Hu[ys]=8;for(var ys=144;ys<256;++ys)Hu[ys]=9;for(var ys=256;ys<280;++ys)Hu[ys]=7;for(var ys=280;ys<288;++ys)Hu[ys]=8;var Fp=new ro(32);for(var ys=0;ys<32;++ys)Fp[ys]=5;var TI=bh(Hu,9,0),MI=bh(Fp,5,0),dC=function(e){return(e+7)/8|0},EI=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new ro(e.subarray(t,s))},_l=function(e,t,s){s<<=t&7;var i=t/8|0;e[i]|=s,e[i+1]|=s>>8},uh=function(e,t,s){s<<=t&7;var i=t/8|0;e[i]|=s,e[i+1]|=s>>8,e[i+2]|=s>>16},d1=function(e,t){for(var s=[],i=0;i<e.length;++i)e[i]&&s.push({s:i,f:e[i]});var o=s.length,l=s.slice();if(!o)return{t:hC,l:0};if(o==1){var u=new ro(s[0].s+1);return u[s[0].s]=1,{t:u,l:1}}s.sort(function(U,G){return U.f-G.f}),s.push({s:-1,f:25001});var d=s[0],f=s[1],m=0,p=1,x=2;for(s[0]={s:-1,f:d.f+f.f,l:d,r:f};p!=o-1;)d=s[s[m].f<s[x].f?m++:x++],f=s[m!=p&&s[m].f<s[x].f?m++:x++],s[p++]={s:-1,f:d.f+f.f,l:d,r:f};for(var N=l[0].s,i=1;i<o;++i)l[i].s>N&&(N=l[i].s);var y=new Ki(N+1),C=jx(s[p-1],y,0);if(C>t){var i=0,M=0,S=C-t,j=1<<S;for(l.sort(function(G,$){return y[$.s]-y[G.s]||G.f-$.f});i<o;++i){var L=l[i].s;if(y[L]>t)M+=j-(1<<C-y[L]),y[L]=t;else break}for(M>>=S;M>0;){var R=l[i].s;y[R]<t?M-=1<<t-y[R]++-1:++i}for(;i>=0&&M;--i){var D=l[i].s;y[D]==t&&(--y[D],++M)}C=t}return{t:new ro(y),l:C}},jx=function(e,t,s){return e.s==-1?Math.max(jx(e.l,t,s+1),jx(e.r,t,s+1)):t[e.s]=s},zw=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new Ki(++t),i=0,o=e[0],l=1,u=function(f){s[i++]=f},d=1;d<=t;++d)if(e[d]==o&&d!=t)++l;else{if(!o&&l>2){for(;l>138;l-=138)u(32754);l>2&&(u(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(u(o),--l;l>6;l-=6)u(8304);l>2&&(u(l-3<<5|8208),l=0)}for(;l--;)u(o);l=1,o=e[d]}return{c:s.subarray(0,i),n:t}},dh=function(e,t){for(var s=0,i=0;i<t.length;++i)s+=e[i]*t[i];return s},fC=function(e,t,s){var i=s.length,o=dC(t+2);e[o]=i&255,e[o+1]=i>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var l=0;l<i;++l)e[o+l+4]=s[l];return(o+4+i)*8},Uw=function(e,t,s,i,o,l,u,d,f,m,p){_l(t,p++,s),++o[256];for(var x=d1(o,15),N=x.t,y=x.l,C=d1(l,15),M=C.t,S=C.l,j=zw(N),L=j.c,R=j.n,D=zw(M),U=D.c,G=D.n,$=new Ki(19),B=0;B<L.length;++B)++$[L[B]&31];for(var B=0;B<U.length;++B)++$[U[B]&31];for(var Y=d1($,7),fe=Y.t,V=Y.l,P=19;P>4&&!fe[Hw[P-1]];--P);var F=m+5<<3,W=dh(o,Hu)+dh(l,Fp)+u,te=dh(o,N)+dh(l,M)+u+14+3*P+dh($,fe)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&F<=W&&F<=te)return fC(t,p,e.subarray(f,f+m));var z,K,H,ue;if(_l(t,p,1+(te<W)),p+=2,te<W){z=bh(N,y,0),K=N,H=bh(M,S,0),ue=M;var ae=bh(fe,V,0);_l(t,p,R-257),_l(t,p+5,G-1),_l(t,p+10,P-4),p+=14;for(var B=0;B<P;++B)_l(t,p+3*B,fe[Hw[B]]);p+=3*P;for(var _=[L,U],k=0;k<2;++k)for(var q=_[k],B=0;B<q.length;++B){var J=q[B]&31;_l(t,p,ae[J]),p+=fe[J],J>15&&(_l(t,p,q[B]>>5&127),p+=q[B]>>12)}}else z=TI,K=Hu,H=MI,ue=Fp;for(var B=0;B<d;++B){var oe=i[B];if(oe>255){var J=oe>>18&31;uh(t,p,z[J+257]),p+=K[J+257],J>7&&(_l(t,p,oe>>23&31),p+=tv[J]);var ce=oe&31;uh(t,p,H[ce]),p+=ue[ce],ce>3&&(uh(t,p,oe>>5&8191),p+=nv[ce])}else uh(t,p,z[oe]),p+=K[oe]}return uh(t,p,z[256]),p+K[256]},_I=new ev([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hC=new ro(0),kI=function(e,t,s,i,o,l){var u=l.z||e.length,d=new ro(i+u+5*(1+Math.ceil(u/7e3))+o),f=d.subarray(i,d.length-o),m=l.l,p=(l.r||0)&7;if(t){p&&(f[0]=l.r>>3);for(var x=_I[t-1],N=x>>13,y=x&8191,C=(1<<s)-1,M=l.p||new Ki(32768),S=l.h||new Ki(C+1),j=Math.ceil(s/3),L=2*j,R=function(ge){return(e[ge]^e[ge+1]<<j^e[ge+2]<<L)&C},D=new ev(25e3),U=new Ki(288),G=new Ki(32),$=0,B=0,Y=l.i||0,fe=0,V=l.w||0,P=0;Y+2<u;++Y){var F=R(Y),W=Y&32767,te=S[F];if(M[W]=te,S[F]=W,V<=Y){var z=u-Y;if(($>7e3||fe>24576)&&(z>423||!m)){p=Uw(e,f,0,D,U,G,B,fe,P,Y-P,p),fe=$=B=0,P=Y;for(var K=0;K<286;++K)U[K]=0;for(var K=0;K<30;++K)G[K]=0}var H=2,ue=0,ae=y,_=W-te&32767;if(z>2&&F==R(Y-_))for(var k=Math.min(N,z)-1,q=Math.min(32767,Y),J=Math.min(258,z);_<=q&&--ae&&W!=te;){if(e[Y+H]==e[Y+H-_]){for(var oe=0;oe<J&&e[Y+oe]==e[Y+oe-_];++oe);if(oe>H){if(H=oe,ue=_,oe>k)break;for(var ce=Math.min(_,oe-2),me=0,K=0;K<ce;++K){var be=Y-_+K&32767,ve=M[be],Me=be-ve&32767;Me>me&&(me=Me,te=be)}}}W=te,te=M[W],_+=W-te&32767}if(ue){D[fe++]=268435456|wx[H]<<18|Fw[ue];var Pe=wx[H]&31,Xe=Fw[ue]&31;B+=tv[Pe]+nv[Xe],++U[257+Pe],++G[Xe],V=Y+H,++$}else D[fe++]=e[Y],++U[e[Y]]}}for(Y=Math.max(Y,V);Y<u;++Y)D[fe++]=e[Y],++U[e[Y]];p=Uw(e,f,m,D,U,G,B,fe,P,Y-P,p),m||(l.r=p&7|f[p/8|0]<<3,p-=7,l.h=S,l.p=M,l.i=Y,l.w=V)}else{for(var Y=l.w||0;Y<u+m;Y+=65535){var Qe=Y+65535;Qe>=u&&(f[p/8|0]=m,Qe=u),p=fC(f,p+1,e.subarray(Y,Qe))}l.i=u}return EI(d,0,i+dC(p)+o)},mC=function(){var e=1,t=0;return{p:function(s){for(var i=e,o=t,l=s.length|0,u=0;u!=l;){for(var d=Math.min(u+2655,l);u<d;++u)o+=i+=s[u];i=(i&65535)+15*(i>>16),o=(o&65535)+15*(o>>16)}e=i,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},LI=function(e,t,s,i,o){if(!o&&(o={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),u=new ro(l.length+e.length);u.set(l),u.set(e,l.length),e=u,o.w=l.length}return kI(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,i,o)},pC=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},DI=function(e,t){var s=t.level,i=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=mC();o.p(t.dictionary),pC(e,2,o.d())}};function Sx(e,t){t||(t={});var s=mC();s.p(e);var i=LI(e,t,t.dictionary?6:2,4);return DI(i,t),pC(i,i.length-4,s.d()),i}var RI=typeof TextDecoder<"u"&&new TextDecoder,OI=0;try{RI.decode(hC,{stream:!0}),OI=1}catch{}function PI(e){if(Array.isArray(e))return e}function II(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var i,o,l,u,d=[],f=!0,m=!1;try{if(l=(s=s.call(e)).next,t!==0)for(;!(f=(i=l.call(s)).done)&&(d.push(i.value),d.length!==t);f=!0);}catch(p){m=!0,o=p}finally{try{if(!f&&s.return!=null&&(u=s.return(),Object(u)!==u))return}finally{if(m)throw o}}return d}}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=Array(t);s<t;s++)i[s]=e[s];return i}function BI(e,t){if(e){if(typeof e=="string")return qw(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?qw(e,t):void 0}}function HI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vw(e,t){return PI(e)||II(e,t)||BI(e,t)||HI()}function Gw(e,t="utf8"){return new TextDecoder(t).decode(e)}const FI=new TextEncoder;function zI(e){return FI.encode(e)}const UI=1024*8,qI=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),f1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=UI,s={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const o=s.offset?s.offset>>>0:0,l=t.byteLength-o;let u=o;(ArrayBuffer.isView(t)||t instanceof sv)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+o),t=t.buffer),i?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=t,this.length=l,this.byteLength=l,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,l),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,o=new Uint8Array(i);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,s){const i=f1[s].BYTES_PER_ELEMENT*t,o=this.byteOffset+this.offset,l=this.buffer.slice(o,o+i);if(this.littleEndian===qI&&s!=="uint8"&&s!=="int8"){const d=new Uint8Array(this.buffer.slice(o,o+i));d.reverse();const f=new f1[s](d.buffer);return this.offset+=i,f.reverse(),f}const u=new f1[s](l);return this.offset+=i,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let s="";for(let i=0;i<t;i++)s+=this.readChar();return s}readUtf8(t=1){return Gw(this.readBytes(t))}decodeText(t=1,s="utf8"){return Gw(this.readBytes(t),s)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let s=0;s<t.length;s++)this._data.setUint8(this.offset++,t[s]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let s=0;s<t.length;s++)this.writeUint8(t.charCodeAt(s));return this}writeUtf8(t){return this.writeBytes(zI(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Sf(e){let t=e.length;for(;--t>=0;)e[t]=0}const VI=3,GI=258,gC=29,WI=256,XI=WI+1+gC,xC=30,ZI=512,$I=new Array((XI+2)*2);Sf($I);const YI=new Array(xC*2);Sf(YI);const KI=new Array(ZI);Sf(KI);const QI=new Array(GI-VI+1);Sf(QI);const JI=new Array(gC);Sf(JI);const eB=new Array(xC);Sf(eB);const tB=(e,t,s,i)=>{let o=e&65535|0,l=e>>>16&65535|0,u=0;for(;s!==0;){u=s>2e3?2e3:s,s-=u;do o=o+t[i++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0};var Ax=tB;const nB=()=>{let e,t=[];for(var s=0;s<256;s++){e=s;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[s]=e}return t},sB=new Uint32Array(nB()),aB=(e,t,s,i)=>{const o=sB,l=i+s;e^=-1;for(let u=i;u<l;u++)e=e>>>8^o[(e^t[u])&255];return e^-1};var Po=aB,Cx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iB=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var rB=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const s=t.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const i in s)iB(s,i)&&(e[i]=s[i])}}return e},oB=e=>{let t=0;for(let i=0,o=e.length;i<o;i++)t+=e[i].length;const s=new Uint8Array(t);for(let i=0,o=0,l=e.length;i<l;i++){let u=e[i];s.set(u,o),o+=u.length}return s},yC={assign:rB,flattenChunks:oB};let bC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bC=!1}const _h=new Uint8Array(256);for(let e=0;e<256;e++)_h[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_h[254]=_h[254]=1;var lB=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,s,i,o,l,u=e.length,d=0;for(o=0;o<u;o++)s=e.charCodeAt(o),(s&64512)===55296&&o+1<u&&(i=e.charCodeAt(o+1),(i&64512)===56320&&(s=65536+(s-55296<<10)+(i-56320),o++)),d+=s<128?1:s<2048?2:s<65536?3:4;for(t=new Uint8Array(d),l=0,o=0;l<d;o++)s=e.charCodeAt(o),(s&64512)===55296&&o+1<u&&(i=e.charCodeAt(o+1),(i&64512)===56320&&(s=65536+(s-55296<<10)+(i-56320),o++)),s<128?t[l++]=s:s<2048?(t[l++]=192|s>>>6,t[l++]=128|s&63):s<65536?(t[l++]=224|s>>>12,t[l++]=128|s>>>6&63,t[l++]=128|s&63):(t[l++]=240|s>>>18,t[l++]=128|s>>>12&63,t[l++]=128|s>>>6&63,t[l++]=128|s&63);return t};const cB=(e,t)=>{if(t<65534&&e.subarray&&bC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let s="";for(let i=0;i<t;i++)s+=String.fromCharCode(e[i]);return s};var uB=(e,t)=>{const s=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,o;const l=new Array(s*2);for(o=0,i=0;i<s;){let u=e[i++];if(u<128){l[o++]=u;continue}let d=_h[u];if(d>4){l[o++]=65533,i+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&i<s;)u=u<<6|e[i++]&63,d--;if(d>1){l[o++]=65533;continue}u<65536?l[o++]=u:(u-=65536,l[o++]=55296|u>>10&1023,l[o++]=56320|u&1023)}return cB(l,o)},dB=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let s=t-1;for(;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?t:s+_h[e[s]]>t?s:t},Tx={string2buf:lB,buf2string:uB,utf8border:dB};function fB(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hB=fB;const Jm=16209,mB=16191;var pB=function(t,s){let i,o,l,u,d,f,m,p,x,N,y,C,M,S,j,L,R,D,U,G,$,B,Y,fe;const V=t.state;i=t.next_in,Y=t.input,o=i+(t.avail_in-5),l=t.next_out,fe=t.output,u=l-(s-t.avail_out),d=l+(t.avail_out-257),f=V.dmax,m=V.wsize,p=V.whave,x=V.wnext,N=V.window,y=V.hold,C=V.bits,M=V.lencode,S=V.distcode,j=(1<<V.lenbits)-1,L=(1<<V.distbits)-1;e:do{C<15&&(y+=Y[i++]<<C,C+=8,y+=Y[i++]<<C,C+=8),R=M[y&j];t:for(;;){if(D=R>>>24,y>>>=D,C-=D,D=R>>>16&255,D===0)fe[l++]=R&65535;else if(D&16){U=R&65535,D&=15,D&&(C<D&&(y+=Y[i++]<<C,C+=8),U+=y&(1<<D)-1,y>>>=D,C-=D),C<15&&(y+=Y[i++]<<C,C+=8,y+=Y[i++]<<C,C+=8),R=S[y&L];n:for(;;){if(D=R>>>24,y>>>=D,C-=D,D=R>>>16&255,D&16){if(G=R&65535,D&=15,C<D&&(y+=Y[i++]<<C,C+=8,C<D&&(y+=Y[i++]<<C,C+=8)),G+=y&(1<<D)-1,G>f){t.msg="invalid distance too far back",V.mode=Jm;break e}if(y>>>=D,C-=D,D=l-u,G>D){if(D=G-D,D>p&&V.sane){t.msg="invalid distance too far back",V.mode=Jm;break e}if($=0,B=N,x===0){if($+=m-D,D<U){U-=D;do fe[l++]=N[$++];while(--D);$=l-G,B=fe}}else if(x<D){if($+=m+x-D,D-=x,D<U){U-=D;do fe[l++]=N[$++];while(--D);if($=0,x<U){D=x,U-=D;do fe[l++]=N[$++];while(--D);$=l-G,B=fe}}}else if($+=x-D,D<U){U-=D;do fe[l++]=N[$++];while(--D);$=l-G,B=fe}for(;U>2;)fe[l++]=B[$++],fe[l++]=B[$++],fe[l++]=B[$++],U-=3;U&&(fe[l++]=B[$++],U>1&&(fe[l++]=B[$++]))}else{$=l-G;do fe[l++]=fe[$++],fe[l++]=fe[$++],fe[l++]=fe[$++],U-=3;while(U>2);U&&(fe[l++]=fe[$++],U>1&&(fe[l++]=fe[$++]))}}else if((D&64)===0){R=S[(R&65535)+(y&(1<<D)-1)];continue n}else{t.msg="invalid distance code",V.mode=Jm;break e}break}}else if((D&64)===0){R=M[(R&65535)+(y&(1<<D)-1)];continue t}else if(D&32){V.mode=mB;break e}else{t.msg="invalid literal/length code",V.mode=Jm;break e}break}}while(i<o&&l<d);U=C>>3,i-=U,C-=U<<3,y&=(1<<C)-1,t.next_in=i,t.next_out=l,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=l<d?257+(d-l):257-(l-d),V.hold=y,V.bits=C};const Ud=15,Ww=852,Xw=592,Zw=0,h1=1,$w=2,gB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bB=(e,t,s,i,o,l,u,d)=>{const f=d.bits;let m=0,p=0,x=0,N=0,y=0,C=0,M=0,S=0,j=0,L=0,R,D,U,G,$,B=null,Y;const fe=new Uint16Array(Ud+1),V=new Uint16Array(Ud+1);let P=null,F,W,te;for(m=0;m<=Ud;m++)fe[m]=0;for(p=0;p<i;p++)fe[t[s+p]]++;for(y=f,N=Ud;N>=1&&fe[N]===0;N--);if(y>N&&(y=N),N===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<N&&fe[x]===0;x++);for(y<x&&(y=x),S=1,m=1;m<=Ud;m++)if(S<<=1,S-=fe[m],S<0)return-1;if(S>0&&(e===Zw||N!==1))return-1;for(V[1]=0,m=1;m<Ud;m++)V[m+1]=V[m]+fe[m];for(p=0;p<i;p++)t[s+p]!==0&&(u[V[t[s+p]]++]=p);if(e===Zw?(B=P=u,Y=20):e===h1?(B=gB,P=xB,Y=257):(B=vB,P=yB,Y=0),L=0,p=0,m=x,$=l,C=y,M=0,U=-1,j=1<<y,G=j-1,e===h1&&j>Ww||e===$w&&j>Xw)return 1;for(;;){F=m-M,u[p]+1<Y?(W=0,te=u[p]):u[p]>=Y?(W=P[u[p]-Y],te=B[u[p]-Y]):(W=96,te=0),R=1<<m-M,D=1<<C,x=D;do D-=R,o[$+(L>>M)+D]=F<<24|W<<16|te|0;while(D!==0);for(R=1<<m-1;L&R;)R>>=1;if(R!==0?(L&=R-1,L+=R):L=0,p++,--fe[m]===0){if(m===N)break;m=t[s+u[p]]}if(m>y&&(L&G)!==U){for(M===0&&(M=y),$+=x,C=m-M,S=1<<C;C+M<N&&(S-=fe[C+M],!(S<=0));)C++,S<<=1;if(j+=1<<C,e===h1&&j>Ww||e===$w&&j>Xw)return 1;U=L&G,o[U]=y<<24|C<<16|$-l|0}}return L!==0&&(o[$+L]=m-M<<24|64<<16|0),d.bits=y,0};var wh=bB;const wB=0,wC=1,NC=2,{Z_FINISH:Yw,Z_BLOCK:NB,Z_TREES:ep,Z_OK:Fu,Z_STREAM_END:jB,Z_NEED_DICT:SB,Z_STREAM_ERROR:Ar,Z_DATA_ERROR:jC,Z_MEM_ERROR:SC,Z_BUF_ERROR:AB,Z_DEFLATED:Kw}=vC,x0=16180,Qw=16181,Jw=16182,eN=16183,tN=16184,nN=16185,sN=16186,aN=16187,iN=16188,rN=16189,zp=16190,kl=16191,m1=16192,oN=16193,p1=16194,lN=16195,cN=16196,uN=16197,dN=16198,tp=16199,np=16200,fN=16201,hN=16202,mN=16203,pN=16204,gN=16205,g1=16206,xN=16207,vN=16208,Cs=16209,AC=16210,CC=16211,CB=852,TB=592,MB=15,EB=MB,yN=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function _B(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<x0||t.mode>CC?1:0},TC=e=>{if(Gu(e))return Ar;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=x0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(CB),t.distcode=t.distdyn=new Int32Array(TB),t.sane=1,t.back=-1,Fu},MC=e=>{if(Gu(e))return Ar;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,TC(e)},EC=(e,t)=>{let s;if(Gu(e))return Ar;const i=e.state;return t<0?(s=0,t=-t):(s=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ar:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=s,i.wbits=t,MC(e))},_C=(e,t)=>{if(!e)return Ar;const s=new _B;e.state=s,s.strm=e,s.window=null,s.mode=x0;const i=EC(e,t);return i!==Fu&&(e.state=null),i},kB=e=>_C(e,EB);let bN=!0,x1,v1;const LB=e=>{if(bN){x1=new Int32Array(512),v1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(wh(wC,e.lens,0,288,x1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;wh(NC,e.lens,0,32,v1,0,e.work,{bits:5}),bN=!1}e.lencode=x1,e.lenbits=9,e.distcode=v1,e.distbits=5},kC=(e,t,s,i)=>{let o;const l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),i>=l.wsize?(l.window.set(t.subarray(s-l.wsize,s),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>i&&(o=i),l.window.set(t.subarray(s-i,s-i+o),l.wnext),i-=o,i?(l.window.set(t.subarray(s-i,s),0),l.wnext=i,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},DB=(e,t)=>{let s,i,o,l,u,d,f,m,p,x,N,y,C,M,S=0,j,L,R,D,U,G,$,B;const Y=new Uint8Array(4);let fe,V;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gu(e)||!e.output||!e.input&&e.avail_in!==0)return Ar;s=e.state,s.mode===kl&&(s.mode=m1),u=e.next_out,o=e.output,f=e.avail_out,l=e.next_in,i=e.input,d=e.avail_in,m=s.hold,p=s.bits,x=d,N=f,B=Fu;e:for(;;)switch(s.mode){case x0:if(s.wrap===0){s.mode=m1;break}for(;p<16;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(s.wrap&2&&m===35615){s.wbits===0&&(s.wbits=15),s.check=0,Y[0]=m&255,Y[1]=m>>>8&255,s.check=Po(s.check,Y,2,0),m=0,p=0,s.mode=Qw;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((m&255)<<8)+(m>>8))%31){e.msg="incorrect header check",s.mode=Cs;break}if((m&15)!==Kw){e.msg="unknown compression method",s.mode=Cs;break}if(m>>>=4,p-=4,$=(m&15)+8,s.wbits===0&&(s.wbits=$),$>15||$>s.wbits){e.msg="invalid window size",s.mode=Cs;break}s.dmax=1<<s.wbits,s.flags=0,e.adler=s.check=1,s.mode=m&512?rN:kl,m=0,p=0;break;case Qw:for(;p<16;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(s.flags=m,(s.flags&255)!==Kw){e.msg="unknown compression method",s.mode=Cs;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=Cs;break}s.head&&(s.head.text=m>>8&1),s.flags&512&&s.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,s.check=Po(s.check,Y,2,0)),m=0,p=0,s.mode=Jw;case Jw:for(;p<32;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}s.head&&(s.head.time=m),s.flags&512&&s.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,Y[2]=m>>>16&255,Y[3]=m>>>24&255,s.check=Po(s.check,Y,4,0)),m=0,p=0,s.mode=eN;case eN:for(;p<16;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}s.head&&(s.head.xflags=m&255,s.head.os=m>>8),s.flags&512&&s.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,s.check=Po(s.check,Y,2,0)),m=0,p=0,s.mode=tN;case tN:if(s.flags&1024){for(;p<16;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}s.length=m,s.head&&(s.head.extra_len=m),s.flags&512&&s.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,s.check=Po(s.check,Y,2,0)),m=0,p=0}else s.head&&(s.head.extra=null);s.mode=nN;case nN:if(s.flags&1024&&(y=s.length,y>d&&(y=d),y&&(s.head&&($=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(i.subarray(l,l+y),$)),s.flags&512&&s.wrap&4&&(s.check=Po(s.check,i,y,l)),d-=y,l+=y,s.length-=y),s.length))break e;s.length=0,s.mode=sN;case sN:if(s.flags&2048){if(d===0)break e;y=0;do $=i[l+y++],s.head&&$&&s.length<65536&&(s.head.name+=String.fromCharCode($));while($&&y<d);if(s.flags&512&&s.wrap&4&&(s.check=Po(s.check,i,y,l)),d-=y,l+=y,$)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=aN;case aN:if(s.flags&4096){if(d===0)break e;y=0;do $=i[l+y++],s.head&&$&&s.length<65536&&(s.head.comment+=String.fromCharCode($));while($&&y<d);if(s.flags&512&&s.wrap&4&&(s.check=Po(s.check,i,y,l)),d-=y,l+=y,$)break e}else s.head&&(s.head.comment=null);s.mode=iN;case iN:if(s.flags&512){for(;p<16;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(s.wrap&4&&m!==(s.check&65535)){e.msg="header crc mismatch",s.mode=Cs;break}m=0,p=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=kl;break;case rN:for(;p<32;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}e.adler=s.check=yN(m),m=0,p=0,s.mode=zp;case zp:if(s.havedict===0)return e.next_out=u,e.avail_out=f,e.next_in=l,e.avail_in=d,s.hold=m,s.bits=p,SB;e.adler=s.check=1,s.mode=kl;case kl:if(t===NB||t===ep)break e;case m1:if(s.last){m>>>=p&7,p-=p&7,s.mode=g1;break}for(;p<3;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}switch(s.last=m&1,m>>>=1,p-=1,m&3){case 0:s.mode=oN;break;case 1:if(LB(s),s.mode=tp,t===ep){m>>>=2,p-=2;break e}break;case 2:s.mode=cN;break;case 3:e.msg="invalid block type",s.mode=Cs}m>>>=2,p-=2;break;case oN:for(m>>>=p&7,p-=p&7;p<32;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if((m&65535)!==(m>>>16^65535)){e.msg="invalid stored block lengths",s.mode=Cs;break}if(s.length=m&65535,m=0,p=0,s.mode=p1,t===ep)break e;case p1:s.mode=lN;case lN:if(y=s.length,y){if(y>d&&(y=d),y>f&&(y=f),y===0)break e;o.set(i.subarray(l,l+y),u),d-=y,l+=y,f-=y,u+=y,s.length-=y;break}s.mode=kl;break;case cN:for(;p<14;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(s.nlen=(m&31)+257,m>>>=5,p-=5,s.ndist=(m&31)+1,m>>>=5,p-=5,s.ncode=(m&15)+4,m>>>=4,p-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=Cs;break}s.have=0,s.mode=uN;case uN:for(;s.have<s.ncode;){for(;p<3;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}s.lens[P[s.have++]]=m&7,m>>>=3,p-=3}for(;s.have<19;)s.lens[P[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,fe={bits:s.lenbits},B=wh(wB,s.lens,0,19,s.lencode,0,s.work,fe),s.lenbits=fe.bits,B){e.msg="invalid code lengths set",s.mode=Cs;break}s.have=0,s.mode=dN;case dN:for(;s.have<s.nlen+s.ndist;){for(;S=s.lencode[m&(1<<s.lenbits)-1],j=S>>>24,L=S>>>16&255,R=S&65535,!(j<=p);){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(R<16)m>>>=j,p-=j,s.lens[s.have++]=R;else{if(R===16){for(V=j+2;p<V;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(m>>>=j,p-=j,s.have===0){e.msg="invalid bit length repeat",s.mode=Cs;break}$=s.lens[s.have-1],y=3+(m&3),m>>>=2,p-=2}else if(R===17){for(V=j+3;p<V;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}m>>>=j,p-=j,$=0,y=3+(m&7),m>>>=3,p-=3}else{for(V=j+7;p<V;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}m>>>=j,p-=j,$=0,y=11+(m&127),m>>>=7,p-=7}if(s.have+y>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=Cs;break}for(;y--;)s.lens[s.have++]=$}}if(s.mode===Cs)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=Cs;break}if(s.lenbits=9,fe={bits:s.lenbits},B=wh(wC,s.lens,0,s.nlen,s.lencode,0,s.work,fe),s.lenbits=fe.bits,B){e.msg="invalid literal/lengths set",s.mode=Cs;break}if(s.distbits=6,s.distcode=s.distdyn,fe={bits:s.distbits},B=wh(NC,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,fe),s.distbits=fe.bits,B){e.msg="invalid distances set",s.mode=Cs;break}if(s.mode=tp,t===ep)break e;case tp:s.mode=np;case np:if(d>=6&&f>=258){e.next_out=u,e.avail_out=f,e.next_in=l,e.avail_in=d,s.hold=m,s.bits=p,pB(e,N),u=e.next_out,o=e.output,f=e.avail_out,l=e.next_in,i=e.input,d=e.avail_in,m=s.hold,p=s.bits,s.mode===kl&&(s.back=-1);break}for(s.back=0;S=s.lencode[m&(1<<s.lenbits)-1],j=S>>>24,L=S>>>16&255,R=S&65535,!(j<=p);){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(L&&(L&240)===0){for(D=j,U=L,G=R;S=s.lencode[G+((m&(1<<D+U)-1)>>D)],j=S>>>24,L=S>>>16&255,R=S&65535,!(D+j<=p);){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}m>>>=D,p-=D,s.back+=D}if(m>>>=j,p-=j,s.back+=j,s.length=R,L===0){s.mode=gN;break}if(L&32){s.back=-1,s.mode=kl;break}if(L&64){e.msg="invalid literal/length code",s.mode=Cs;break}s.extra=L&15,s.mode=fN;case fN:if(s.extra){for(V=s.extra;p<V;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}s.length+=m&(1<<s.extra)-1,m>>>=s.extra,p-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=hN;case hN:for(;S=s.distcode[m&(1<<s.distbits)-1],j=S>>>24,L=S>>>16&255,R=S&65535,!(j<=p);){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if((L&240)===0){for(D=j,U=L,G=R;S=s.distcode[G+((m&(1<<D+U)-1)>>D)],j=S>>>24,L=S>>>16&255,R=S&65535,!(D+j<=p);){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}m>>>=D,p-=D,s.back+=D}if(m>>>=j,p-=j,s.back+=j,L&64){e.msg="invalid distance code",s.mode=Cs;break}s.offset=R,s.extra=L&15,s.mode=mN;case mN:if(s.extra){for(V=s.extra;p<V;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}s.offset+=m&(1<<s.extra)-1,m>>>=s.extra,p-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=Cs;break}s.mode=pN;case pN:if(f===0)break e;if(y=N-f,s.offset>y){if(y=s.offset-y,y>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=Cs;break}y>s.wnext?(y-=s.wnext,C=s.wsize-y):C=s.wnext-y,y>s.length&&(y=s.length),M=s.window}else M=o,C=u-s.offset,y=s.length;y>f&&(y=f),f-=y,s.length-=y;do o[u++]=M[C++];while(--y);s.length===0&&(s.mode=np);break;case gN:if(f===0)break e;o[u++]=s.length,f--,s.mode=np;break;case g1:if(s.wrap){for(;p<32;){if(d===0)break e;d--,m|=i[l++]<<p,p+=8}if(N-=f,e.total_out+=N,s.total+=N,s.wrap&4&&N&&(e.adler=s.check=s.flags?Po(s.check,o,N,u-N):Ax(s.check,o,N,u-N)),N=f,s.wrap&4&&(s.flags?m:yN(m))!==s.check){e.msg="incorrect data check",s.mode=Cs;break}m=0,p=0}s.mode=xN;case xN:if(s.wrap&&s.flags){for(;p<32;){if(d===0)break e;d--,m+=i[l++]<<p,p+=8}if(s.wrap&4&&m!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=Cs;break}m=0,p=0}s.mode=vN;case vN:B=jB;break e;case Cs:B=jC;break e;case AC:return SC;case CC:default:return Ar}return e.next_out=u,e.avail_out=f,e.next_in=l,e.avail_in=d,s.hold=m,s.bits=p,(s.wsize||N!==e.avail_out&&s.mode<Cs&&(s.mode<g1||t!==Yw))&&kC(e,e.output,e.next_out,N-e.avail_out),x-=e.avail_in,N-=e.avail_out,e.total_in+=x,e.total_out+=N,s.total+=N,s.wrap&4&&N&&(e.adler=s.check=s.flags?Po(s.check,o,N,e.next_out-N):Ax(s.check,o,N,e.next_out-N)),e.data_type=s.bits+(s.last?64:0)+(s.mode===kl?128:0)+(s.mode===tp||s.mode===p1?256:0),(x===0&&N===0||t===Yw)&&B===Fu&&(B=AB),B},RB=e=>{if(Gu(e))return Ar;let t=e.state;return t.window&&(t.window=null),e.state=null,Fu},OB=(e,t)=>{if(Gu(e))return Ar;const s=e.state;return(s.wrap&2)===0?Ar:(s.head=t,t.done=!1,Fu)},PB=(e,t)=>{const s=t.length;let i,o,l;return Gu(e)||(i=e.state,i.wrap!==0&&i.mode!==zp)?Ar:i.mode===zp&&(o=1,o=Ax(o,t,s,0),o!==i.check)?jC:(l=kC(e,t,s,s),l?(i.mode=AC,SC):(i.havedict=1,Fu))};var IB=MC,BB=EC,HB=TC,FB=kB,zB=_C,UB=DB,qB=RB,VB=OB,GB=PB,WB="pako inflate (from Nodeca project)",Dl={inflateReset:IB,inflateReset2:BB,inflateResetKeep:HB,inflateInit:FB,inflateInit2:zB,inflate:UB,inflateEnd:qB,inflateGetHeader:VB,inflateSetDictionary:GB,inflateInfo:WB};function XB(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ZB=XB;const LC=Object.prototype.toString,{Z_NO_FLUSH:$B,Z_FINISH:YB,Z_OK:kh,Z_STREAM_END:y1,Z_NEED_DICT:b1,Z_STREAM_ERROR:KB,Z_DATA_ERROR:wN,Z_MEM_ERROR:QB}=vC;function Vh(e){this.options=yC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hB,this.strm.avail_out=0;let s=Dl.inflateInit2(this.strm,t.windowBits);if(s!==kh)throw new Error(Cx[s]);if(this.header=new ZB,Dl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Tx.string2buf(t.dictionary):LC.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=Dl.inflateSetDictionary(this.strm,t.dictionary),s!==kh)))throw new Error(Cx[s])}Vh.prototype.push=function(e,t){const s=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let l,u,d;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?YB:$B,LC.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(i),s.next_out=0,s.avail_out=i),l=Dl.inflate(s,u),l===b1&&o&&(l=Dl.inflateSetDictionary(s,o),l===kh?l=Dl.inflate(s,u):l===wN&&(l=b1));s.avail_in>0&&l===y1&&s.state.wrap>0&&e[s.next_in]!==0;)Dl.inflateReset(s),l=Dl.inflate(s,u);switch(l){case KB:case wN:case b1:case QB:return this.onEnd(l),this.ended=!0,!1}if(d=s.avail_out,s.next_out&&(s.avail_out===0||l===y1))if(this.options.to==="string"){let f=Tx.utf8border(s.output,s.next_out),m=s.next_out-f,p=Tx.buf2string(s.output,f);s.next_out=m,s.avail_out=i-m,m&&s.output.set(s.output.subarray(f,f+m),0),this.onData(p)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(l===kh&&d===0)){if(l===y1)return l=Dl.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Vh.prototype.onData=function(e){this.chunks.push(e)};Vh.prototype.onEnd=function(e){e===kh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function JB(e,t){const s=new Vh(t);if(s.push(e),s.err)throw s.msg||Cx[s.err];return s.result}var eH=Vh,tH=JB,nH={Inflate:eH,inflate:tH};const{Inflate:sH,inflate:aH}=nH;var NN=sH,iH=aH;const DC=[];for(let e=0;e<256;e++){let t=e;for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t=t>>>1;DC[e]=t}const jN=4294967295;function rH(e,t,s){let i=e;for(let o=0;o<s;o++)i=DC[(i^t[o])&255]^i>>>8;return i}function oH(e,t){return(rH(jN,e,t)^jN)>>>0}function SN(e,t,s){const i=e.readUint32(),o=oH(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(o!==i)throw new Error(`CRC mismatch for chunk ${s}. Expected ${i}, found ${o}`)}function RC(e,t,s){for(let i=0;i<s;i++)t[i]=e[i]}function OC(e,t,s,i){let o=0;for(;o<i;o++)t[o]=e[o];for(;o<s;o++)t[o]=e[o]+t[o-i]&255}function PC(e,t,s,i){let o=0;if(s.length===0)for(;o<i;o++)t[o]=e[o];else for(;o<i;o++)t[o]=e[o]+s[o]&255}function IC(e,t,s,i,o){let l=0;if(s.length===0){for(;l<o;l++)t[l]=e[l];for(;l<i;l++)t[l]=e[l]+(t[l-o]>>1)&255}else{for(;l<o;l++)t[l]=e[l]+(s[l]>>1)&255;for(;l<i;l++)t[l]=e[l]+(t[l-o]+s[l]>>1)&255}}function BC(e,t,s,i,o){let l=0;if(s.length===0){for(;l<o;l++)t[l]=e[l];for(;l<i;l++)t[l]=e[l]+t[l-o]&255}else{for(;l<o;l++)t[l]=e[l]+s[l]&255;for(;l<i;l++)t[l]=e[l]+lH(t[l-o],s[l],s[l-o])&255}}function lH(e,t,s){const i=e+t-s,o=Math.abs(i-e),l=Math.abs(i-t),u=Math.abs(i-s);return o<=l&&o<=u?e:l<=u?t:s}function cH(e,t,s,i,o,l){switch(e){case 0:RC(t,s,o);break;case 1:OC(t,s,o,l);break;case 2:PC(t,s,i,o);break;case 3:IC(t,s,i,o,l);break;case 4:BC(t,s,i,o,l);break;default:throw new Error(`Unsupported filter: ${e}`)}}const uH=new Uint16Array([255]),dH=new Uint8Array(uH.buffer),fH=dH[0]===255;function hH(e){const{data:t,width:s,height:i,channels:o,depth:l}=e,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(l/8)*o,f=new Uint8Array(i*s*d);let m=0;for(let p=0;p<7;p++){const x=u[p],N=Math.ceil((s-x.x)/x.xStep),y=Math.ceil((i-x.y)/x.yStep);if(N<=0||y<=0)continue;const C=N*d,M=new Uint8Array(C);for(let S=0;S<y;S++){const j=t[m++],L=t.subarray(m,m+C);m+=C;const R=new Uint8Array(C);cH(j,L,R,M,C,d),M.set(R);for(let D=0;D<N;D++){const U=x.x+D*x.xStep,G=x.y+S*x.yStep;if(!(U>=s||G>=i))for(let $=0;$<d;$++)f[(G*s+U)*d+$]=R[D*d+$]}}}if(l===16){const p=new Uint16Array(f.buffer);if(fH)for(let x=0;x<p.length;x++)p[x]=mH(p[x]);return p}else return f}function mH(e){return(e&255)<<8|e>>8&255}const pH=new Uint16Array([255]),gH=new Uint8Array(pH.buffer),xH=gH[0]===255,vH=new Uint8Array(0);function AN(e){const{data:t,width:s,height:i,channels:o,depth:l}=e,u=Math.ceil(l/8)*o,d=Math.ceil(l/8*o*s),f=new Uint8Array(i*d);let m=vH,p=0,x,N;for(let y=0;y<i;y++){switch(x=t.subarray(p+1,p+1+d),N=f.subarray(y*d,(y+1)*d),t[p]){case 0:RC(x,N,d);break;case 1:OC(x,N,d,u);break;case 2:PC(x,N,m,d);break;case 3:IC(x,N,m,d,u);break;case 4:BC(x,N,m,d,u);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}m=N,p+=d+1}if(l===16){const y=new Uint16Array(f.buffer);if(xH)for(let C=0;C<y.length;C++)y[C]=yH(y[C]);return y}else return f}function yH(e){return(e&255)<<8|e>>8&255}const gp=Uint8Array.of(137,80,78,71,13,10,26,10);function CN(e){if(!bH(e.readBytes(gp.length)))throw new Error("wrong PNG signature")}function bH(e){if(e.length<gp.length)return!1;for(let t=0;t<gp.length;t++)if(e[t]!==gp[t])return!1;return!0}const wH="tEXt",NH=0,HC=new TextDecoder("latin1");function jH(e){if(AH(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const SH=/^[\u0000-\u00FF]*$/;function AH(e){if(!SH.test(e))throw new Error("invalid latin1 text")}function CH(e,t,s){const i=FC(t);e[i]=TH(t,s-i.length-1)}function FC(e){for(e.mark();e.readByte()!==NH;);const t=e.offset;e.reset();const s=HC.decode(e.readBytes(t-e.offset-1));return e.skip(1),jH(s),s}function TH(e,t){return HC.decode(e.readBytes(t))}const $i={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},w1={UNKNOWN:-1,DEFLATE:0},TN={UNKNOWN:-1,ADAPTIVE:0},N1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sp={NONE:0,BACKGROUND:1,PREVIOUS:2},j1={SOURCE:0,OVER:1};class MH extends sv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,s={}){super(t);const{checkCrc:i=!1}=s;this._checkCrc=i,this._inflator=new NN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=w1.UNKNOWN,this._filterMethod=TN.UNKNOWN,this._interlaceMethod=N1.UNKNOWN,this._colorType=$i.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(CN(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(CN(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const i=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case wH:CH(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?SN(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const i=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?SN(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=EH(this.readUint8());const s=this.readUint8();this._colorType=s;let i;switch(s){case $i.GREYSCALE:i=1;break;case $i.TRUECOLOUR:i=3;break;case $i.INDEXED_COLOUR:i=1;break;case $i.GREYSCALE_ALPHA:i=2;break;case $i.TRUECOLOUR_ALPHA:i=4;break;case $i.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==w1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<s;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,i=this.offset+this.byteOffset;if(i+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,i,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case $i.GREYSCALE:case $i.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case $i.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const i=this.readByte();this._palette[s].push(i)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case $i.UNKNOWN:case $i.GREYSCALE_ALPHA:case $i.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=FC(this),i=this.readUint8();if(i!==w1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:iH(o)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:s,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=AN({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)s.data=i.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(i,o,s),this.addFrameDataToCanvas(s,i)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,i){switch(t.disposeOp){case sp.NONE:break;case sp.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const u=(o*t.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[u+d]=0}break;case sp.PREVIOUS:i.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const i=1<<this._png.depth,o=(l,u)=>{const d=((l+s.yOffset)*this._png.width+s.xOffset+u)*this._png.channels,f=(l*s.width+u)*this._png.channels;return{index:d,frameIndex:f}};switch(s.blendOp){case j1.SOURCE:for(let l=0;l<s.height;l++)for(let u=0;u<s.width;u++){const{index:d,frameIndex:f}=o(l,u);for(let m=0;m<this._png.channels;m++)t.data[d+m]=s.data[f+m]}break;case j1.OVER:for(let l=0;l<s.height;l++)for(let u=0;u<s.width;u++){const{index:d,frameIndex:f}=o(l,u);for(let m=0;m<this._png.channels;m++){const p=s.data[f+this._png.channels-1]/i,x=m%(this._png.channels-1)===0?1:s.data[f+m],N=Math.floor(p*x+(1-p)*t.data[d+m]);t.data[d+m]+=N}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==TN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===N1.NO_INTERLACE)this._png.data=AN({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===N1.ADAM7)this._png.data=hH({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sp.NONE,blendOp:j1.SOURCE,data:t}),this._inflator=new NN,this._writingDataChunks=!1}}function EH(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var MN;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(MN||(MN={}));function _H(e,t){return new MH(e,t).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function S1(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var cs={log:S1,warn:function(e){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):S1.call(null,arguments))},error:function(e){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):S1(e))}};function A1(e,t,s){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){ju(i.response,t,s)},i.onerror=function(){cs.error("could not download file")},i.send()}function EN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ap(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ju=Wt.saveAs||((typeof window>"u"?"undefined":Yn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var i=Wt.URL||Wt.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?EN(o.href)?A1(e,t,s):ap(o,o.target="_blank"):ap(o)):(o.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){ap(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(EN(e))A1(e,t,s);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){ap(i)})}else navigator.msSaveOrOpenBlob((function(o,l){return l===void 0?l={autoBom:!1}:Yn(l)!=="object"&&(cs.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(e,s),t)}:function(e,t,s,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return A1(e,t,s);var o=e.type==="application/octet-stream",l=/constructor/i.test(Wt.HTMLElement)||Wt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l)&&(typeof FileReader>"u"?"undefined":Yn(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var p=d.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},d.readAsDataURL(e)}else{var f=Wt.URL||Wt.webkitURL,m=f.createObjectURL(e);i?i.location=m:location.href=m,i=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zC(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<s.length;i++){var o=s[i].re,l=s[i].process,u=o.exec(e);u&&(t=l(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+d+f+m}}var xp=Wt.atob.bind(Wt),_N=Wt.btoa.bind(Wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function C1(e,t){var s=e[0],i=e[1],o=e[2],l=e[3];s=Wa(s,i,o,l,t[0],7,-680876936),l=Wa(l,s,i,o,t[1],12,-389564586),o=Wa(o,l,s,i,t[2],17,606105819),i=Wa(i,o,l,s,t[3],22,-1044525330),s=Wa(s,i,o,l,t[4],7,-176418897),l=Wa(l,s,i,o,t[5],12,1200080426),o=Wa(o,l,s,i,t[6],17,-1473231341),i=Wa(i,o,l,s,t[7],22,-45705983),s=Wa(s,i,o,l,t[8],7,1770035416),l=Wa(l,s,i,o,t[9],12,-1958414417),o=Wa(o,l,s,i,t[10],17,-42063),i=Wa(i,o,l,s,t[11],22,-1990404162),s=Wa(s,i,o,l,t[12],7,1804603682),l=Wa(l,s,i,o,t[13],12,-40341101),o=Wa(o,l,s,i,t[14],17,-1502002290),s=Xa(s,i=Wa(i,o,l,s,t[15],22,1236535329),o,l,t[1],5,-165796510),l=Xa(l,s,i,o,t[6],9,-1069501632),o=Xa(o,l,s,i,t[11],14,643717713),i=Xa(i,o,l,s,t[0],20,-373897302),s=Xa(s,i,o,l,t[5],5,-701558691),l=Xa(l,s,i,o,t[10],9,38016083),o=Xa(o,l,s,i,t[15],14,-660478335),i=Xa(i,o,l,s,t[4],20,-405537848),s=Xa(s,i,o,l,t[9],5,568446438),l=Xa(l,s,i,o,t[14],9,-1019803690),o=Xa(o,l,s,i,t[3],14,-187363961),i=Xa(i,o,l,s,t[8],20,1163531501),s=Xa(s,i,o,l,t[13],5,-1444681467),l=Xa(l,s,i,o,t[2],9,-51403784),o=Xa(o,l,s,i,t[7],14,1735328473),s=Za(s,i=Xa(i,o,l,s,t[12],20,-1926607734),o,l,t[5],4,-378558),l=Za(l,s,i,o,t[8],11,-2022574463),o=Za(o,l,s,i,t[11],16,1839030562),i=Za(i,o,l,s,t[14],23,-35309556),s=Za(s,i,o,l,t[1],4,-1530992060),l=Za(l,s,i,o,t[4],11,1272893353),o=Za(o,l,s,i,t[7],16,-155497632),i=Za(i,o,l,s,t[10],23,-1094730640),s=Za(s,i,o,l,t[13],4,681279174),l=Za(l,s,i,o,t[0],11,-358537222),o=Za(o,l,s,i,t[3],16,-722521979),i=Za(i,o,l,s,t[6],23,76029189),s=Za(s,i,o,l,t[9],4,-640364487),l=Za(l,s,i,o,t[12],11,-421815835),o=Za(o,l,s,i,t[15],16,530742520),s=$a(s,i=Za(i,o,l,s,t[2],23,-995338651),o,l,t[0],6,-198630844),l=$a(l,s,i,o,t[7],10,1126891415),o=$a(o,l,s,i,t[14],15,-1416354905),i=$a(i,o,l,s,t[5],21,-57434055),s=$a(s,i,o,l,t[12],6,1700485571),l=$a(l,s,i,o,t[3],10,-1894986606),o=$a(o,l,s,i,t[10],15,-1051523),i=$a(i,o,l,s,t[1],21,-2054922799),s=$a(s,i,o,l,t[8],6,1873313359),l=$a(l,s,i,o,t[15],10,-30611744),o=$a(o,l,s,i,t[6],15,-1560198380),i=$a(i,o,l,s,t[13],21,1309151649),s=$a(s,i,o,l,t[4],6,-145523070),l=$a(l,s,i,o,t[11],10,-1120210379),o=$a(o,l,s,i,t[2],15,718787259),i=$a(i,o,l,s,t[9],21,-343485551),e[0]=Ec(s,e[0]),e[1]=Ec(i,e[1]),e[2]=Ec(o,e[2]),e[3]=Ec(l,e[3])}function v0(e,t,s,i,o,l){return t=Ec(Ec(t,e),Ec(i,l)),Ec(t<<o|t>>>32-o,s)}function Wa(e,t,s,i,o,l,u){return v0(t&s|~t&i,e,t,o,l,u)}function Xa(e,t,s,i,o,l,u){return v0(t&i|s&~i,e,t,o,l,u)}function Za(e,t,s,i,o,l,u){return v0(t^s^i,e,t,o,l,u)}function $a(e,t,s,i,o,l,u){return v0(s^(t|~i),e,t,o,l,u)}function UC(e){var t,s=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)C1(i,kH(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(C1(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*s,C1(i,o),i}function kH(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var kN="0123456789abcdef".split("");function LH(e){for(var t="",s=0;s<4;s++)t+=kN[e>>8*s+4&15]+kN[e>>8*s&15];return t}function DH(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Mx(e){return UC(e).map(DH).join("")}var RH=(function(e){for(var t=0;t<e.length;t++)e[t]=LH(e[t]);return e.join("")})(UC("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ec(e,t){if(RH){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ex(e,t){var s,i,o,l;if(e!==s){for(var u=(o=e,l=1+(256/e.length|0),new Array(l+1).join(o)),d=[],f=0;f<256;f++)d[f]=f;var m=0;for(f=0;f<256;f++){var p=d[f];m=(m+p+u.charCodeAt(f))%256,d[f]=d[m],d[m]=p}s=e,i=d}else d=i;var x=t.length,N=0,y=0,C="";for(f=0;f<x;f++)y=(y+(p=d[N=(N+1)%256]))%256,d[N]=d[y],d[y]=p,u=d[(d[N]+d[y])%256],C+=String.fromCharCode(t.charCodeAt(f)^u);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LN={print:4,modify:8,copy:16,"annot-forms":32};function Wd(e,t,s,i){this.v=1,this.r=2;var o=192;e.forEach(function(d){if(LN.perm!==void 0)throw new Error("Invalid permission: "+d);o+=LN[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),u=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,u),this.P=-(1+(255^o)),this.encryptionKey=Mx(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Ex(this.encryptionKey,this.padding)}function Xd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,i=0;i<s;i++){var o=e.charCodeAt(i);t+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):e[i]}return t}function DN(e){if(Yn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,i,o){if(o=o||!1,typeof s!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var l=Math.random().toString(35);return t[s][l]=[i,!!o],l},this.unsubscribe=function(s){for(var i in t)if(t[i][s])return delete t[i][s],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var l in t[s]){var u=t[s][l];try{u[0].apply(e,i)}catch(d){Wt.console&&cs.error("jsPDF PubSub Error",d.message,d)}u[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Up(e){if(!(this instanceof Up))return new Up(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function qC(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Su(e,t,s,i,o){if(!(this instanceof Su))return new Su(e,t,s,i,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,qC.call(this,i,o)}function Jd(e,t,s,i,o){if(!(this instanceof Jd))return new Jd(e,t,s,i,o);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,qC.call(this,i,o)}function Tt(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],l=arguments[3],u=[],d=1,f=16,m="S",p=null;Yn(e=e||{})==="object"&&(s=e.orientation,i=e.unit||i,o=e.format||o,l=e.compress||e.compressPdf||l,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),d=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(f=e.floatPrecision),m=e.defaultPathOperation||"S"),u=e.filters||(l===!0?["FlateEncode"]:u),i=i||"mm",s=(""+(s||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,N={},y={internal:{},__private__:{}};y.__private__.PubSub=DN;var C="1.3",M=y.__private__.getPdfVersion=function(){return C};y.__private__.setPdfVersion=function(A){C=A};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return S};var j=y.__private__.getPageFormat=function(A){return S[A]};o=o||"a4";var L="compat",R="advanced",D=L;function U(){this.saveGraphicsState(),re(new ct(Ct,0,0,-Ct,0,Pr()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),m="n",D=R}function G(){this.restoreGraphicsState(),m="S",D=L}var $=y.__private__.combineFontStyleAndFontWeight=function(A,X){if(A=="bold"&&X=="normal"||A=="bold"&&X==400||A=="normal"&&X=="italic"||A=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(A=X==400||X==="normal"?A==="italic"?"italic":"normal":X!=700&&X!=="bold"||A!=="normal"?(X==700?"bold":X)+""+A:"bold"),A};y.advancedAPI=function(A){var X=D===L;return X&&U.call(this),typeof A!="function"||(A(this),X&&G.call(this)),this},y.compatAPI=function(A){var X=D===R;return X&&G.call(this),typeof A!="function"||(A(this),X&&U.call(this)),this},y.isAdvancedAPI=function(){return D===R};var B,Y=function(A){if(D!==R)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},fe=y.roundToPrecision=y.__private__.roundToPrecision=function(A,X){var pe=t||X;if(isNaN(A)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(pe).replace(/0+$/,"")};B=y.hpf=y.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(A,16)};var V=y.f2=y.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return fe(A,2)},P=y.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return fe(A,3)},F=y.scale=y.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return D===L?A*Ct:D===R?A:void 0},W=function(A){return F((function(X){return D===L?Pr()-X:D===R?X:void 0})(A))};y.__private__.setPrecision=y.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var te,z="00000000000000000000000000000000",K=y.__private__.getFileId=function(){return z},H=y.__private__.setFileId=function(A){return z=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Es=new Wd(p.userPermissions,p.userPassword,p.ownerPassword,z)),z};y.setFileId=function(A){return H(A),this},y.getFileId=function(){return K()};var ue=y.__private__.convertDateToPDFDate=function(A){var X=A.getTimezoneOffset(),pe=X<0?"+":"-",ye=Math.floor(Math.abs(X/60)),Ae=Math.abs(X%60),Ge=[pe,J(ye),"'",J(Ae),"'"].join("");return["D:",A.getFullYear(),J(A.getMonth()+1),J(A.getDate()),J(A.getHours()),J(A.getMinutes()),J(A.getSeconds()),Ge].join("")},ae=y.__private__.convertPDFDateToDate=function(A){var X=parseInt(A.substr(2,4),10),pe=parseInt(A.substr(6,2),10)-1,ye=parseInt(A.substr(8,2),10),Ae=parseInt(A.substr(10,2),10),Ge=parseInt(A.substr(12,2),10),Je=parseInt(A.substr(14,2),10);return new Date(X,pe,ye,Ae,Ge,Je,0)},_=y.__private__.setCreationDate=function(A){var X;if(A===void 0&&(A=new Date),A instanceof Date)X=ue(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=A}return te=X},k=y.__private__.getCreationDate=function(A){var X=te;return A==="jsDate"&&(X=ae(te)),X};y.setCreationDate=function(A){return _(A),this},y.getCreationDate=function(A){return k(A)};var q,J=y.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},oe=y.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ce=0,me=[],be=[],ve=0,Me=[],Pe=[],Xe=!1,Qe=be;y.__private__.setCustomOutputDestination=function(A){Xe=!0,Qe=A};var ge=function(A){Xe||(Qe=A)};y.__private__.resetCustomOutputDestination=function(){Xe=!1,Qe=be};var re=y.__private__.out=function(A){return A=A.toString(),ve+=A.length+1,Qe.push(A),Qe},Pt=y.__private__.write=function(A){return re(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Te=y.__private__.getArrayBuffer=function(A){for(var X=A.length,pe=new ArrayBuffer(X),ye=new Uint8Array(pe);X--;)ye[X]=A.charCodeAt(X);return pe},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return we};var ke=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(A){return ke=D===R?A/Ct:A,this};var $e,st=y.__private__.getFontSize=y.getFontSize=function(){return D===L?ke:ke*Ct},le=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(A){return le=A,this},y.__private__.getR2L=y.getR2L=function(){return le};var et,ut=y.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))$e=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');$e=A}else $e=parseInt(A,10)};y.__private__.getZoomMode=function(){return $e};var St,At=y.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');et=A};y.__private__.getPageMode=function(){return et};var mn=y.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');St=A};y.__private__.getLayoutMode=function(){return St},y.__private__.setDisplayMode=y.setDisplayMode=function(A,X,pe){return ut(A),mn(X),At(pe),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(A){if(Object.keys(_t).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[A]},y.__private__.getDocumentProperties=function(){return _t},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(A){for(var X in _t)_t.hasOwnProperty(X)&&A[X]&&(_t[X]=A[X]);return this},y.__private__.setDocumentProperty=function(A,X){if(Object.keys(_t).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[A]=X};var ht,Ct,jt,wn,cn,lt={},kt={},Zt=[],Rt={},en={},Ot={},Kn={},ds=null,Nn=0,Mt=[],ot=new DN(y),Pn=e.hotfixes||[],jn={},fs={},aa=[],ct=function A(X,pe,ye,Ae,Ge,Je){if(!(this instanceof A))return new A(X,pe,ye,Ae,Ge,Je);isNaN(X)&&(X=1),isNaN(pe)&&(pe=0),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=1),isNaN(Ge)&&(Ge=0),isNaN(Je)&&(Je=0),this._matrix=[X,pe,ye,Ae,Ge,Je]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(A)},ct.prototype.multiply=function(A){var X=A.sx*this.sx+A.shy*this.shx,pe=A.sx*this.shy+A.shy*this.sy,ye=A.shx*this.sx+A.sy*this.shx,Ae=A.shx*this.shy+A.sy*this.sy,Ge=A.tx*this.sx+A.ty*this.shx+this.tx,Je=A.tx*this.shy+A.ty*this.sy+this.ty;return new ct(X,pe,ye,Ae,Ge,Je)},ct.prototype.decompose=function(){var A=this.sx,X=this.shy,pe=this.shx,ye=this.sy,Ae=this.tx,Ge=this.ty,Je=Math.sqrt(A*A+X*X),pt=(A/=Je)*pe+(X/=Je)*ye;pe-=A*pt,ye-=X*pt;var wt=Math.sqrt(pe*pe+ye*ye);return pt/=wt,A*(ye/=wt)<X*(pe/=wt)&&(A=-A,X=-X,pt=-pt,Je=-Je),{scale:new ct(Je,0,0,wt,0,0),translate:new ct(1,0,0,1,Ae,Ge),rotate:new ct(A,X,-X,A,0,0),skew:new ct(1,0,pt,1,0,0)}},ct.prototype.toString=function(A){return this.join(" ")},ct.prototype.inversed=function(){var A=this.sx,X=this.shy,pe=this.shx,ye=this.sy,Ae=this.tx,Ge=this.ty,Je=1/(A*ye-X*pe),pt=ye*Je,wt=-X*Je,zt=-pe*Je,Xt=A*Je;return new ct(pt,wt,zt,Xt,-pt*Ae-zt*Ge,-wt*Ae-Xt*Ge)},ct.prototype.applyToPoint=function(A){var X=A.x*this.sx+A.y*this.shx+this.tx,pe=A.x*this.shy+A.y*this.sy+this.ty;return new ir(X,pe)},ct.prototype.applyToRectangle=function(A){var X=this.applyToPoint(A),pe=this.applyToPoint(new ir(A.x+A.w,A.y+A.h));return new Dr(X.x,X.y,pe.x-X.x,pe.y-X.y)},ct.prototype.clone=function(){var A=this.sx,X=this.shy,pe=this.shx,ye=this.sy,Ae=this.tx,Ge=this.ty;return new ct(A,X,pe,ye,Ae,Ge)},y.Matrix=ct;var bs=y.matrixMult=function(A,X){return X.multiply(A)},Ea=new ct(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Ea;var as=function(A,X){if(!en[A]){var pe=(X instanceof Su?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);X.id=pe,en[A]=pe,Rt[pe]=X,ot.publish("addPattern",X)}};y.ShadingPattern=Su,y.TilingPattern=Jd,y.addShadingPattern=function(A,X){return Y("addShadingPattern()"),as(A,X),this},y.beginTilingPattern=function(A){Y("beginTilingPattern()"),rl(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},y.endTilingPattern=function(A,X){Y("endTilingPattern()"),X.stream=Pe[q].join(`
`),as(A,X),ot.publish("endTilingPattern",X),aa.pop().restore()};var is,Gn=y.__private__.newObject=function(){var A=qn();return Gs(A,!0),A},qn=y.__private__.newObjectDeferred=function(){return ce++,me[ce]=function(){return ve},ce},Gs=function(A,X){return X=typeof X=="boolean"&&X,me[A]=ve,X&&re(A+" 0 obj"),A},mo=y.__private__.newAdditionalObject=function(){var A={objId:qn(),content:""};return Me.push(A),A},_a=qn(),Wn=qn(),hs=y.__private__.decodeColorString=function(A){var X=A.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var pe=parseFloat(X[0]);X=[pe,pe,pe,"r"]}for(var ye="#",Ae=0;Ae<3;Ae++)ye+=("0"+Math.floor(255*parseFloat(X[Ae])).toString(16)).slice(-2);return ye},va=y.__private__.encodeColorString=function(A){var X;typeof A=="string"&&(A={ch1:A});var pe=A.ch1,ye=A.ch2,Ae=A.ch3,Ge=A.ch4,Je=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var pt=new zC(pe);if(pt.ok)pe=pt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var wt=parseInt(pe.substr(1),16);pe=wt>>16&255,ye=wt>>8&255,Ae=255&wt}if(ye===void 0||Ge===void 0&&pe===ye&&ye===Ae)X=typeof pe=="string"?pe+" "+Je[0]:A.precision===2?V(pe/255)+" "+Je[0]:P(pe/255)+" "+Je[0];else if(Ge===void 0||Yn(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",Je[1]].join(" ");X=typeof pe=="string"?[pe,ye,Ae,Je[1]].join(" "):A.precision===2?[V(pe/255),V(ye/255),V(Ae/255),Je[1]].join(" "):[P(pe/255),P(ye/255),P(Ae/255),Je[1]].join(" ")}else X=typeof pe=="string"?[pe,ye,Ae,Ge,Je[2]].join(" "):A.precision===2?[V(pe),V(ye),V(Ae),V(Ge),Je[2]].join(" "):[P(pe),P(ye),P(Ae),P(Ge),Je[2]].join(" ");return X},ei=y.__private__.getFilters=function(){return u},hi=y.__private__.putStream=function(A){var X=(A=A||{}).data||"",pe=A.filters||ei(),ye=A.alreadyAppliedFilters||[],Ae=A.addLength1||!1,Ge=X.length,Je=A.objectId,pt=function(Ws){return Ws};if(p!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(pt=Es.encryptor(Je,0));var wt={};pe===!0&&(pe=["FlateEncode"]);var zt=A.additionalKeyValues||[],Xt=(wt=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(X,pe):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(wt.data.length!==0&&(zt.push({key:"Length",value:wt.data.length}),Ae===!0&&zt.push({key:"Length1",value:Ge})),Xt.length!=0)if(Xt.split("/").length-1==1)zt.push({key:"Filter",value:Xt});else{zt.push({key:"Filter",value:"["+Xt+"]"});for(var En=0;En<zt.length;En+=1)if(zt[En].key==="DecodeParms"){for(var ms=[],_s=0;_s<wt.reverseChain.split("/").length-1;_s+=1)ms.push("null");ms.push(zt[En].value),zt[En].value="["+ms.join(" ")+"]"}}re("<<");for(var Qn=0;Qn<zt.length;Qn++)re("/"+zt[Qn].key+" "+zt[Qn].value);re(">>"),wt.data.length!==0&&(re("stream"),re(pt(wt.data)),re("endstream"))},Jo=y.__private__.putPage=function(A){var X=A.number,pe=A.data,ye=A.objId,Ae=A.contentsObjId;Gs(ye,!0),re("<</Type /Page"),re("/Parent "+A.rootDictionaryObjId+" 0 R"),re("/Resources "+A.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(B(A.mediaBox.bottomLeftX))+" "+parseFloat(B(A.mediaBox.bottomLeftY))+" "+B(A.mediaBox.topRightX)+" "+B(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&re("/CropBox ["+B(A.cropBox.bottomLeftX)+" "+B(A.cropBox.bottomLeftY)+" "+B(A.cropBox.topRightX)+" "+B(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&re("/BleedBox ["+B(A.bleedBox.bottomLeftX)+" "+B(A.bleedBox.bottomLeftY)+" "+B(A.bleedBox.topRightX)+" "+B(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&re("/TrimBox ["+B(A.trimBox.bottomLeftX)+" "+B(A.trimBox.bottomLeftY)+" "+B(A.trimBox.topRightX)+" "+B(A.trimBox.topRightY)+"]"),A.artBox!==null&&re("/ArtBox ["+B(A.artBox.bottomLeftX)+" "+B(A.artBox.bottomLeftY)+" "+B(A.artBox.topRightX)+" "+B(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&re("/UserUnit "+A.userUnit),ot.publish("putPage",{objId:ye,pageContext:Mt[X],pageNumber:X,page:pe}),re("/Contents "+Ae+" 0 R"),re(">>"),re("endobj");var Ge=pe.join(`
`);return D===R&&(Ge+=`
Q`),Gs(Ae,!0),hi({data:Ge,filters:ei(),objectId:Ae}),re("endobj"),ye},Ri=y.__private__.putPages=function(){var A,X,pe=[];for(A=1;A<=Nn;A++)Mt[A].objId=qn(),Mt[A].contentsObjId=qn();for(A=1;A<=Nn;A++)pe.push(Jo({number:A,data:Pe[A],objId:Mt[A].objId,contentsObjId:Mt[A].contentsObjId,mediaBox:Mt[A].mediaBox,cropBox:Mt[A].cropBox,bleedBox:Mt[A].bleedBox,trimBox:Mt[A].trimBox,artBox:Mt[A].artBox,userUnit:Mt[A].userUnit,rootDictionaryObjId:_a,resourceDictionaryObjId:Wn}));Gs(_a,!0),re("<</Type /Pages");var ye="/Kids [";for(X=0;X<Nn;X++)ye+=pe[X]+" 0 R ";re(ye+"]"),re("/Count "+Nn),re(">>"),re("endobj"),ot.publish("postPutPages")},Oi=function(A){ot.publish("putFont",{font:A,out:re,newObject:Gn,putStream:hi}),A.isAlreadyPutted!==!0&&(A.objectNumber=Gn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Xd(A.postScriptName)),re("/Subtype /Type1"),typeof A.encoding=="string"&&re("/Encoding /"+A.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},po=function(A){A.objectNumber=Gn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[B(A.x),B(A.y),B(A.x+A.width),B(A.y+A.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var pe=A.pages[1].join(`
`);hi({data:pe,additionalKeyValues:X,objectId:A.objectNumber}),re("endobj")},Pi=function(A,X){X||(X=21);var pe=Gn(),ye=(function(Je,pt){var wt,zt=[],Xt=1/(pt-1);for(wt=0;wt<1;wt+=Xt)zt.push(wt);if(zt.push(1),Je[0].offset!=0){var En={offset:0,color:Je[0].color};Je.unshift(En)}if(Je[Je.length-1].offset!=1){var ms={offset:1,color:Je[Je.length-1].color};Je.push(ms)}for(var _s="",Qn=0,Ws=0;Ws<zt.length;Ws++){for(wt=zt[Ws];wt>Je[Qn+1].offset;)Qn++;var Ps=Je[Qn].offset,ra=(wt-Ps)/(Je[Qn+1].offset-Ps),pi=Je[Qn].color,Ua=Je[Qn+1].color;_s+=oe(Math.round((1-ra)*pi[0]+ra*Ua[0]).toString(16))+oe(Math.round((1-ra)*pi[1]+ra*Ua[1]).toString(16))+oe(Math.round((1-ra)*pi[2]+ra*Ua[2]).toString(16))}return _s.trim()})(A.colors,X),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+X+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hi({data:ye,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),re("endobj"),A.objectNumber=Gn(),re("<< /ShadingType "+A.type),re("/ColorSpace /DeviceRGB");var Ge="/Coords ["+B(parseFloat(A.coords[0]))+" "+B(parseFloat(A.coords[1]))+" ";A.type===2?Ge+=B(parseFloat(A.coords[2]))+" "+B(parseFloat(A.coords[3])):Ge+=B(parseFloat(A.coords[2]))+" "+B(parseFloat(A.coords[3]))+" "+B(parseFloat(A.coords[4]))+" "+B(parseFloat(A.coords[5])),re(Ge+="]"),A.matrix&&re("/Matrix ["+A.matrix.toString()+"]"),re("/Function "+pe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Ii=function(A,X){var pe=qn(),ye=Gn();X.push({resourcesOid:pe,objectOid:ye}),A.objectNumber=ye;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+A.boundingBox.map(B).join(" ")+"]"}),Ae.push({key:"XStep",value:B(A.xStep)}),Ae.push({key:"YStep",value:B(A.yStep)}),Ae.push({key:"Resources",value:pe+" 0 R"}),A.matrix&&Ae.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),hi({data:A.stream,additionalKeyValues:Ae,objectId:A.objectNumber}),re("endobj")},el=function(A){for(var X in A.objectNumber=Gn(),re("<<"),A)switch(X){case"opacity":re("/ca "+V(A[X]));break;case"stroke-opacity":re("/CA "+V(A[X]))}re(">>"),re("endobj")},nr=function(A){Gs(A.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in re("/Font <<"),lt)lt.hasOwnProperty(X)&&(x===!1||x===!0&&N.hasOwnProperty(X))&&re("/"+X+" "+lt[X].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var X in re("/Shading <<"),Rt)Rt.hasOwnProperty(X)&&Rt[X]instanceof Su&&Rt[X].objectNumber>=0&&re("/"+X+" "+Rt[X].objectNumber+" 0 R");ot.publish("putShadingPatternDict"),re(">>")}})(),(function(X){if(Object.keys(Rt).length>0){for(var pe in re("/Pattern <<"),Rt)Rt.hasOwnProperty(pe)&&Rt[pe]instanceof y.TilingPattern&&Rt[pe].objectNumber>=0&&Rt[pe].objectNumber<X&&re("/"+pe+" "+Rt[pe].objectNumber+" 0 R");ot.publish("putTilingPatternDict"),re(">>")}})(A.objectOid),(function(){if(Object.keys(Ot).length>0){var X;for(X in re("/ExtGState <<"),Ot)Ot.hasOwnProperty(X)&&Ot[X].objectNumber>=0&&re("/"+X+" "+Ot[X].objectNumber+" 0 R");ot.publish("putGStateDict"),re(">>")}})(),(function(){for(var X in re("/XObject <<"),jn)jn.hasOwnProperty(X)&&jn[X].objectNumber>=0&&re("/"+X+" "+jn[X].objectNumber+" 0 R");ot.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Ms=function(A){kt[A.fontName]=kt[A.fontName]||{},kt[A.fontName][A.fontStyle]=A.id},zc=function(A,X,pe,ye,Ae){var Ge={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:A,fontName:X,fontStyle:pe,encoding:ye,isStandardFont:Ae||!1,metadata:{}};return ot.publish("addFont",{font:Ge,instance:this}),lt[Ge.id]=Ge,Ms(Ge),Ge.id},ti=y.__private__.pdfEscape=y.pdfEscape=function(A,X){return(function(pe,ye){var Ae,Ge,Je,pt,wt,zt,Xt,En,ms;if(Je=(ye=ye||{}).sourceEncoding||"Unicode",wt=ye.outputEncoding,(ye.autoencode||wt)&&lt[ht].metadata&&lt[ht].metadata[Je]&&lt[ht].metadata[Je].encoding&&(pt=lt[ht].metadata[Je].encoding,!wt&&lt[ht].encoding&&(wt=lt[ht].encoding),!wt&&pt.codePages&&(wt=pt.codePages[0]),typeof wt=="string"&&(wt=pt[wt]),wt)){for(Xt=!1,zt=[],Ae=0,Ge=pe.length;Ae<Ge;Ae++)(En=wt[pe.charCodeAt(Ae)])?zt.push(String.fromCharCode(En)):zt.push(pe[Ae]),zt[Ae].charCodeAt(0)>>8&&(Xt=!0);pe=zt.join("")}for(Ae=pe.length;Xt===void 0&&Ae!==0;)pe.charCodeAt(Ae-1)>>8&&(Xt=!0),Ae--;if(!Xt)return pe;for(zt=ye.noBOM?[]:[254,255],Ae=0,Ge=pe.length;Ae<Ge;Ae++){if((ms=(En=pe.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(ms),zt.push(En-(ms<<8))}return String.fromCharCode.apply(void 0,zt)})(A,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bi=y.__private__.beginPage=function(A){Pe[++Nn]=[],Mt[Nn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},qc(Nn),ge(Pe[q])},Tr=function(A,X){var pe,ye,Ae;switch(s=X||s,typeof A=="string"&&(pe=j(A.toLowerCase()),Array.isArray(pe)&&(ye=pe[0],Ae=pe[1])),Array.isArray(A)&&(ye=A[0]*Ct,Ae=A[1]*Ct),isNaN(ye)&&(ye=o[0],Ae=o[1]),(ye>14400||Ae>14400)&&(cs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ae=Math.min(14400,Ae)),o=[ye,Ae],s.substr(0,1)){case"l":Ae>ye&&(o=[Ae,ye]);break;case"p":ye>Ae&&(o=[Ae,ye])}Bi(o),go(nl),re(ai),Gl!==0&&re(Gl+" J"),Js!==0&&re(Js+" j"),ot.publish("addPage",{pageNumber:Nn})},Uc=function(A){A>0&&A<=Nn&&(Pe.splice(A,1),Mt.splice(A,1),Nn--,q>Nn&&(q=Nn),this.setPage(q))},qc=function(A){A>0&&A<=Nn&&(q=A)},Vc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Pe.length-1},Xu=function(A,X,pe){var ye,Ae=void 0;return pe=pe||{},A=A!==void 0?A:lt[ht].fontName,X=X!==void 0?X:lt[ht].fontStyle,ye=A.toLowerCase(),kt[ye]!==void 0&&kt[ye][X]!==void 0?Ae=kt[ye][X]:kt[A]!==void 0&&kt[A][X]!==void 0?Ae=kt[A][X]:pe.disableWarning===!1&&cs.warn("Unable to look up font label for font '"+A+"', '"+X+"'. Refer to getFontList() for available fonts."),Ae||pe.noFallback||(Ae=kt.times[X])==null&&(Ae=kt.times.normal),Ae},Mr=y.__private__.putInfo=function(){var A=Gn(),X=function(ye){return ye};for(var pe in p!==null&&(X=Es.encryptor(A,0)),re("<<"),re("/Producer ("+ti(X("jsPDF "+Tt.version))+")"),_t)_t.hasOwnProperty(pe)&&_t[pe]&&re("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+ti(X(_t[pe]))+")");re("/CreationDate ("+ti(X(te))+")"),re(">>"),re("endobj")},ql=y.__private__.putCatalog=function(A){var X=(A=A||{}).rootDictionaryObjId||_a;switch(Gn(),re("<<"),re("/Type /Catalog"),re("/Pages "+X+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+$e;pe.substr(pe.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&re("/OpenAction [3 0 R /XYZ null null "+V($e)+"]")}switch(St||(St="continuous"),St){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}et&&re("/PageMode /"+et),ot.publish("putCatalog"),re(">>"),re("endobj")},Vn=y.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ce+1)),re("/Root "+ce+" 0 R"),re("/Info "+(ce-1)+" 0 R"),p!==null&&re("/Encrypt "+Es.oid+" 0 R"),re("/ID [ <"+z+"> <"+z+"> ]"),re(">>")},ka=y.__private__.putHeader=function(){re("%PDF-"+C),re("%")},Gc=y.__private__.putXRef=function(){var A="0000000000";re("xref"),re("0 "+(ce+1)),re("0000000000 65535 f ");for(var X=1;X<=ce;X++)typeof me[X]=="function"?re((A+me[X]()).slice(-10)+" 00000 n "):me[X]!==void 0?re((A+me[X]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Er=y.__private__.buildDocument=function(){var A;ce=0,ve=0,be=[],me=[],Me=[],_a=qn(),Wn=qn(),ge(be),ot.publish("buildDocument"),ka(),Ri(),(function(){ot.publish("putAdditionalObjects");for(var pe=0;pe<Me.length;pe++){var ye=Me[pe];Gs(ye.objId,!0),re(ye.content),re("endobj")}ot.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var pe in lt)lt.hasOwnProperty(pe)&&(x===!1||x===!0&&N.hasOwnProperty(pe))&&Oi(lt[pe])})(),(function(){var pe;for(pe in Ot)Ot.hasOwnProperty(pe)&&el(Ot[pe])})(),(function(){for(var pe in jn)jn.hasOwnProperty(pe)&&po(jn[pe])})(),(function(pe){var ye;for(ye in Rt)Rt.hasOwnProperty(ye)&&(Rt[ye]instanceof Su?Pi(Rt[ye]):Rt[ye]instanceof Jd&&Ii(Rt[ye],pe))})(A),ot.publish("putResources"),A.forEach(nr),nr({resourcesOid:Wn,objectOid:Number.MAX_SAFE_INTEGER}),ot.publish("postPutResources"),p!==null&&(Es.oid=Gn(),re("<<"),re("/Filter /Standard"),re("/V "+Es.v),re("/R "+Es.r),re("/U <"+Es.toHexString(Es.U)+">"),re("/O <"+Es.toHexString(Es.O)+">"),re("/P "+Es.P),re(">>"),re("endobj")),Mr(),ql();var X=ve;return Gc(),Vn(),re("startxref"),re(""+X),re("%%EOF"),ge(Pe[q]),be.join(`
`)},_r=y.__private__.getBlob=function(A){return new Blob([Te(A)],{type:"application/pdf"})},mi=y.output=y.__private__.output=(is=function(A,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",A){case void 0:return Er();case"save":y.save(X.filename);break;case"arraybuffer":return Te(Er());case"blob":return _r(Er());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(_r(Er()))||void 0;cs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",ye=Er();try{pe=_N(ye)}catch{pe=_N(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+X.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ae=X.pdfObjectUrl,Ge="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",pt=Wt.open();return pt!==null&&pt.document.write(Je),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',zt=Wt.open();if(zt!==null){zt.document.write(wt);var Xt=this;zt.document.documentElement.querySelector("#pdfViewer").onload=function(){zt.document.title=X.filename,zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',ms=Wt.open();if(ms!==null&&(ms.document.write(En),ms.document.title=X.filename),ms||typeof safari>"u")return ms;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",X);default:return null}},is.foo=function(){try{return is.apply(this,arguments)}catch(pe){var A=pe.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var X="Error in function "+A.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Wt.console)throw new Error(X);Wt.console.error(X,pe),Wt.alert&&alert(X)}},is.foo.bar=is,is.foo),sr=function(A){return Array.isArray(Pn)===!0&&Pn.indexOf(A)>-1};switch(i){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=sr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ct=i}var Es=null;_(),H();var ya=y.__private__.getPageInfo=y.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[A].objId,pageNumber:A,pageContext:Mt[A]}},Wc=y.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Mt)if(Mt[X].objId===A)break;return ya(X)},Zu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Mt[q].objId,pageNumber:q,pageContext:Mt[q]}};y.addPage=function(){return Tr.apply(this,arguments),this},y.setPage=function(){return qc.apply(this,arguments),ge.call(this,Pe[q]),this},y.insertPage=function(A){return this.addPage(),this.movePage(q,A),this},y.movePage=function(A,X){var pe,ye;if(A>X){pe=Pe[A],ye=Mt[A];for(var Ae=A;Ae>X;Ae--)Pe[Ae]=Pe[Ae-1],Mt[Ae]=Mt[Ae-1];Pe[X]=pe,Mt[X]=ye,this.setPage(X)}else if(A<X){pe=Pe[A],ye=Mt[A];for(var Ge=A;Ge<X;Ge++)Pe[Ge]=Pe[Ge+1],Mt[Ge]=Mt[Ge+1];Pe[X]=pe,Mt[X]=ye,this.setPage(X)}return this},y.deletePage=function(){return Uc.apply(this,arguments),this},y.__private__.text=y.text=function(A,X,pe,ye,Ae){var Ge,Je,pt,wt,zt,Xt,En,ms,_s,Qn=(ye=ye||{}).scope||this;if(typeof A=="number"&&typeof X=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Ws=pe;pe=X,X=A,A=Ws}if(arguments[3]instanceof ct==0?(pt=arguments[4],wt=arguments[5],Yn(En=arguments[3])==="object"&&En!==null||(typeof pt=="string"&&(wt=pt,pt=null),typeof En=="string"&&(wt=En,En=null),typeof En=="number"&&(pt=En,En=null),ye={flags:En,angle:pt,align:wt})):(Y("The transform parameter of text() with a Matrix value"),_s=Ae),isNaN(X)||isNaN(pe)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Qn;var Ps,ra="",pi=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:kr,Ua=Qn.internal.scaleFactor;function nd(_n){return _n=_n.split("	").join(Array(ye.TabLen||9).join(" ")),ti(_n,En)}function Xl(_n){for(var Sn,Jn=_n.concat(),Ls=[],mr=Jn.length;mr--;)typeof(Sn=Jn.shift())=="string"?Ls.push(Sn):Array.isArray(_n)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ls.push(Sn[0]):Ls.push([Sn[0],Sn[1],Sn[2]]);return Ls}function ll(_n,Sn){var Jn;if(typeof _n=="string")Jn=Sn(_n)[0];else if(Array.isArray(_n)){for(var Ls,mr,Vi=_n.concat(),dl=[],su=Vi.length;su--;)typeof(Ls=Vi.shift())=="string"?dl.push(Sn(Ls)[0]):Array.isArray(Ls)&&typeof Ls[0]=="string"&&(mr=Sn(Ls[0],Ls[1],Ls[2]),dl.push([mr[0],mr[1],mr[2]]));Jn=dl}return Jn}var or=!1,zi=!0;if(typeof A=="string")or=!0;else if(Array.isArray(A)){var cl=A.concat();Je=[];for(var vo,oa=cl.length;oa--;)(typeof(vo=cl.shift())!="string"||Array.isArray(vo)&&typeof vo[0]!="string")&&(zi=!1);or=zi}if(or===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var yo=ke/Qn.internal.scaleFactor,bo=yo*(pi-1);switch(ye.baseline){case"bottom":pe-=bo;break;case"top":pe+=yo-bo;break;case"hanging":pe+=yo-2*bo;break;case"middle":pe+=yo/2-bo}if((Xt=ye.maxWidth||0)>0&&(typeof A=="string"?A=Qn.splitTextToSize(A,Xt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(_n,Sn){return _n.concat(Qn.splitTextToSize(Sn,Xt))},[]))),Ge={text:A,x:X,y:pe,options:ye,mutex:{pdfEscape:ti,activeFontKey:ht,fonts:lt,activeFontSize:ke}},ot.publish("preProcessText",Ge),A=Ge.text,pt=(ye=Ge.options).angle,_s instanceof ct==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,ye.rotationDirection===0&&(pt=-pt),D===R&&(pt=-pt);var Zl=Math.cos(pt),lr=Math.sin(pt);_s=new ct(Zl,lr,-lr,Zl,0,0)}else pt&&pt instanceof ct&&(_s=pt);D!==R||_s||(_s=Ea),(zt=ye.charSpace||Lr)!==void 0&&(ra+=B(F(zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ms=ye.horizontalScale)!==void 0&&(ra+=B(100*ms)+` Tz
`),ye.lang;var ws=-1,Ir=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,$l=Qn.internal.getCurrentPageInfo().pageContext;switch(Ir){case 0:case!1:case"fill":ws=0;break;case 1:case!0:case"stroke":ws=1;break;case 2:case"fillThenStroke":ws=2;break;case 3:case"invisible":ws=3;break;case 4:case"fillAndAddForClipping":ws=4;break;case 5:case"strokeAndAddPathForClipping":ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ws=6;break;case 7:case"addToPathForClipping":ws=7}var tu=$l.usedRenderingMode!==void 0?$l.usedRenderingMode:-1;ws!==-1?ra+=ws+` Tr
`:tu!==-1&&(ra+=`0 Tr
`),ws!==-1&&($l.usedRenderingMode=ws),wt=ye.align||"left";var ri,Ui=ke*pi,Br=Qn.internal.pageSize.getWidth(),nu=lt[ht];zt=ye.charSpace||Lr,Xt=ye.maxWidth||0,En=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var qi=[],wo=function(_n){return Qn.getStringUnitWidth(_n,{font:nu,charSpace:zt,fontSize:ke,doKerning:!1})*ke/Ua};if(Object.prototype.toString.call(A)==="[object Array]"){var qa;Je=Xl(A),wt!=="left"&&(ri=Je.map(wo));var Da,cr=0;if(wt==="right"){X-=ri[0],A=[],oa=Je.length;for(var ur=0;ur<oa;ur++)ur===0?(Da=si(X),qa=ia(pe)):(Da=F(cr-ri[ur]),qa=-Ui),A.push([Je[ur],Da,qa]),cr=ri[ur]}else if(wt==="center"){X-=ri[0]/2,A=[],oa=Je.length;for(var Hr=0;Hr<oa;Hr++)Hr===0?(Da=si(X),qa=ia(pe)):(Da=F((cr-ri[Hr])/2),qa=-Ui),A.push([Je[Hr],Da,qa]),cr=ri[Hr]}else if(wt==="left"){A=[],oa=Je.length;for(var Yl=0;Yl<oa;Yl++)A.push(Je[Yl])}else if(wt==="justify"&&nu.encoding==="Identity-H"){A=[],oa=Je.length,Xt=Xt!==0?Xt:Br;for(var Kl=0,ks=0;ks<oa;ks++)if(qa=ks===0?ia(pe):-Ui,Da=ks===0?si(X):Kl,ks<oa-1){var sd=F((Xt-ri[ks])/(Je[ks].split(" ").length-1)),dr=Je[ks].split(" ");A.push([dr[0]+" ",Da,qa]),Kl=0;for(var fr=1;fr<dr.length;fr++){var la=(wo(dr[fr-1]+" "+dr[fr])-wo(dr[fr]))*Ua+sd;fr==dr.length-1?A.push([dr[fr],la,0]):A.push([dr[fr]+" ",la,0]),Kl-=la}}else A.push([Je[ks],Da,qa]);A.push(["",Kl,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],oa=Je.length,Xt=Xt!==0?Xt:Br,ks=0;ks<oa;ks++){qa=ks===0?ia(pe):-Ui,Da=ks===0?si(X):0;var Fr=Je[ks].split(" ").length-1,Ql=Fr>0?(Xt-ri[ks])/Fr:0;ks<oa-1?qi.push(B(F(Ql))):qi.push(0),A.push([Je[ks],Da,qa])}}}(typeof ye.R2L=="boolean"?ye.R2L:le)===!0&&(A=ll(A,function(_n,Sn,Jn){return[_n.split("").reverse().join(""),Sn,Jn]})),Ge={text:A,x:X,y:pe,options:ye,mutex:{pdfEscape:ti,activeFontKey:ht,fonts:lt,activeFontSize:ke}},ot.publish("postProcessText",Ge),A=Ge.text,Ps=Ge.mutex.isHex||!1;var Jl=lt[ht].encoding;Jl!=="WinAnsiEncoding"&&Jl!=="StandardEncoding"||(A=ll(A,function(_n,Sn,Jn){return[nd(_n),Sn,Jn]})),Je=Xl(A),A=[];for(var zr,Ur,hr,ul=Array.isArray(Je[0])?1:0,oi="",qr=function(_n,Sn,Jn){var Ls="";return Jn instanceof ct?(Jn=typeof ye.angle=="number"?bs(Jn,new ct(1,0,0,1,_n,Sn)):bs(new ct(1,0,0,1,_n,Sn),Jn),D===R&&(Jn=bs(new ct(1,0,0,-1,0,0),Jn)),Ls=Jn.join(" ")+` Tm
`):Ls=B(_n)+" "+B(Sn)+` Td
`,Ls},ba=0;ba<Je.length;ba++){switch(oi="",ul){case 1:hr=(Ps?"<":"(")+Je[ba][0]+(Ps?">":")"),zr=parseFloat(Je[ba][1]),Ur=parseFloat(Je[ba][2]);break;case 0:hr=(Ps?"<":"(")+Je[ba]+(Ps?">":")"),zr=si(X),Ur=ia(pe)}qi!==void 0&&qi[ba]!==void 0&&(oi=qi[ba]+` Tw
`),ba===0?A.push(oi+qr(zr,Ur,_s)+hr):ul===0?A.push(oi+hr):ul===1&&A.push(oi+qr(zr,Ur,_s)+hr)}A=ul===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var gi=`BT
/`;return gi+=ht+" "+ke+` Tf
`,gi+=B(ke*pi)+` TL
`,gi+=ar+`
`,gi+=ra,gi+=A,re(gi+="ET"),N[ht]=!0,Qn};var Xc=y.__private__.clip=y.clip=function(A){return re(A==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Xc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return re("n"),this};var La=y.__private__.isValidStyle=function(A){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(X=!0),X};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(A){return La(A)&&(m=A),this};var Zc=y.__private__.getStyle=y.getStyle=function(A){var X=m;switch(A){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=A}return X},$c=y.close=function(){return re("h"),this};y.stroke=function(){return re("S"),this},y.fill=function(A){return ni("f",A),this},y.fillEvenOdd=function(A){return ni("f*",A),this},y.fillStroke=function(A){return ni("B",A),this},y.fillStrokeEvenOdd=function(A){return ni("B*",A),this};var ni=function(A,X){Yn(X)==="object"?Yu(X,A):re(A)},Yc=function(A){A===null||D===R&&A===void 0||(A=Zc(A),re(A))};function $u(A,X,pe,ye,Ae){var Ge=new Jd(X||this.boundingBox,pe||this.xStep,ye||this.yStep,this.gState,Ae||this.matrix);Ge.stream=this.stream;var Je=A+"$$"+this.cloneIndex+++"$$";return as(Je,Ge),Ge}var Yu=function(A,X){var pe=en[A.key],ye=Rt[pe];if(ye instanceof Su)re("q"),re(Kc(X)),ye.gState&&y.setGState(ye.gState),re(A.matrix.toString()+" cm"),re("/"+pe+" sh"),re("Q");else if(ye instanceof Jd){var Ae=new ct(1,0,0,-1,0,Pr());A.matrix&&(Ae=Ae.multiply(A.matrix||Ea),pe=$u.call(ye,A.key,A.boundingBox,A.xStep,A.yStep,Ae).id),re("q"),re("/Pattern cs"),re("/"+pe+" scn"),ye.gState&&y.setGState(ye.gState),re(X),re("Q")}},Kc=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qc=y.moveTo=function(A,X){return re(B(F(A))+" "+B(W(X))+" m"),this},tl=y.lineTo=function(A,X){return re(B(F(A))+" "+B(W(X))+" l"),this},Hi=y.curveTo=function(A,X,pe,ye,Ae,Ge){return re([B(F(A)),B(W(X)),B(F(pe)),B(W(ye)),B(F(Ae)),B(W(Ge)),"c"].join(" ")),this};y.__private__.line=y.line=function(A,X,pe,ye,Ae){if(isNaN(A)||isNaN(X)||isNaN(pe)||isNaN(ye)||!La(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return D===L?this.lines([[pe-A,ye-X]],A,X,[1,1],Ae||"S"):this.lines([[pe-A,ye-X]],A,X,[1,1]).stroke()},y.__private__.lines=y.lines=function(A,X,pe,ye,Ae,Ge){var Je,pt,wt,zt,Xt,En,ms,_s,Qn,Ws,Ps,ra;if(typeof A=="number"&&(ra=pe,pe=X,X=A,A=ra),ye=ye||[1,1],Ge=Ge||!1,isNaN(X)||isNaN(pe)||!Array.isArray(A)||!Array.isArray(ye)||!La(Ae)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qc(X,pe),Je=ye[0],pt=ye[1],zt=A.length,Ws=X,Ps=pe,wt=0;wt<zt;wt++)(Xt=A[wt]).length===2?(Ws=Xt[0]*Je+Ws,Ps=Xt[1]*pt+Ps,tl(Ws,Ps)):(En=Xt[0]*Je+Ws,ms=Xt[1]*pt+Ps,_s=Xt[2]*Je+Ws,Qn=Xt[3]*pt+Ps,Ws=Xt[4]*Je+Ws,Ps=Xt[5]*pt+Ps,Hi(En,ms,_s,Qn,Ws,Ps));return Ge&&$c(),Yc(Ae),this},y.path=function(A){for(var X=0;X<A.length;X++){var pe=A[X],ye=pe.c;switch(pe.op){case"m":Qc(ye[0],ye[1]);break;case"l":tl(ye[0],ye[1]);break;case"c":Hi.apply(this,ye);break;case"h":$c()}}return this},y.__private__.rect=y.rect=function(A,X,pe,ye,Ae){if(isNaN(A)||isNaN(X)||isNaN(pe)||isNaN(ye)||!La(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return D===L&&(ye=-ye),re([B(F(A)),B(W(X)),B(F(pe)),B(F(ye)),"re"].join(" ")),Yc(Ae),this},y.__private__.triangle=y.triangle=function(A,X,pe,ye,Ae,Ge,Je){if(isNaN(A)||isNaN(X)||isNaN(pe)||isNaN(ye)||isNaN(Ae)||isNaN(Ge)||!La(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-A,ye-X],[Ae-pe,Ge-ye],[A-Ae,X-Ge]],A,X,[1,1],Je,!0),this},y.__private__.roundedRect=y.roundedRect=function(A,X,pe,ye,Ae,Ge,Je){if(isNaN(A)||isNaN(X)||isNaN(pe)||isNaN(ye)||isNaN(Ae)||isNaN(Ge)||!La(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*pe),Ge=Math.min(Ge,.5*ye),this.lines([[pe-2*Ae,0],[Ae*pt,0,Ae,Ge-Ge*pt,Ae,Ge],[0,ye-2*Ge],[0,Ge*pt,-Ae*pt,Ge,-Ae,Ge],[2*Ae-pe,0],[-Ae*pt,0,-Ae,-Ge*pt,-Ae,-Ge],[0,2*Ge-ye],[0,-Ge*pt,Ae*pt,-Ge,Ae,-Ge]],A+Ae,X,[1,1],Je,!0),this},y.__private__.ellipse=y.ellipse=function(A,X,pe,ye,Ae){if(isNaN(A)||isNaN(X)||isNaN(pe)||isNaN(ye)||!La(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*pe,Je=4/3*(Math.SQRT2-1)*ye;return Qc(A+pe,X),Hi(A+pe,X-Je,A+Ge,X-ye,A,X-ye),Hi(A-Ge,X-ye,A-pe,X-Je,A-pe,X),Hi(A-pe,X+Je,A-Ge,X+ye,A,X+ye),Hi(A+Ge,X+ye,A+pe,X+Je,A+pe,X),Yc(Ae),this},y.__private__.circle=y.circle=function(A,X,pe,ye){if(isNaN(A)||isNaN(X)||isNaN(pe)||!La(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,X,pe,pe,ye)},y.setFont=function(A,X,pe){return pe&&(X=$(X,pe)),ht=Xu(A,X,{disableWarning:!1}),this};var Fi=y.__private__.getFont=y.getFont=function(){return lt[Xu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var A,X,pe={};for(A in kt)if(kt.hasOwnProperty(A))for(X in pe[A]=[],kt[A])kt[A].hasOwnProperty(X)&&pe[A].push(X);return pe},y.addFont=function(A,X,pe,ye,Ae){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(pe=$(pe,ye)),zc.call(this,A,X,pe,Ae=Ae||"Identity-H")};var kr,nl=e.lineWidth||.200025,It=y.__private__.getLineWidth=y.getLineWidth=function(){return nl},go=y.__private__.setLineWidth=y.setLineWidth=function(A){return nl=A,re(B(F(A))+" w"),this};y.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(A,X){if(A=A||[],X=X||0,isNaN(X)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(pe){return B(F(pe))}).join(" "),X=B(F(X)),re("["+A+"] "+X+" d"),this};var Ku=y.__private__.getLineHeight=y.getLineHeight=function(){return ke*kr};y.__private__.getLineHeight=y.getLineHeight=function(){return ke*kr};var Jc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(kr=A),this},Qu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return kr};Jc(e.lineHeight);var si=y.__private__.getHorizontalCoordinate=function(A){return F(A)},ia=y.__private__.getVerticalCoordinate=function(A){return D===R?A:Mt[q].mediaBox.topRightY-Mt[q].mediaBox.bottomLeftY-F(A)},eu=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(A){return B(si(A))},sl=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(A){return B(ia(A))},ai=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return hs(ai)},y.__private__.setStrokeColor=y.setDrawColor=function(A,X,pe,ye){return ai=va({ch1:A,ch2:X,ch3:pe,ch4:ye,pdfColorType:"draw",precision:2}),re(ai),this};var al=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return hs(al)},y.__private__.setFillColor=y.setFillColor=function(A,X,pe,ye){return al=va({ch1:A,ch2:X,ch3:pe,ch4:ye,pdfColorType:"fill",precision:2}),re(al),this};var ar=e.textColor||"0 g",il=y.__private__.getTextColor=y.getTextColor=function(){return hs(ar)};y.__private__.setTextColor=y.setTextColor=function(A,X,pe,ye){return ar=va({ch1:A,ch2:X,ch3:pe,ch4:ye,pdfColorType:"text",precision:3}),this};var Lr=e.charSpace,Vl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Lr||0)};y.__private__.setCharSpace=y.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lr=A,this};var Gl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(A){var X=y.CapJoinStyles[A];if(X===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=X,re(X+" J"),this};var Js=0;y.__private__.setLineJoin=y.setLineJoin=function(A){var X=y.CapJoinStyles[A];if(X===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Js=X,re(X+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(B(F(A))+" M"),this},y.GState=Up,y.setGState=function(A){(A=typeof A=="string"?Ot[Kn[A]]:ii(null,A)).equals(ds)||(re("/"+A.id+" gs"),ds=A)};var ii=function(A,X){if(!A||!Kn[A]){var pe=!1;for(var ye in Ot)if(Ot.hasOwnProperty(ye)&&Ot[ye].equals(X)){pe=!0;break}if(pe)X=Ot[ye];else{var Ae="GS"+(Object.keys(Ot).length+1).toString(10);Ot[Ae]=X,X.id=Ae}return A&&(Kn[A]=X.id),ot.publish("addGState",X),X}};y.addGState=function(A,X){return ii(A,X),this},y.saveGraphicsState=function(){return re("q"),Zt.push({key:ht,size:ke,color:ar}),this},y.restoreGraphicsState=function(){re("Q");var A=Zt.pop();return ht=A.key,ke=A.size,ar=A.color,ds=null,this},y.setCurrentTransformationMatrix=function(A){return re(A.toString()+" cm"),this},y.comment=function(A){return re("#"+A),this};var ir=function(A,X){var pe=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ge){isNaN(Ge)||(pe=parseFloat(Ge))}});var ye=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Ge){isNaN(Ge)||(ye=parseFloat(Ge))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ge){Ae=Ge.toString()}}),this},Dr=function(A,X,pe,ye){ir.call(this,A,X),this.type="rect";var Ae=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Je){isNaN(Je)||(Ae=parseFloat(Je))}});var Ge=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(Je){isNaN(Je)||(Ge=parseFloat(Je))}}),this},Wl=function(){this.page=Nn,this.currentPage=q,this.pages=Pe.slice(0),this.pagesContext=Mt.slice(0),this.x=jt,this.y=wn,this.matrix=cn,this.width=xo(q),this.height=rr(q),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Wl.prototype.restore=function(){Nn=this.page,q=this.currentPage,Mt=this.pagesContext,Pe=this.pages,jt=this.x,wn=this.y,cn=this.matrix,ol(q,this.width),Or(q,this.height),Qe=this.outputDestination};var rl=function(A,X,pe,ye,Ae){aa.push(new Wl),Nn=q=0,Pe=[],jt=A,wn=X,cn=Ae,Bi([pe,ye])};for(var Rr in y.beginFormObject=function(A,X,pe,ye,Ae){return rl(A,X,pe,ye,Ae),this},y.endFormObject=function(A){return(function(X){if(fs[X])aa.pop().restore();else{var pe=new Wl,ye="Xo"+(Object.keys(jn).length+1).toString(10);pe.id=ye,fs[X]=ye,jn[ye]=pe,ot.publish("addFormObject",pe),aa.pop().restore()}})(A),this},y.doFormObject=function(A,X){var pe=jn[fs[A]];return re("q"),re(X.toString()+" cm"),re("/"+pe.id+" Do"),re("Q"),this},y.getFormObject=function(A){var X=jn[fs[A]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},y.save=function(A,X){return A=A||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(ju(_r(Er()),A),typeof ju.unload=="function"&&Wt.setTimeout&&setTimeout(ju.unload,911),this):new Promise(function(pe,ye){try{var Ae=ju(_r(Er()),A);typeof ju.unload=="function"&&Wt.setTimeout&&setTimeout(ju.unload,911),pe(Ae)}catch(Ge){ye(Ge.message)}})},Tt.API)Tt.API.hasOwnProperty(Rr)&&(Rr==="events"&&Tt.API.events.length?(function(A,X){var pe,ye,Ae;for(Ae=X.length-1;Ae!==-1;Ae--)pe=X[Ae][0],ye=X[Ae][1],A.subscribe.apply(A,[pe].concat(typeof ye=="function"?[ye]:ye))})(ot,Tt.API.events):y[Rr]=Tt.API[Rr]);function xo(A){return Mt[A].mediaBox.topRightX-Mt[A].mediaBox.bottomLeftX}function ol(A,X){Mt[A].mediaBox.topRightX=X+Mt[A].mediaBox.bottomLeftX}function rr(A){return Mt[A].mediaBox.topRightY-Mt[A].mediaBox.bottomLeftY}function Or(A,X){Mt[A].mediaBox.topRightY=X+Mt[A].mediaBox.bottomLeftY}var Ju=y.getPageWidth=function(A){return xo(A=A||q)/Ct},ed=y.setPageWidth=function(A,X){ol(A,X*Ct)},Pr=y.getPageHeight=function(A){return rr(A=A||q)/Ct},td=y.setPageHeight=function(A,X){Or(A,X*Ct)};return y.internal={pdfEscape:ti,getStyle:Zc,getFont:Fi,getFontSize:st,getCharSpace:Vl,getTextColor:il,getLineHeight:Ku,getLineHeightFactor:Qu,getLineWidth:It,write:Pt,getHorizontalCoordinate:si,getVerticalCoordinate:ia,getCoordinateString:eu,getVerticalCoordinateString:sl,collections:{},newObject:Gn,newAdditionalObject:mo,newObjectDeferred:qn,newObjectDeferredBegin:Gs,getFilters:ei,putStream:hi,events:ot,scaleFactor:Ct,pageSize:{getWidth:function(){return Ju(q)},setWidth:function(A){ed(q,A)},getHeight:function(){return Pr(q)},setHeight:function(A){td(q,A)}},encryptionOptions:p,encryption:Es,getEncryptor:function(A){return p!==null?Es.encryptor(A,0):function(X){return X}},output:mi,getNumberOfPages:Vc,pages:Pe,out:re,f2:V,f3:P,getPageInfo:ya,getPageInfoByObjId:Wc,getCurrentPageInfo:Zu,getPDFVersion:M,Point:ir,Rectangle:Dr,Matrix:ct,hasHotfix:sr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Ju(q)},set:function(A){ed(q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Pr(q)},set:function(A){td(q,A)},enumerable:!0,configurable:!0}),(function(A){for(var X=0,pe=we.length;X<pe;X++){var ye=zc.call(this,A[X][0],A[X][1],A[X][2],we[X][3],!0);x===!1&&(N[ye]=!0);var Ae=A[X][0].split("-");Ms({id:ye,fontName:Ae[0],fontStyle:Ae[1]||""})}ot.publish("addFonts",{fonts:lt,dictionary:kt})}).call(y,we),ht="F1",Tr(o,s),ot.publish("initialized"),y}Wd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wd.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},Wd.prototype.processOwnerPassword=function(e,t){return Ex(Mx(t).substr(0,5),e)},Wd.prototype.encryptor=function(e,t){var s=Mx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Ex(s,i)}},Up.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||Yn(e)!==Yn(this))return!1;var i=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&i--;return i===0},Tt.API={events:[]},Tt.version="3.0.3";var qs=Tt.API,av=1,Wu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(e){return e.toFixed(2)},Ac=function(e){return e.toFixed(5)};qs.__acroform__={};var Di=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},RN=function(e){return e*av},Io=function(e){var t=new GC,s=bt.internal.getHeight(e)||0,i=bt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Kt(i)),Number(Kt(s))],t},OH=qs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},PH=qs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},IH=qs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ys=qs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return IH(e,t-1)},Ks=qs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OH(e,t-1)},Qs=qs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PH(e,t-1)},BH=qs.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,o=e[0],l=e[1],u=e[2],d=e[3],f={};return f.lowerLeft_X=s(o)||0,f.lowerLeft_Y=i(l+d)||0,f.upperRight_X=s(o+u)||0,f.upperRight_Y=i(l)||0,[Number(Kt(f.lowerLeft_X)),Number(Kt(f.lowerLeft_Y)),Number(Kt(f.upperRight_X)),Number(Kt(f.upperRight_Y))]},HH=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,i=_x(e,s),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+Kt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=Io(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},_x=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(V){return V.split(`
`)}):o.map(function(V){return[V]});var l=s,u=bt.internal.getHeight(e)||0;u=u<0?-u:u;var d=bt.internal.getWidth(e)||0;d=d<0?-d:d;var f=function(V,P,F){if(V+1<o.length){var W=P+" "+o[V+1][0];return ip(W,e,F).width<=d-4}return!1};l++;e:for(;l>0;){t="",l--;var m,p,x=ip("3",e,l).height,N=e.multiline?u-l:(u-x)/2,y=N+=2,C=0,M=0,S=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+ip(t,e,l=12).width+", FieldWidth:"+d+`
`;break}for(var j="",L=0,R=0;R<o.length;R++)if(o.hasOwnProperty(R)){var D=!1;if(o[R].length!==1&&S!==o[R].length-1){if((x+2)*(L+2)+2>u)continue e;j+=o[R][S],D=!0,M=R,R--}else{j=(j+=o[R][S]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var U=parseInt(R),G=f(U,j,l),$=R>=o.length-1;if(G&&!$){j+=" ",S=0;continue}if(G||$){if($)M=U;else if(e.multiline&&(x+2)*(L+2)+2>u)continue e}else{if(!e.multiline||(x+2)*(L+2)+2>u)continue e;M=U}}for(var B="",Y=C;Y<=M;Y++){var fe=o[Y];if(e.multiline){if(Y===M){B+=fe[S]+" ",S=(S+1)%fe.length;continue}if(Y===C){B+=fe[fe.length-1]+" ";continue}}B+=fe[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,p=ip(B,e,l).width,e.textAlign){case"right":m=d-p-2;break;case"center":m=(d-p)/2;break;default:m=2}t+=Kt(m)+" "+Kt(y)+` Td
`,t+="("+Wu(B)+`) Tj
`,t+=-Kt(m)+` 0 Td
`,y=-(l+2),p=0,C=D?M:M+1,L++,j=""}break}return i.text=t,i.fontSize=l,i},ip=function(e,t,s){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:o}},FH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zH=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===s.type&&i.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},UH=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(FH)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");av=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new WC,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];l.objId=void 0,l.hasAnnotation&&zH(l,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(i,o){var l=!i;for(var u in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var d=i[u],f=[],m=d.Rect;if(d.Rect&&(d.Rect=BH(d.Rect,o)),o.internal.newObjectDeferredBegin(d.objId,!0),d.DA=bt.createDefaultAppearanceStream(d),Yn(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var p=HH(d);f.push({key:"AP",value:"<</N "+p+">>"}),o.internal.acroformPlugin.xForms.push(p)}if(d.appearanceStreamContent){var x="";for(var N in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(N)){var y=d.appearanceStreamContent[N];if(x+="/"+N+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var u in y)if(y.hasOwnProperty(u)){var C=y[u];typeof C=="function"&&(C=C.call(o,d)),x+="/"+u+" "+C+" ",o.internal.acroformPlugin.xForms.indexOf(C)>=0||o.internal.acroformPlugin.xForms.push(C)}}else typeof(C=y)=="function"&&(C=C.call(o,d)),x+="/"+u+" "+C,o.internal.acroformPlugin.xForms.indexOf(C)>=0||o.internal.acroformPlugin.xForms.push(C);x+=">>"}f.push({key:"AP",value:`<<
`+x+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:d.objId}),o.internal.out("endobj")}l&&(function(M,S){for(var j in M)if(M.hasOwnProperty(j)){var L=j,R=M[j];S.internal.newObjectDeferredBegin(R.objId,!0),Yn(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete M[L]}})(o.internal.acroformPlugin.xForms,o)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},VC=qs.__acroform__.arrayToPdfArray=function(e,t,s){var i=function(u){return u};if(Array.isArray(e)){for(var o="[",l=0;l<e.length;l++)switch(l!==0&&(o+=" "),Yn(e[l])){case"boolean":case"number":case"object":o+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&s&&(i=s.internal.getEncryptor(t)),o+="("+Wu(i(e[l].toString()))+")"):o+=e[l].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T1=function(e,t,s){var i=function(o){return o};return t!==void 0&&s&&(i=s.internal.getEncryptor(t)),(e=e||"").toString(),"("+Wu(i(e))+")"},Fo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fo.prototype.toString=function(){return this.objId+" 0 R"},Fo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var i=t[s],o=this[i];o&&(Array.isArray(o)?e.push({key:i,value:VC(o,this.objId,this.scope)}):o instanceof Fo?(o.scope=this.scope,e.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:i,value:o}))}return e};var GC=function(){Fo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};Di(GC,Fo);var WC=function(){Fo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(i){return i};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Wu(s(e))+")"}},set:function(s){e=s}})};Di(WC,Fo);var fo=function e(){Fo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ys(t,3)},set:function(j){j?this.F=Ks(t,3):this.F=Qs(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');s=j}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(j){i=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(j){i[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(j){i[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(j){i[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(j){i[3]=j}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof qp)return;l="FieldObject"+e.FieldNum++}var j=function(L){return L};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Wu(j(l))+")"},set:function(j){l=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(j){l=j}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/av:m},set:function(j){m=j}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(j){p=j}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof qp||this instanceof _u))return T1(x,this.objId,this.scope)},set:function(j){j=j.toString(),x=j}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof Ca==0?T1(N,this.objId,this.scope):N},set:function(j){j=j.toString(),N=this instanceof Ca==0?j.substr(0,1)==="("?qd(j.substr(1,j.length-2)):qd(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ca==1?qd(N.substr(1,N.length-1)):N},set:function(j){j=j.toString(),N=this instanceof Ca==1?"/"+j:j}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ca==0?T1(y,this.objId,this.scope):y},set:function(j){j=j.toString(),y=this instanceof Ca==0?j.substr(0,1)==="("?qd(j.substr(1,j.length-2)):qd(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ca==1?qd(y.substr(1,y.length-1)):y},set:function(j){j=j.toString(),y=this instanceof Ca==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(j){j=!!j,M=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(j){C=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,1)},set:function(j){j?this.Ff=Ks(this.Ff,1):this.Ff=Qs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,2)},set:function(j){j?this.Ff=Ks(this.Ff,2):this.Ff=Qs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,3)},set:function(j){j?this.Ff=Ks(this.Ff,3):this.Ff=Qs(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');S=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(S){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Di(fo,Fo);var af=function(){fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return VC(t,this.objId,this.scope)},set:function(s){var i,o;o=[],typeof(i=s)=="string"&&(o=(function(l,u,d){d||(d=1);for(var f,m=[];f=u.exec(l);)m.push(f[d]);return m})(i,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,i){for(i=i||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,18)},set:function(s){s?this.Ff=Ks(this.Ff,18):this.Ff=Qs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Ks(this.Ff,19):this.Ff=Qs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,20)},set:function(s){s?(this.Ff=Ks(this.Ff,20),t.sort()):this.Ff=Qs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,22)},set:function(s){s?this.Ff=Ks(this.Ff,22):this.Ff=Qs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,23)},set:function(s){s?this.Ff=Ks(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,27)},set:function(s){s?this.Ff=Ks(this.Ff,27):this.Ff=Qs(this.Ff,27)}}),this.hasAppearanceStream=!1};Di(af,fo);var rf=function(){af.call(this),this.fontName="helvetica",this.combo=!1};Di(rf,af);var of=function(){rf.call(this),this.combo=!0};Di(of,rf);var vp=function(){of.call(this),this.edit=!0};Di(vp,of);var Ca=function(){fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,15)},set:function(s){s?this.Ff=Ks(this.Ff,15):this.Ff=Qs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,16)},set:function(s){s?this.Ff=Ks(this.Ff,16):this.Ff=Qs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,17)},set:function(s){s?this.Ff=Ks(this.Ff,17):this.Ff=Qs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,26)},set:function(s){s?this.Ff=Ks(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,o=[];for(i in o.push("<<"),t)o.push("/"+i+" ("+Wu(s(t[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(s){Yn(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}})};Di(Ca,fo);var yp=function(){Ca.call(this),this.pushButton=!0};Di(yp,Ca);var lf=function(){Ca.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Di(lf,Ca);var qp=function(){var e,t;fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var s,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(d){return d};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,u=[];for(l in u.push("<<"),i)u.push("/"+l+" ("+Wu(o(i[l]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Yn(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(o){s="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Di(qp,fo),lf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},lf.prototype.createOption=function(e){var t=new qp;return t.Parent=this,t.optionName=e,this.Kids.push(t),qH.call(this.scope,t),t};var bp=function(){Ca.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Di(bp,Ca);var _u=function(){fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,13)},set:function(t){t?this.Ff=Ks(this.Ff,13):this.Ff=Qs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,21)},set:function(t){t?this.Ff=Ks(this.Ff,21):this.Ff=Qs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,23)},set:function(t){t?this.Ff=Ks(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,24)},set:function(t){t?this.Ff=Ks(this.Ff,24):this.Ff=Qs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,25)},set:function(t){t?this.Ff=Ks(this.Ff,25):this.Ff=Qs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,26)},set:function(t){t?this.Ff=Ks(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Di(_u,fo);var wp=function(){_u.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ys(this.Ff,14)},set:function(e){e?this.Ff=Ks(this.Ff,14):this.Ff=Qs(this.Ff,14)}}),this.password=!0};Di(wp,_u);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Io(e);t.scope=e.scope;var s=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),l=_x(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+Kt(bt.internal.getWidth(e))+" "+Kt(bt.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+i+" "+Kt(l.fontSize)+" Tf "+o),s.push("BT"),s.push(l.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=Io(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=[],l=bt.internal.getHeight(e),u=bt.internal.getWidth(e),d=_x(e,e.caption);return o.push("1 g"),o.push("0 0 "+Kt(u)+" "+Kt(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Kt(u-1)+" "+Kt(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+s+" "+Kt(d.fontSize)+" Tf "+i),o.push(d.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=Io(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Kt(bt.internal.getWidth(e))+" "+Kt(bt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=bt.RadioButton.Circle.YesNormal,t.D[e]=bt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Io(e);t.scope=e.scope;var s=[],i=bt.internal.getWidth(e)<=bt.internal.getHeight(e)?bt.internal.getWidth(e)/4:bt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=bt.internal.Bezier_C,l=Number((i*o).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Ac(bt.internal.getWidth(e)/2)+" "+Ac(bt.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),s.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),s.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),s.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Io(e);t.scope=e.scope;var s=[],i=bt.internal.getWidth(e)<=bt.internal.getHeight(e)?bt.internal.getWidth(e)/4:bt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),l=Number((o*bt.internal.Bezier_C).toFixed(5)),u=Number((i*bt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ac(bt.internal.getWidth(e)/2)+" "+Ac(bt.internal.getHeight(e)/2)+" cm"),s.push(o+" 0 m"),s.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),s.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),s.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),s.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Ac(bt.internal.getWidth(e)/2)+" "+Ac(bt.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),s.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),s.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),s.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Io(e);t.scope=e.scope;var s=[],i=bt.internal.getWidth(e)<=bt.internal.getHeight(e)?bt.internal.getWidth(e)/4:bt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),l=Number((o*bt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ac(bt.internal.getWidth(e)/2)+" "+Ac(bt.internal.getHeight(e)/2)+" cm"),s.push(o+" 0 m"),s.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),s.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),s.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),s.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=bt.RadioButton.Cross.YesNormal,t.D[e]=bt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Io(e);t.scope=e.scope;var s=[],i=bt.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+Kt(bt.internal.getWidth(e)-2)+" "+Kt(bt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Kt(i.x1.x)+" "+Kt(i.x1.y)+" m"),s.push(Kt(i.x2.x)+" "+Kt(i.x2.y)+" l"),s.push(Kt(i.x4.x)+" "+Kt(i.x4.y)+" m"),s.push(Kt(i.x3.x)+" "+Kt(i.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Io(e);t.scope=e.scope;var s=bt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Kt(bt.internal.getWidth(e))+" "+Kt(bt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Kt(bt.internal.getWidth(e)-2)+" "+Kt(bt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Kt(s.x1.x)+" "+Kt(s.x1.y)+" m"),i.push(Kt(s.x2.x)+" "+Kt(s.x2.y)+" l"),i.push(Kt(s.x4.x)+" "+Kt(s.x4.y)+" m"),i.push(Kt(s.x3.x)+" "+Kt(s.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Io(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Kt(bt.internal.getWidth(e))+" "+Kt(bt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};bt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=bt.internal.getWidth(e),s=bt.internal.getHeight(e),i=Math.min(t,s);return{x1:{x:(t-i)/2,y:(s-i)/2+i},x2:{x:(t-i)/2+i,y:(s-i)/2},x3:{x:(t-i)/2,y:(s-i)/2},x4:{x:(t-i)/2+i,y:(s-i)/2+i}}}},bt.internal.getWidth=function(e){var t=0;return Yn(e)==="object"&&(t=RN(e.Rect[2])),t},bt.internal.getHeight=function(e){var t=0;return Yn(e)==="object"&&(t=RN(e.Rect[3])),t};var qH=qs.addField=function(e){if(UH(this,e),!(e instanceof fo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qs.AcroFormChoiceField=af,qs.AcroFormListBox=rf,qs.AcroFormComboBox=of,qs.AcroFormEditBox=vp,qs.AcroFormButton=Ca,qs.AcroFormPushButton=yp,qs.AcroFormRadioButton=lf,qs.AcroFormCheckBox=bp,qs.AcroFormTextField=_u,qs.AcroFormPasswordField=wp,qs.AcroFormAppearance=bt,qs.AcroForm={ChoiceField:af,ListBox:rf,ComboBox:of,EditBox:vp,Button:Ca,PushButton:yp,RadioButton:lf,CheckBox:bp,TextField:_u,PasswordField:wp,Appearance:bt},Tt.AcroForm={ChoiceField:af,ListBox:rf,ComboBox:of,EditBox:vp,Button:Ca,PushButton:yp,RadioButton:lf,CheckBox:bp,TextField:_u,PasswordField:wp,Appearance:bt};Tt.AcroForm;function XC(e){return e.reduce(function(t,s,i){return t[s]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var s="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.__addimage__.getImageFileTypeByImageData=function(V,P){var F,W,te,z,K,H=s;if((P=P||s)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(G(V))for(K in i)for(te=i[K],F=0;F<te.length;F+=1){for(z=!0,W=0;W<te[F].length;W+=1)if(te[F][W]!==void 0&&te[F][W]!==V[W]){z=!1;break}if(z===!0){H=K;break}}else for(K in i)for(te=i[K],F=0;F<te.length;F+=1){for(z=!0,W=0;W<te[F].length;W+=1)if(te[F][W]!==void 0&&te[F][W]!==V.charCodeAt(W)){z=!1;break}if(z===!0){H=K;break}}return H===s&&P!==s&&(H=P),H},l=function V(P){for(var F=this.internal.write,W=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:P.width}),z.push({key:"Height",value:P.height}),P.colorSpace===j.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===j.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var K="",H=0,ue=P.transparency.length;H<ue;H++)K+=P.transparency[H]+" "+P.transparency[H]+" ";z.push({key:"Mask",value:"["+K+"]"})}P.sMask!==void 0&&z.push({key:"SMask",value:P.objectId+1+" 0 R"});var ae=P.filter!==void 0?["/"+P.filter]:void 0;if(W({data:P.data,additionalKeyValues:z,alreadyAppliedFilters:ae,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var _,k=(_=P.sMaskBitsPerComponent)!==null&&_!==void 0?_:P.bitsPerComponent,q={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:P.sMask};"filter"in P&&(q.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(P.width),q.filter=P.filter),V.call(this,q)}if(P.colorSpace===j.INDEXED){var J=this.internal.newObject();W({data:B(new Uint8Array(P.palette)),objectId:J}),F("endobj")}},u=function(){var V=this.internal.collections[t+"images"];for(var P in V)l.call(this,V[P])},d=function(){var V,P=this.internal.collections[t+"images"],F=this.internal.write;for(var W in P)F("/I"+(V=P[W]).index,V.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var V=this.internal.collections[t+"images"];return f.call(this),V},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},x=function(V){return typeof e["process"+V.toUpperCase()]=="function"},N=function(V){return Yn(V)==="object"&&V.nodeType===1},y=function(V,P){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var F=""+V.getAttribute("src");if(F.indexOf("data:image/")===0)return xp(unescape(F).split("base64,").pop());var W=e.loadFile(F,!0);if(W!==void 0)return W}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var te;switch(P){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return xp(V.toDataURL(te,1).split("base64,").pop())}},C=function(V){var P=this.internal.collections[t+"images"];if(P){for(var F in P)if(V===P[F].alias)return P[F]}},M=function(V,P,F){return V||P||(V=-96,P=-96),V<0&&(V=-1*F.width*72/V/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),V===0&&(V=P*F.width/F.height),P===0&&(P=V*F.height/F.width),[V,P]},S=function(V,P,F,W,te,z){var K=M.call(this,F,W,te),H=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ae=m.call(this);if(F=K[0],W=K[1],ae[te.index]=te,z){z*=Math.PI/180;var _=Math.cos(z),k=Math.sin(z),q=function(oe){return oe.toFixed(4)},J=[q(_),q(k),q(-1*k),q(_),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,H(V),ue(P+W),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([H(F),"0","0",H(W),"0","0","cm"].join(" "))):this.internal.write([H(F),"0","0",H(W),H(V),ue(P+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=e.__addimage__.sHashCode=function(V){var P,F,W=0;if(typeof V=="string")for(F=V.length,P=0;P<F;P++)W=(W<<5)-W+V.charCodeAt(P),W|=0;else if(G(V))for(F=V.byteLength/2,P=0;P<F;P++)W=(W<<5)-W+V[P],W|=0;return W},D=e.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var P=!0;return V.length===0&&(P=!1),V.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(P=!1),P},U=e.__addimage__.extractImageFromDataUrl=function(V){if(V==null||!(V=V.trim()).startsWith("data:"))return null;var P=V.indexOf(",");return P<0?null:V.substring(0,P).trim().endsWith("base64")?V.substring(P+1):null};e.__addimage__.isArrayBuffer=function(V){return V instanceof ArrayBuffer};var G=e.__addimage__.isArrayBufferView=function(V){return V instanceof Int8Array||V instanceof Uint8Array||V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array},$=e.__addimage__.binaryStringToUint8Array=function(V){for(var P=V.length,F=new Uint8Array(P),W=0;W<P;W++)F[W]=V.charCodeAt(W);return F},B=e.__addimage__.arrayBufferToBinaryString=function(V){for(var P="",F=G(V)?V:new Uint8Array(V),W=0;W<F.length;W+=8192)P+=String.fromCharCode.apply(null,F.subarray(W,W+8192));return P};e.addImage=function(){var V,P,F,W,te,z,K,H,ue;if(typeof arguments[1]=="number"?(P=s,F=arguments[1],W=arguments[2],te=arguments[3],z=arguments[4],K=arguments[5],H=arguments[6],ue=arguments[7]):(P=arguments[1],F=arguments[2],W=arguments[3],te=arguments[4],z=arguments[5],K=arguments[6],H=arguments[7],ue=arguments[8]),Yn(V=arguments[0])==="object"&&!N(V)&&"imageData"in V){var ae=V;V=ae.imageData,P=ae.format||P||s,F=ae.x||F||0,W=ae.y||W||0,te=ae.w||ae.width||te,z=ae.h||ae.height||z,K=ae.alias||K,H=ae.compression||H,ue=ae.rotation||ae.angle||ue}var _=this.internal.getFilters();if(H===void 0&&_.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(F)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=Y.call(this,V,P,K,H);return S.call(this,F,W,te,z,k,ue),this};var Y=function(V,P,F,W){var te,z,K;if(typeof V=="string"&&o(V)===s){V=unescape(V);var H=fe(V,!1);(H!==""||(H=e.loadFile(V,!0))!==void 0)&&(V=H)}if(N(V)&&(V=y(V,P)),P=o(V,P),!x(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((K=F)==null||K.length===0)&&(F=(function(ue){return typeof ue=="string"||G(ue)?R(ue):G(ue.data)?R(ue.data):null})(V)),(te=C.call(this,F))||(V instanceof Uint8Array||P==="RGBA"||(z=V,V=$(V)),te=this["process"+P.toUpperCase()](V,p.call(this),F,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:L.NONE})(W),z)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},fe=e.__addimage__.convertBase64ToBinaryString=function(V,P){P=typeof P!="boolean"||P;var F,W="";if(typeof V=="string"){var te;F=(te=U(V))!==null&&te!==void 0?te:V;try{W=xp(F)}catch(z){if(P)throw D(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(V){var P,F,W="";if(N(V)&&(V=y(V)),typeof V=="string"&&o(V)===s&&((W=fe(V,!1))===""&&(W=e.loadFile(V)||""),V=W),F=o(V),!x(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(V instanceof Uint8Array||(V=$(V)),!(P=this["process"+F.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(Tt.API),(function(e){var t=function(s){if(s!==void 0&&s!="")return!0};Tt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var i,o,l,u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(s.objId),m=s.pageContext.annotations,p=!1,x=0;x<m.length&&!p;x++)switch((i=m[x]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var N=0;N<m.length;N++){i=m[N];var y=this.internal.pdfEscape,C=this.internal.getEncryptor(s.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(M.objId),L=i.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+y(j(i.contents))+")",l+=" /Popup "+S.objId+" 0 R",l+=" /P "+f.objId+" 0 R",l+=" /T ("+y(j(L))+") >>",M.content=l;var R=M.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+R,i.open&&(l+=" /Open true"),l+=" >>",S.content=l,this.internal.write(M.objId,"0 R",S.objId,"0 R");break;case"freetext":o="/Rect ["+u(i.bounds.x)+" "+d(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var D=i.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+y(C(i.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(i.options.name){var U=this.annotations._nameMap[i.options.name];i.options.pageNumber=U.page,i.options.top=U.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",l="",i.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+y(C(i.options.url))+") >>";else if(i.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,l+=" /FitV "+i.options.left+"]";break;default:var G=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),l+=" /XYZ "+i.options.left+" "+G+" "+i.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var i=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":i.pageContext.annotations.push(s)}},e.link=function(s,i,o,l,u){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(s),y:m(i),w:f(s+o),h:m(i+l)},options:u,type:"link"})},e.textWithLink=function(s,i,o,l){var u,d,f=this.getTextWidth(s),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){d=l.maxWidth;var p=this.splitTextToSize(s,d).length;u=Math.ceil(m*p)}else d=f,u=m;return this.text(s,i,o,l),o+=.2*m,l.align==="center"&&(i-=f/2),l.align==="right"&&(i-=f),this.link(i,o-m,d,u,l),f},e.getTextWidth=function(s){var i=this.internal.getFontSize();return this.getStringUnitWidth(s)*i/this.internal.scaleFactor}})(Tt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},d=e.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&l(M)&&t[M.charCodeAt(0)].length<=2},f=e.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&o.indexOf(M.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&l(M)&&t[M.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&l(M)&&t[M.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&l(M)&&t[M.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&l(M)&&t[M.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(M){var S=0,j=s,L="",R=0;for(S=0;S<M.length;S+=1)j[M.charCodeAt(S)]!==void 0?(R++,typeof(j=j[M.charCodeAt(S)])=="number"&&(L+=String.fromCharCode(j),j=s,R=0),S===M.length-1&&(j=s,L+=M.charAt(S-(R-1)),S-=R-1,R=0)):(j=s,L+=M.charAt(S-R),S-=R,R=0);return L};e.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var N=e.__arabicParser__.getCorrectForm=function(M,S,j){return u(M)?l(M)===!1?-1:!m(M)||!u(S)&&!u(j)||!u(j)&&d(S)||d(M)&&!u(S)||d(M)&&f(S)||d(M)&&d(S)?0:p(M)&&u(S)&&!d(S)&&u(j)&&m(j)?3:d(M)||!u(j)?1:2:-1},y=function(M){var S=0,j=0,L=0,R="",D="",U="",G=(M=M||"").split("\\s+"),$=[];for(S=0;S<G.length;S+=1){for($.push(""),j=0;j<G[S].length;j+=1)R=G[S][j],D=G[S][j-1],U=G[S][j+1],u(R)?(L=N(R,D,U),$[S]+=L!==-1?String.fromCharCode(t[R.charCodeAt(0)][L]):R):$[S]+=R;$[S]=x($[S])}return $.join(" ")},C=e.__arabicParser__.processArabic=e.processArabic=function(){var M,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(S)){var L=0;for(j=[],L=0;L<S.length;L+=1)Array.isArray(S[L])?j.push([y(S[L][0]),S[L][1],S[L][2]]):j.push([y(S[L])]);M=j}else M=y(S);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};e.events.push(["preProcessText",C])})(Tt.API),Tt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(d){s=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(d){o=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(d){l=d}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(d){u=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,i){var o;if((s=s||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Tt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(M){f=M}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(M){m=M}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(M){p=M}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(M){x=M}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(M){N=M}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(M){y=M}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(M){C=M}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},e.getTextDimensions=function(f,m){i.call(this);var p=(m=m||{}).fontSize||this.getFontSize(),x=m.font||this.getFont(),N=m.scaleFactor||this.internal.scaleFactor,y=0,C=0,M=0,S=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var j=m.maxWidth;j>0?typeof f=="string"?f=this.splitTextToSize(f,j):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(R,D){return R.concat(S.splitTextToSize(D,j))},[])):f=Array.isArray(f)?f:[f];for(var L=0;L<f.length;L++)y<(M=this.getStringUnitWidth(f[L],{font:x})*p)&&(y=M);return y!==0&&(C=f.length),{w:y/=N,h:Math.max((C*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/N,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var f;f=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var m=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,N=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=x.top,y&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,s===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};e.table=function(f,m,p,x,N){if(i.call(this),!p)throw new Error("No data for PDF table.");var y,C,M,S,j=[],L=[],R=[],D={},U={},G=[],$=[],B=(N=N||{}).autoSize||!1,Y=N.printHeaders!==!1,fe=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,V=N.margins||Object.assign({width:this.getPageWidth()},t),P=typeof N.padding=="number"?N.padding:3,F=N.headerBackgroundColor||"#c8c8c8",W=N.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=fe,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=W,this.setFontSize(fe),x==null)L=j=Object.keys(p[0]),R=j.map(function(){return"left"});else if(Array.isArray(x)&&Yn(x[0])==="object")for(j=x.map(function(ae){return ae.name}),L=x.map(function(ae){return ae.prompt||ae.name||""}),R=x.map(function(ae){return ae.align||"left"}),y=0;y<x.length;y+=1)U[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(L=j=x,R=j.map(function(){return"left"}));if(B||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<j.length;y+=1){for(D[S=j[y]]=p.map(function(ae){return ae[S]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(L[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=D[S],this.setFont(void 0,"normal"),M=0;M<C.length;M+=1)G.push(this.getTextDimensions(C[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[S]=Math.max.apply(null,G)+P+P,G=[]}if(Y){var te={};for(y=0;y<j.length;y+=1)te[j[y]]={},te[j[y]].text=L[y],te[j[y]].align=R[y];var z=d.call(this,te,U);$=j.map(function(ae){return new l(f,m,U[ae],z,te[ae].text,void 0,te[ae].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var K=x.reduce(function(ae,_){return ae[_.name]=_.align,ae},{});for(y=0;y<p.length;y+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:y,data:p[y]},this);var H=d.call(this,p[y],U);for(M=0;M<j.length;M+=1){var ue=p[y][j[M]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:y,col:M,data:ue},this),u.call(this,new l(f,m,U[j[M]],H,ue,y+2,K[j[M]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var d=function(f,m){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(y){var C=f[y];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,m[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/N+p+p},this).reduce(function(y,C){return Math.max(y,C)},0)};e.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},e.printHeaderRow=function(f,m){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),m&&(p.y=this.internal.__cell__.margins.top||0,N.push(p)),p.lineNumber=f;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(C)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),s=!1}})(Tt.API);var ZC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$C=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kx=XC($C),YC=[100,200,300,400,500,600,700,800,900],VH=XC(YC);function M1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=(function(l){return ZC[l=l||"normal"]?l:"normal"})(e.style),i=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(e.weight),o=(function(l){return typeof kx[l=l||"normal"]=="number"?l:"normal"})(e.stretch);return{family:t,style:s,weight:i,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,s,i].join(" ")}}}function ON(e,t,s,i){var o;for(o=s;o>=0&&o<t.length;o+=i)if(e[t[o]])return e[t[o]];for(o=s;o>=0&&o<t.length;o-=i)if(e[t[o]])return e[t[o]]}var GH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},PN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function IN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function BN(e){return e.trimLeft()}function WH(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function XH(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var rp,HN,FN,Vd,op,zN,UN,qN,E1=["times"];function VN(e,t,s,i,o){var l=4,u=WN;switch(o){case Tt.API.image_compression.FAST:l=1,u=GN;break;case Tt.API.image_compression.MEDIUM:l=6,u=XN;break;case Tt.API.image_compression.SLOW:l=9,u=ZN}e=(function(f,m,p,x){for(var N,y=f.length/m,C=new Uint8Array(f.length+y),M=[ZH,GN,WN,XN,ZN],S=0;S<y;S+=1){var j=S*m,L=f.subarray(j,j+m);if(x)C.set(x(L,p,N),j+S);else{for(var R=M.length,D=[],U=0;U<R;U+=1)D[U]=M[U](L,p,N);var G=YH(D.concat());C.set(D[G],j+S)}N=L}return C})(e,t,Math.ceil(s*i/8),u);var d=Sx(e,{level:l});return Tt.API.__addimage__.arrayBufferToBinaryString(d)}function ZH(e){var t=Array.apply([],e);return t.unshift(0),t}function GN(e,t){var s=e.length,i=[];i[0]=1;for(var o=0;o<s;o+=1){var l=e[o-t]||0;i[o+1]=e[o]-l+256&255}return i}function WN(e,t,s){var i=e.length,o=[];o[0]=2;for(var l=0;l<i;l+=1){var u=s&&s[l]||0;o[l+1]=e[l]-u+256&255}return o}function XN(e,t,s){var i=e.length,o=[];o[0]=3;for(var l=0;l<i;l+=1){var u=e[l-t]||0,d=s&&s[l]||0;o[l+1]=e[l]+256-(u+d>>>1)&255}return o}function ZN(e,t,s){var i=e.length,o=[];o[0]=4;for(var l=0;l<i;l+=1){var u=$H(e[l-t]||0,s&&s[l]||0,s&&s[l-t]||0);o[l+1]=e[l]-u+256&255}return o}function $H(e,t,s){if(e===t&&t===s)return e;var i=Math.abs(t-s),o=Math.abs(e-s),l=Math.abs(e+t-s-s);return i<=o&&i<=l?e:o<=l?t:s}function YH(e){var t=e.map(function(s){return s.reduce(function(i,o){return i+Math.abs(o)},0)});return t.indexOf(Math.min.apply(null,t))}function _1(e,t,s){var i=t*s,o=Math.floor(i/8),l=16-(i-8*o+s),u=(1<<s)-1;return KC(e,o)>>l&u}function $N(e,t,s,i){var o=s*i,l=Math.floor(o/8),u=16-(o-8*l+i),d=(1<<i)-1,f=(t&d)<<u;(function(m,p,x){if(p+1<m.byteLength)m.setUint16(p,x,!1);else{var N=x>>8&255;m.setUint8(p,N)}})(e,l,KC(e,l)&~(d<<u)&65535|f)}function KC(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function KH(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,o=e[t++],l=o>>7,u=1<<1+(7&o);e[t++],e[t++];var d=null,f=null;l&&(d=t,f=u,t+=3*u);var m=!0,p=[],x=0,N=null,y=0,C=null;for(this.width=s,this.height=i;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,C=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((V=e[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=e[t++];x=e[t++]|e[t++]<<8,N=e[t++],1&M||(N=null),y=M>>2&7,t++;break;case 254:for(;;){if(!((V=e[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,D=e[t++],U=D>>6&1,G=1<<1+(7&D),$=d,B=f,Y=!1;D>>7&&(Y=!0,$=t,B=G,t+=3*G);var fe=t;for(t++;;){var V;if(!((V=e[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}p.push({x:S,y:j,width:L,height:R,has_local_palette:Y,palette_offset:$,palette_size:B,data_offset:fe,data_length:t-fe,transparent_index:N,interlaced:!!U,delay:x,disposal:y});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return C},this.frameInfo=function(P){if(P<0||P>=p.length)throw new Error("Frame index out of range.");return p[P]},this.decodeAndBlitFrameBGRA=function(P,F){var W=this.frameInfo(P),te=W.width*W.height,z=new Uint8Array(te);YN(e,W.data_offset,z,te);var K=W.palette_offset,H=W.transparent_index;H===null&&(H=256);var ue=W.width,ae=s-ue,_=ue,k=4*(W.y*s+W.x),q=4*((W.y+W.height)*s+W.x),J=k,oe=4*ae;W.interlaced===!0&&(oe+=4*s*7);for(var ce=8,me=0,be=z.length;me<be;++me){var ve=z[me];if(_===0&&(_=ue,(J+=oe)>=q&&(oe=4*ae+4*s*(ce-1),J=k+(ue+ae)*(ce<<1),ce>>=1)),ve===H)J+=4;else{var Me=e[K+3*ve],Pe=e[K+3*ve+1],Xe=e[K+3*ve+2];F[J++]=Xe,F[J++]=Pe,F[J++]=Me,F[J++]=255}--_}},this.decodeAndBlitFrameRGBA=function(P,F){var W=this.frameInfo(P),te=W.width*W.height,z=new Uint8Array(te);YN(e,W.data_offset,z,te);var K=W.palette_offset,H=W.transparent_index;H===null&&(H=256);var ue=W.width,ae=s-ue,_=ue,k=4*(W.y*s+W.x),q=4*((W.y+W.height)*s+W.x),J=k,oe=4*ae;W.interlaced===!0&&(oe+=4*s*7);for(var ce=8,me=0,be=z.length;me<be;++me){var ve=z[me];if(_===0&&(_=ue,(J+=oe)>=q&&(oe=4*ae+4*s*(ce-1),J=k+(ue+ae)*(ce<<1),ce>>=1)),ve===H)J+=4;else{var Me=e[K+3*ve],Pe=e[K+3*ve+1],Xe=e[K+3*ve+2];F[J++]=Me,F[J++]=Pe,F[J++]=Xe,F[J++]=255}--_}}}function YN(e,t,s,i){for(var o=e[t++],l=1<<o,u=l+1,d=u+1,f=o+1,m=(1<<f)-1,p=0,x=0,N=0,y=e[t++],C=new Int32Array(4096),M=null;;){for(;p<16&&y!==0;)x|=e[t++]<<p,p+=8,y===1?y=e[t++]:--y;if(p<f)break;var S=x&m;if(x>>=f,p-=f,S!==l){if(S===u)break;for(var j=S<d?S:M,L=0,R=j;R>l;)R=C[R]>>8,++L;var D=R;if(N+L+(j!==S?1:0)>i)return void cs.log("Warning, gif stream longer than expected.");s[N++]=D;var U=N+=L;for(j!==S&&(s[N++]=D),R=j;L--;)R=C[R],s[--U]=255&R,R>>=8;M!==null&&d<4096&&(C[d++]=M<<8|D,d>=m+1&&f<12&&(++f,m=m<<1|1)),M=S}else d=u+1,m=(1<<(f=o+1))-1,M=null}return N!==i&&cs.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function k1(e){var t,s,i,o,l,u=Math.floor,d=new Array(64),f=new Array(64),m=new Array(64),p=new Array(64),x=new Array(65535),N=new Array(65535),y=new Array(64),C=new Array(64),M=[],S=0,j=7,L=new Array(64),R=new Array(64),D=new Array(64),U=new Array(256),G=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(k,q){for(var J=0,oe=0,ce=new Array,me=1;me<=16;me++){for(var be=1;be<=k[me];be++)ce[q[oe]]=[],ce[q[oe]][0]=J,ce[q[oe]][1]=me,oe++,J++;J*=2}return ce}function K(k){for(var q=k[0],J=k[1]-1;J>=0;)q&1<<J&&(S|=1<<j),J--,--j<0&&(S==255?(H(255),H(0)):H(S),j=7,S=0)}function H(k){M.push(k)}function ue(k){H(k>>8&255),H(255&k)}function ae(k,q,J,oe,ce){for(var me,be=ce[0],ve=ce[240],Me=(function(ke,$e){var st,le,et,ut,St,At,mn,_t,ht,Ct,jt=0;for(ht=0;ht<8;++ht){st=ke[jt],le=ke[jt+1],et=ke[jt+2],ut=ke[jt+3],St=ke[jt+4],At=ke[jt+5],mn=ke[jt+6];var wn=st+(_t=ke[jt+7]),cn=st-_t,lt=le+mn,kt=le-mn,Zt=et+At,Rt=et-At,en=ut+St,Ot=ut-St,Kn=wn+en,ds=wn-en,Nn=lt+Zt,Mt=lt-Zt;ke[jt]=Kn+Nn,ke[jt+4]=Kn-Nn;var ot=.707106781*(Mt+ds);ke[jt+2]=ds+ot,ke[jt+6]=ds-ot;var Pn=.382683433*((Kn=Ot+Rt)-(Mt=kt+cn)),jn=.5411961*Kn+Pn,fs=1.306562965*Mt+Pn,aa=.707106781*(Nn=Rt+kt),ct=cn+aa,bs=cn-aa;ke[jt+5]=bs+jn,ke[jt+3]=bs-jn,ke[jt+1]=ct+fs,ke[jt+7]=ct-fs,jt+=8}for(jt=0,ht=0;ht<8;++ht){st=ke[jt],le=ke[jt+8],et=ke[jt+16],ut=ke[jt+24],St=ke[jt+32],At=ke[jt+40],mn=ke[jt+48];var Ea=st+(_t=ke[jt+56]),as=st-_t,is=le+mn,Gn=le-mn,qn=et+At,Gs=et-At,mo=ut+St,_a=ut-St,Wn=Ea+mo,hs=Ea-mo,va=is+qn,ei=is-qn;ke[jt]=Wn+va,ke[jt+32]=Wn-va;var hi=.707106781*(ei+hs);ke[jt+16]=hs+hi,ke[jt+48]=hs-hi;var Jo=.382683433*((Wn=_a+Gs)-(ei=Gn+as)),Ri=.5411961*Wn+Jo,Oi=1.306562965*ei+Jo,po=.707106781*(va=Gs+Gn),Pi=as+po,Ii=as-po;ke[jt+40]=Ii+Ri,ke[jt+24]=Ii-Ri,ke[jt+8]=Pi+Oi,ke[jt+56]=Pi-Oi,jt++}for(ht=0;ht<64;++ht)Ct=ke[ht]*$e[ht],y[ht]=Ct>0?Ct+.5|0:Ct-.5|0;return y})(k,q),Pe=0;Pe<64;++Pe)C[$[Pe]]=Me[Pe];var Xe=C[0]-J;J=C[0],Xe==0?K(oe[0]):(K(oe[N[me=32767+Xe]]),K(x[me]));for(var Qe=63;Qe>0&&C[Qe]==0;)Qe--;if(Qe==0)return K(be),J;for(var ge,re=1;re<=Qe;){for(var Pt=re;C[re]==0&&re<=Qe;)++re;var Te=re-Pt;if(Te>=16){ge=Te>>4;for(var we=1;we<=ge;++we)K(ve);Te&=15}me=32767+C[re],K(ce[(Te<<4)+N[me]]),K(x[me]),re++}return Qe!=63&&K(be),J}function _(k){k=Math.min(Math.max(k,1),100),l!=k&&((function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=u((J[oe]*q+50)/100);ce=Math.min(Math.max(ce,1),255),d[$[oe]]=ce}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ve=u((me[be]*q+50)/100);ve=Math.min(Math.max(ve,1),255),f[$[be]]=ve}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Xe=0;Xe<8;Xe++)for(var Qe=0;Qe<8;Qe++)m[Pe]=1/(d[$[Pe]]*Me[Xe]*Me[Qe]*8),p[Pe]=1/(f[$[Pe]]*Me[Xe]*Me[Qe]*8),Pe++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),l=k)}this.encode=function(k,q){q&&_(q),M=new Array,S=0,j=7,ue(65496),ue(65504),ue(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ue(1),ue(1),H(0),H(0),(function(){ue(65499),ue(132),H(0);for(var le=0;le<64;le++)H(d[le]);H(1);for(var et=0;et<64;et++)H(f[et])})(),(function(le,et){ue(65472),ue(17),H(8),ue(et),ue(le),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)})(k.width,k.height),(function(){ue(65476),ue(418),H(0);for(var le=0;le<16;le++)H(B[le+1]);for(var et=0;et<=11;et++)H(Y[et]);H(16);for(var ut=0;ut<16;ut++)H(fe[ut+1]);for(var St=0;St<=161;St++)H(V[St]);H(1);for(var At=0;At<16;At++)H(P[At+1]);for(var mn=0;mn<=11;mn++)H(F[mn]);H(17);for(var _t=0;_t<16;_t++)H(W[_t+1]);for(var ht=0;ht<=161;ht++)H(te[ht])})(),ue(65498),ue(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var J=0,oe=0,ce=0;S=0,j=7,this.encode.displayName="_encode_";for(var me,be,ve,Me,Pe,Xe,Qe,ge,re,Pt=k.data,Te=k.width,we=k.height,ke=4*Te,$e=0;$e<we;){for(me=0;me<ke;){for(Pe=ke*$e+me,Qe=-1,ge=0,re=0;re<64;re++)Xe=Pe+(ge=re>>3)*ke+(Qe=4*(7&re)),$e+ge>=we&&(Xe-=ke*($e+1+ge-we)),me+Qe>=ke&&(Xe-=me+Qe-ke+4),be=Pt[Xe++],ve=Pt[Xe++],Me=Pt[Xe++],L[re]=(G[be]+G[ve+256|0]+G[Me+512|0]>>16)-128,R[re]=(G[be+768|0]+G[ve+1024|0]+G[Me+1280|0]>>16)-128,D[re]=(G[be+1280|0]+G[ve+1536|0]+G[Me+1792|0]>>16)-128;J=ae(L,m,J,t,i),oe=ae(R,p,oe,s,o),ce=ae(D,p,ce,s,o),me+=32}$e+=8}if(j>=0){var st=[];st[1]=j+1,st[0]=(1<<j+1)-1,K(st)}return ue(65497),new Uint8Array(M)},e=e||50,(function(){for(var k=String.fromCharCode,q=0;q<256;q++)U[q]=k(q)})(),t=z(B,Y),s=z(P,F),i=z(fe,V),o=z(W,te),(function(){for(var k=1,q=2,J=1;J<=15;J++){for(var oe=k;oe<q;oe++)N[32767+oe]=J,x[32767+oe]=[],x[32767+oe][1]=J,x[32767+oe][0]=oe;for(var ce=-(q-1);ce<=-k;ce++)N[32767+ce]=J,x[32767+ce]=[],x[32767+ce][1]=J,x[32767+ce][0]=q-1+ce;k<<=1,q<<=1}})(),(function(){for(var k=0;k<256;k++)G[k]=19595*k,G[k+256|0]=38470*k,G[k+512|0]=7471*k+32768,G[k+768|0]=-11059*k,G[k+1024|0]=-21709*k,G[k+1280|0]=32768*k+8421375,G[k+1536|0]=-27439*k,G[k+1792|0]=-5329*k})(),_(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qr(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function KN(e){function t(Y){if(!Y)throw Error("assert :P")}function s(Y,fe,V){for(var P=0;4>P;P++)if(Y[fe+P]!=V.charCodeAt(P))return!0;return!1}function i(Y,fe,V,P,F){for(var W=0;W<F;W++)Y[fe+W]=V[P+W]}function o(Y,fe,V,P){for(var F=0;F<P;F++)Y[fe+F]=V}function l(Y){return new Int32Array(Y)}function u(Y,fe){for(var V=[],P=0;P<Y;P++)V.push(new fe);return V}function d(Y,fe){var V=[];return(function P(F,W,te){for(var z=te[W],K=0;K<z&&(F.push(te.length>W+1?[]:new fe),!(te.length<W+1));K++)P(F[K],W+1,te)})(V,0,Y),V}var f=function(){var Y=this;function fe(g,b){for(var E=1<<b-1>>>0;g&E;)E>>>=1;return E?(g&E-1)+E:g}function V(g,b,E,O,Z){t(!(O%E));do g[b+(O-=E)]=Z;while(0<O)}function P(g,b,E,O,Z){if(t(2328>=Z),512>=Z)var Q=l(512);else if((Q=l(Z))==null)return 0;return(function(ee,se,ie,he,Ne,Le){var de,Se,Ee=se,ze=1<<ie,_e=l(16),Fe=l(16);for(t(Ne!=0),t(he!=null),t(ee!=null),t(0<ie),Se=0;Se<Ne;++Se){if(15<he[Se])return 0;++_e[he[Se]]}if(_e[0]==Ne)return 0;for(Fe[1]=0,de=1;15>de;++de){if(_e[de]>1<<de)return 0;Fe[de+1]=Fe[de]+_e[de]}for(Se=0;Se<Ne;++Se)de=he[Se],0<he[Se]&&(Le[Fe[de]++]=Se);if(Fe[15]==1)return(he=new F).g=0,he.value=Le[0],V(ee,Ee,1,ze,he),ze;var We,at=-1,Ke=ze-1,xt=0,dt=1,Gt=1,mt=1<<ie;for(Se=0,de=1,Ne=2;de<=ie;++de,Ne<<=1){if(dt+=Gt<<=1,0>(Gt-=_e[de]))return 0;for(;0<_e[de];--_e[de])(he=new F).g=de,he.value=Le[Se++],V(ee,Ee+xt,Ne,mt,he),xt=fe(xt,de)}for(de=ie+1,Ne=2;15>=de;++de,Ne<<=1){if(dt+=Gt<<=1,0>(Gt-=_e[de]))return 0;for(;0<_e[de];--_e[de]){if(he=new F,(xt&Ke)!=at){for(Ee+=mt,We=1<<(at=de)-ie;15>at&&!(0>=(We-=_e[at]));)++at,We<<=1;ze+=mt=1<<(We=at-ie),ee[se+(at=xt&Ke)].g=We+ie,ee[se+at].value=Ee-se-at}he.g=de-ie,he.value=Le[Se++],V(ee,Ee+(xt>>ie),Ne,mt,he),xt=fe(xt,de)}}return dt!=2*Fe[15]-1?0:ze})(g,b,E,O,Z,Q)}function F(){this.value=this.g=0}function W(){this.value=this.g=0}function te(){this.G=u(5,F),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(wo,W)}function z(g,b,E,O){t(g!=null),t(b!=null),t(2147483648>O),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=E,g.Jd=b,g.Yc=E+O,g.Zc=4<=O?E+O-4+1:E,be(g)}function K(g,b){for(var E=0;0<b--;)E|=Me(g,128)<<b;return E}function H(g,b){var E=K(g,b);return ve(g)?-E:E}function ue(g,b,E,O){var Z,Q=0;for(t(g!=null),t(b!=null),t(4294967288>O),g.Sb=O,g.Ra=0,g.u=0,g.h=0,4<O&&(O=4),Z=0;Z<O;++Z)Q+=b[E+Z]<<8*Z;g.Ra=Q,g.bb=O,g.oa=b,g.pa=E}function ae(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<cr-8>>>0,++g.bb,g.u-=8;oe(g)&&(g.h=1,g.u=0)}function _(g,b){if(t(0<=b),!g.h&&b<=Da){var E=J(g)&qa[b];return g.u+=b,ae(g),E}return g.h=1,g.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(g){return g.Ra>>>(g.u&cr-1)>>>0}function oe(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>cr}function ce(g,b){g.u=b,g.h=oe(g)}function me(g){g.u>=ur&&(t(g.u>=ur),ae(g))}function be(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ve(g){return K(g,1)}function Me(g,b){var E=g.Ca;0>g.b&&be(g);var O=g.b,Z=E*b>>>8,Q=(g.I>>>O>Z)+0;for(Q?(E-=Z,g.I-=Z+1<<O>>>0):E=Z+1,O=E,Z=0;256<=O;)Z+=8,O>>=8;return O=7^Z+Hr[O],g.b-=O,g.Ca=(E<<O)-1,Q}function Pe(g,b,E){g[b+0]=E>>24&255,g[b+1]=E>>16&255,g[b+2]=E>>8&255,g[b+3]=255&E}function Xe(g,b){return g[b+0]|g[b+1]<<8}function Qe(g,b){return Xe(g,b)|g[b+2]<<16}function ge(g,b){return Xe(g,b)|Xe(g,b+2)<<16}function re(g,b){var E=1<<b;return t(g!=null),t(0<b),g.X=l(E),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function Pt(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),i(b.X,0,g.X,0,1<<b.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function we(g,b,E,O){t(E!=null),t(O!=null);var Z=E[0],Q=O[0];return Z==0&&(Z=(g*Q+b/2)/b),Q==0&&(Q=(b*Z+g/2)/g),0>=Z||0>=Q?0:(E[0]=Z,O[0]=Q,1)}function ke(g,b){return g+(1<<b)-1>>>b}function $e(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function st(g,b){Y[b]=function(E,O,Z,Q,ee,se,ie){var he;for(he=0;he<ee;++he){var Ne=Y[g](se[ie+he-1],Z,Q+he);se[ie+he]=$e(E[O+he],Ne)}}}function le(){this.ud=this.hd=this.jd=0}function et(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function ut(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function St(g,b){return ut(g+(g-b+.5>>1))}function At(g,b,E){return Math.abs(b-E)-Math.abs(g-E)}function mn(g,b,E,O,Z,Q,ee){for(O=Q[ee-1],E=0;E<Z;++E)Q[ee+E]=O=$e(g[b+E],O)}function _t(g,b,E,O,Z){var Q;for(Q=0;Q<E;++Q){var ee=g[b+Q],se=ee>>8&255,ie=16711935&(ie=(ie=16711935&ee)+((se<<16)+se));O[Z+Q]=(4278255360&ee)+ie>>>0}}function ht(g,b){b.jd=255&g,b.hd=g>>8&255,b.ud=g>>16&255}function Ct(g,b,E,O,Z,Q){var ee;for(ee=0;ee<O;++ee){var se=b[E+ee],ie=se>>>8,he=se,Ne=255&(Ne=(Ne=se>>>16)+((g.jd<<24>>24)*(ie<<24>>24)>>>5));he=255&(he=(he+=(g.hd<<24>>24)*(ie<<24>>24)>>>5)+((g.ud<<24>>24)*(Ne<<24>>24)>>>5)),Z[Q+ee]=(4278255360&se)+(Ne<<16)+he}}function jt(g,b,E,O,Z){Y[b]=function(Q,ee,se,ie,he,Ne,Le,de,Se){for(ie=Le;ie<de;++ie)for(Le=0;Le<Se;++Le)he[Ne++]=Z(se[O(Q[ee++])])},Y[g]=function(Q,ee,se,ie,he,Ne,Le){var de=8>>Q.b,Se=Q.Ea,Ee=Q.K[0],ze=Q.w;if(8>de)for(Q=(1<<Q.b)-1,ze=(1<<de)-1;ee<se;++ee){var _e,Fe=0;for(_e=0;_e<Se;++_e)_e&Q||(Fe=O(ie[he++])),Ne[Le++]=Z(Ee[Fe&ze]),Fe>>=de}else Y["VP8LMapColor"+E](ie,he,Ee,ze,Ne,Le,ee,se,Se)}}function wn(g,b,E,O,Z){for(E=b+E;b<E;){var Q=g[b++];O[Z++]=Q>>16&255,O[Z++]=Q>>8&255,O[Z++]=255&Q}}function cn(g,b,E,O,Z){for(E=b+E;b<E;){var Q=g[b++];O[Z++]=Q>>16&255,O[Z++]=Q>>8&255,O[Z++]=255&Q,O[Z++]=Q>>24&255}}function lt(g,b,E,O,Z){for(E=b+E;b<E;){var Q=(ee=g[b++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;O[Z++]=Q,O[Z++]=ee}}function kt(g,b,E,O,Z){for(E=b+E;b<E;){var Q=(ee=g[b++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;O[Z++]=Q,O[Z++]=ee}}function Zt(g,b,E,O,Z){for(E=b+E;b<E;){var Q=g[b++];O[Z++]=255&Q,O[Z++]=Q>>8&255,O[Z++]=Q>>16&255}}function Rt(g,b,E,O,Z,Q){if(Q==0)for(E=b+E;b<E;)Pe(O,((Q=g[b++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),Z+=32;else i(O,Z,g,b,E)}function en(g,b){Y[b][0]=Y[g+"0"],Y[b][1]=Y[g+"1"],Y[b][2]=Y[g+"2"],Y[b][3]=Y[g+"3"],Y[b][4]=Y[g+"4"],Y[b][5]=Y[g+"5"],Y[b][6]=Y[g+"6"],Y[b][7]=Y[g+"7"],Y[b][8]=Y[g+"8"],Y[b][9]=Y[g+"9"],Y[b][10]=Y[g+"10"],Y[b][11]=Y[g+"11"],Y[b][12]=Y[g+"12"],Y[b][13]=Y[g+"13"],Y[b][14]=Y[g+"0"],Y[b][15]=Y[g+"0"]}function Ot(g){return g==cu||g==ld||g==tc||g==cd}function Kn(){this.eb=[],this.size=this.A=this.fb=0}function ds(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kn,this.f.kb=new ds,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function jn(g,b){var E=g.T,O=b.ba.f.RGBA,Z=O.eb,Q=O.fb+g.ka*O.A,ee=da[b.ba.S],se=g.y,ie=g.O,he=g.f,Ne=g.N,Le=g.ea,de=g.W,Se=b.cc,Ee=b.dc,ze=b.Mc,_e=b.Nc,Fe=g.ka,We=g.ka+g.T,at=g.U,Ke=at+1>>1;for(Fe==0?ee(se,ie,null,null,he,Ne,Le,de,he,Ne,Le,de,Z,Q,null,null,at):(ee(b.ec,b.fc,se,ie,Se,Ee,ze,_e,he,Ne,Le,de,Z,Q-O.A,Z,Q,at),++E);Fe+2<We;Fe+=2)Se=he,Ee=Ne,ze=Le,_e=de,Ne+=g.Rc,de+=g.Rc,Q+=2*O.A,ee(se,(ie+=2*g.fa)-g.fa,se,ie,Se,Ee,ze,_e,he,Ne,Le,de,Z,Q-O.A,Z,Q,at);return ie+=g.fa,g.j+We<g.o?(i(b.ec,b.fc,se,ie,at),i(b.cc,b.dc,he,Ne,Ke),i(b.Mc,b.Nc,Le,de,Ke),E--):1&We||ee(se,ie,null,null,he,Ne,Le,de,he,Ne,Le,de,Z,Q+O.A,null,null,at),E}function fs(g,b,E){var O=g.F,Z=[g.J];if(O!=null){var Q=g.U,ee=b.ba.S,se=ee==lu||ee==tc;b=b.ba.f.RGBA;var ie=[0],he=g.ka;ie[0]=g.T,g.Kb&&(he==0?--ie[0]:(--he,Z[0]-=g.width),g.j+g.ka+g.T==g.o&&(ie[0]=g.o-g.j-he));var Ne=b.eb;he=b.fb+he*b.A,g=au(O,Z[0],g.width,Q,ie,Ne,he+(se?0:3),b.A),t(E==ie),g&&Ot(ee)&&fl(Ne,he,se,Q,ie,b.A)}return 0}function aa(g){var b=g.ma,E=b.ba.S,O=11>E,Z=E==Na||E==vi||E==lu||E==ec||E==12||Ot(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Br(b.Oa,g,Z?11:12))return 0;if(Z&&Ot(E)&&nd(),g.da)alert("todo:use_scaling");else{if(O){if(b.Ib=Pn,g.Kb){if(E=g.U+1>>1,b.memory=l(g.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=jn,nd()}}else alert("todo:EmitYUV");Z&&(b.Jb=fs,O&&pi())}if(O&&!Mo){for(g=0;256>g;++g)fa[g]=89858*(g-128)+ac>>Si,y0[g]=-22014*(g-128)+ac,Yh[g]=-45773*(g-128),md[g]=113618*(g-128)+ac>>Si;for(g=gl;g<To;++g)b=76283*(g-16)+ac>>Si,b0[g-gl]=ws(b,255),w0[g-gl]=ws(b+8>>4,15);Mo=1}return 1}function ct(g){var b=g.ma,E=g.U,O=g.T;return t(!(1&g.ka)),0>=E||0>=O?0:(E=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,E),b.Dc+=E,1)}function bs(g){g.ma.memory=null}function Ea(g,b,E,O){return _(g,8)!=47?0:(b[0]=_(g,14)+1,E[0]=_(g,14)+1,O[0]=_(g,1),_(g,3)!=0?0:!g.h)}function as(g,b){if(4>g)return g+1;var E=g-2>>1;return(2+(1&g)<<E)+_(b,E)+1}function is(g,b){return 120<b?b-120:1<=(E=((E=bi[b-1])>>4)*g+(8-(15&E)))?E:1;var E}function Gn(g,b,E){var O=J(E),Z=g[b+=255&O].g-8;return 0<Z&&(ce(E,E.u+8),O=J(E),b+=g[b].value,b+=O&(1<<Z)-1),ce(E,E.u+g[b].g),g[b].value}function qn(g,b,E){return E.g+=g.g,E.value+=g.value<<b>>>0,t(8>=E.g),g.g}function Gs(g,b,E){var O=g.xc;return t((b=O==0?0:g.vc[g.md*(E>>O)+(b>>O)])<g.Wb),g.Ya[b]}function mo(g,b,E,O){var Z=g.ab,Q=g.c*b,ee=g.C;b=ee+b;var se=E,ie=O;for(O=g.Ta,E=g.Ua;0<Z--;){var he=g.gc[Z],Ne=ee,Le=b,de=se,Se=ie,Ee=(ie=O,se=E,he.Ea);switch(t(Ne<Le),t(Le<=he.nc),he.hc){case 2:ks(de,Se,(Le-Ne)*Ee,ie,se);break;case 0:var ze=Ne,_e=Le,Fe=ie,We=se,at=(mt=he).Ea;ze==0&&(Yl(de,Se,null,null,1,Fe,We),mn(de,Se+1,0,0,at-1,Fe,We+1),Se+=at,We+=at,++ze);for(var Ke=1<<mt.b,xt=Ke-1,dt=ke(at,mt.b),Gt=mt.K,mt=mt.w+(ze>>mt.b)*dt;ze<_e;){var dn=Gt,os=mt,$t=1;for(Kl(de,Se,Fe,We-at,1,Fe,We);$t<at;){var ft=($t&~xt)+Ke;ft>at&&(ft=at),(0,Fr[dn[os++]>>8&15])(de,Se+ +$t,Fe,We+$t-at,ft-$t,Fe,We+$t),$t=ft}Se+=at,We+=at,++ze&xt||(mt+=dt)}Le!=he.nc&&i(ie,se-Ee,ie,se+(Le-Ne-1)*Ee,Ee);break;case 1:for(Ee=de,_e=Se,at=(de=he.Ea)-(We=de&~(Fe=(Se=1<<he.b)-1)),ze=ke(de,he.b),Ke=he.K,he=he.w+(Ne>>he.b)*ze;Ne<Le;){for(xt=Ke,dt=he,Gt=new le,mt=_e+We,dn=_e+de;_e<mt;)ht(xt[dt++],Gt),Ql(Gt,Ee,_e,Se,ie,se),_e+=Se,se+=Se;_e<dn&&(ht(xt[dt++],Gt),Ql(Gt,Ee,_e,at,ie,se),_e+=at,se+=at),++Ne&Fe||(he+=ze)}break;case 3:if(de==ie&&Se==se&&0<he.b){for(_e=ie,de=Ee=se+(Le-Ne)*Ee-(We=(Le-Ne)*ke(he.Ea,he.b)),Se=ie,Fe=se,ze=[],We=(at=We)-1;0<=We;--We)ze[We]=Se[Fe+We];for(We=at-1;0<=We;--We)_e[de+We]=ze[We];sd(he,Ne,Le,ie,Ee,ie,se)}else sd(he,Ne,Le,de,Se,ie,se)}se=O,ie=E}ie!=E&&i(O,E,se,ie,Q)}function _a(g,b){var E=g.V,O=g.Ba+g.c*g.C,Z=b-g.C;if(t(b<=g.l.o),t(16>=Z),0<Z){var Q=g.l,ee=g.Ta,se=g.Ua,ie=Q.width;if(mo(g,Z,E,O),Z=se=[se],t((E=g.C)<(O=b)),t(Q.v<Q.va),O>Q.o&&(O=Q.o),E<Q.j){var he=Q.j-E;E=Q.j,Z[0]+=he*ie}if(E>=O?E=0:(Z[0]+=4*Q.v,Q.ka=E-Q.j,Q.U=Q.va-Q.v,Q.T=O-E,E=1),E){if(se=se[0],11>(E=g.ca).S){var Ne=E.f.RGBA,Le=(O=E.S,Z=Q.U,Q=Q.T,he=Ne.eb,Ne.A),de=Q;for(Ne=Ne.fb+g.Ma*Ne.A;0<de--;){var Se=ee,Ee=se,ze=Z,_e=he,Fe=Ne;switch(O){case rd:Jl(Se,Ee,ze,_e,Fe);break;case Na:zr(Se,Ee,ze,_e,Fe);break;case cu:zr(Se,Ee,ze,_e,Fe),fl(_e,Fe,0,ze,1,0);break;case od:ul(Se,Ee,ze,_e,Fe);break;case vi:Rt(Se,Ee,ze,_e,Fe,1);break;case ld:Rt(Se,Ee,ze,_e,Fe,1),fl(_e,Fe,0,ze,1,0);break;case lu:Rt(Se,Ee,ze,_e,Fe,0);break;case tc:Rt(Se,Ee,ze,_e,Fe,0),fl(_e,Fe,1,ze,1,0);break;case ec:Ur(Se,Ee,ze,_e,Fe);break;case cd:Ur(Se,Ee,ze,_e,Fe),xi(_e,Fe,ze,1,0);break;case No:hr(Se,Ee,ze,_e,Fe);break;default:t(0)}se+=ie,Ne+=Le}g.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=E.height)}}g.C=b,t(g.C<=g.i)}function Wn(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var E=g.Ya[b].G,O=g.Ya[b].H;if(0<E[1][O[1]+0].g||0<E[2][O[2]+0].g||0<E[3][O[3]+0].g)return 0}return 1}function hs(g,b,E,O,Z,Q){if(g.Z!=0){var ee=g.qd,se=g.rd;for(t(Gr[g.Z]!=null);b<E;++b)Gr[g.Z](ee,se,O,Z,O,Z,Q),ee=O,se=Z,Z+=Q;g.qd=ee,g.rd=se}}function va(g,b){var E=g.l.ma,O=E.Z==0||E.Z==1?g.l.j:g.C;if(O=g.C<O?O:g.C,t(b<=g.l.o),b>O){var Z=g.l.width,Q=E.ca,ee=E.tb+Z*O,se=g.V,ie=g.Ba+g.c*O,he=g.gc;t(g.ab==1),t(he[0].hc==3),fr(he[0],O,b,se,ie,Q,ee),hs(E,O,b,Q,ee,Z)}g.C=g.Ma=b}function ei(g,b,E,O,Z,Q,ee){var se=g.$/O,ie=g.$%O,he=g.m,Ne=g.s,Le=E+g.$,de=Le;Z=E+O*Z;var Se=E+O*Q,Ee=280+Ne.ua,ze=g.Pb?se:16777216,_e=0<Ne.ua?Ne.Wa:null,Fe=Ne.wc,We=Le<Se?Gs(Ne,ie,se):null;t(g.C<Q),t(Se<=Z);var at=!1;e:for(;;){for(;at||Le<Se;){var Ke=0;if(se>=ze){var xt=Le-E;t((ze=g).Pb),ze.wd=ze.m,ze.xd=xt,0<ze.s.ua&&Pt(ze.s.Wa,ze.s.vb),ze=se+jo}if(ie&Fe||(We=Gs(Ne,ie,se)),t(We!=null),We.Qb&&(b[Le]=We.qb,at=!0),!at)if(me(he),We.jc){Ke=he,xt=b;var dt=Le,Gt=We.pd[J(Ke)&wo-1];t(We.jc),256>Gt.g?(ce(Ke,Ke.u+Gt.g),xt[dt]=Gt.value,Ke=0):(ce(Ke,Ke.u+Gt.g-256),t(256<=Gt.value),Ke=Gt.value),Ke==0&&(at=!0)}else Ke=Gn(We.G[0],We.H[0],he);if(he.h)break;if(at||256>Ke){if(!at)if(We.nd)b[Le]=(We.qb|Ke<<8)>>>0;else{if(me(he),at=Gn(We.G[1],We.H[1],he),me(he),xt=Gn(We.G[2],We.H[2],he),dt=Gn(We.G[3],We.H[3],he),he.h)break;b[Le]=(dt<<24|at<<16|Ke<<8|xt)>>>0}if(at=!1,++Le,++ie>=O&&(ie=0,++se,ee!=null&&se<=Q&&!(se%16)&&ee(g,se),_e!=null))for(;de<Le;)Ke=b[de++],_e.X[(506832829*Ke&4294967295)>>>_e.Mb]=Ke}else if(280>Ke){if(Ke=as(Ke-256,he),xt=Gn(We.G[4],We.H[4],he),me(he),xt=is(O,xt=as(xt,he)),he.h)break;if(Le-E<xt||Z-Le<Ke)break e;for(dt=0;dt<Ke;++dt)b[Le+dt]=b[Le+dt-xt];for(Le+=Ke,ie+=Ke;ie>=O;)ie-=O,++se,ee!=null&&se<=Q&&!(se%16)&&ee(g,se);if(t(Le<=Z),ie&Fe&&(We=Gs(Ne,ie,se)),_e!=null)for(;de<Le;)Ke=b[de++],_e.X[(506832829*Ke&4294967295)>>>_e.Mb]=Ke}else{if(!(Ke<Ee))break e;for(at=Ke-280,t(_e!=null);de<Le;)Ke=b[de++],_e.X[(506832829*Ke&4294967295)>>>_e.Mb]=Ke;Ke=Le,t(!(at>>>(xt=_e).Xa)),b[Ke]=xt.X[at],at=!0}at||t(he.h==oe(he))}if(g.Pb&&he.h&&Le<Z)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Pt(g.s.vb,g.s.Wa);else{if(he.h)break e;ee?.(g,se>Q?Q:se),g.a=0,g.$=Le-E}return 1}return g.a=3,0}function hi(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function Jo(){var g=new wt;return g==null?null:(g.a=0,g.xb=Ef,en("Predictor","VP8LPredictors"),en("Predictor","VP8LPredictors_C"),en("PredictorAdd","VP8LPredictorsAdd"),en("PredictorAdd","VP8LPredictorsAdd_C"),ks=_t,Ql=Ct,Jl=wn,zr=cn,Ur=lt,hr=kt,ul=Zt,Y.VP8LMapColor32b=dr,Y.VP8LMapColor8b=la,g)}function Ri(g,b,E,O,Z){var Q=1,ee=[g],se=[b],ie=O.m,he=O.s,Ne=null,Le=0;e:for(;;){if(E)for(;Q&&_(ie,1);){var de=ee,Se=se,Ee=O,ze=1,_e=Ee.m,Fe=Ee.gc[Ee.ab],We=_(_e,2);if(Ee.Oc&1<<We)Q=0;else{switch(Ee.Oc|=1<<We,Fe.hc=We,Fe.Ea=de[0],Fe.nc=Se[0],Fe.K=[null],++Ee.ab,t(4>=Ee.ab),We){case 0:case 1:Fe.b=_(_e,3)+2,ze=Ri(ke(Fe.Ea,Fe.b),ke(Fe.nc,Fe.b),0,Ee,Fe.K),Fe.K=Fe.K[0];break;case 3:var at,Ke=_(_e,8)+1,xt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(de[0]=ke(Fe.Ea,xt),Fe.b=xt,at=ze=Ri(Ke,1,0,Ee,Fe.K)){var dt,Gt=Ke,mt=Fe,dn=1<<(8>>mt.b),os=l(dn);if(os==null)at=0;else{var $t=mt.K[0],ft=mt.w;for(os[0]=mt.K[0][0],dt=1;dt<1*Gt;++dt)os[dt]=$e($t[ft+dt],os[dt-1]);for(;dt<4*dn;++dt)os[dt]=0;mt.K[0]=null,mt.K[0]=os,at=1}}ze=at;break;case 2:break;default:t(0)}Q=ze}}if(ee=ee[0],se=se[0],Q&&_(ie,1)&&!(Q=1<=(Le=_(ie,4))&&11>=Le)){O.a=3;break e}var rt;if(rt=Q)t:{var ps,Bt,Jt,Fn=O,Xs=ee,ha=se,es=Le,Is=E,ja=Fn.m,Bs=Fn.s,nn=[null],Cn=1,gs=0,kn=wi[es];n:for(;;){if(Is&&_(ja,1)){var Zs=_(ja,3)+2,xs=ke(Xs,Zs),Tn=ke(ha,Zs),Rs=xs*Tn;if(!Ri(xs,Tn,0,Fn,nn))break n;for(nn=nn[0],Bs.xc=Zs,ps=0;ps<Rs;++ps){var zn=nn[ps]>>8&65535;nn[ps]=zn,zn>=Cn&&(Cn=zn+1)}}if(ja.h)break n;for(Bt=0;5>Bt;++Bt){var Hs=ml[Bt];!Bt&&0<es&&(Hs+=1<<es),gs<Hs&&(gs=Hs)}var Fs=u(Cn*kn,F),Xn=Cn,An=u(Xn,te);if(An==null)var Sa=null;else t(65536>=Xn),Sa=An;var js=l(gs);if(Sa==null||js==null||Fs==null){Fn.a=1;break n}var Et=Fs;for(ps=Jt=0;ps<Cn;++ps){var Lt=Sa[ps],Mn=Lt.G,Va=Lt.H,Ai=0,Oa=1,zs=0;for(Bt=0;5>Bt;++Bt){Hs=ml[Bt],Mn[Bt]=Et,Va[Bt]=Jt,!Bt&&0<es&&(Hs+=1<<es);a:{var Eo,_o=Hs,gd=Fn,ts=js,kf=Et,Lf=Jt,xd=0,Wr=gd.m,N0=_(Wr,1);if(o(ts,0,0,_o),N0){var Df=_(Wr,1)+1,Rf=_(Wr,1),vd=_(Wr,Rf==0?1:8);ts[vd]=1,Df==2&&(ts[vd=_(Wr,8)]=1);var ea=1}else{var Ss=l(19),hu=_(Wr,4)+4;if(19<hu){gd.a=3;var ko=0;break a}for(Eo=0;Eo<hu;++Eo)Ss[uu[Eo]]=_(Wr,3);var rc=void 0,xl=void 0,gr=gd,yd=Ss,oc=_o,bd=ts,wd=0,Xr=gr.m,Of=8,Pf=u(128,F);s:for(;P(Pf,0,7,yd,19);){if(_(Xr,1)){var Kh=2+2*_(Xr,3);if((rc=2+_(Xr,Kh))>oc)break s}else rc=oc;for(xl=0;xl<oc&&rc--;){me(Xr);var If=Pf[0+(127&J(Xr))];ce(Xr,Xr.u+If.g);var Lo=If.value;if(16>Lo)bd[xl++]=Lo,Lo!=0&&(Of=Lo);else{var Qh=Lo==16,Jh=Lo-16,em=nc[Jh],Bf=_(Xr,yi[Jh])+em;if(xl+Bf>oc)break s;for(var tm=Qh?Of:0;0<Bf--;)bd[xl++]=tm}}wd=1;break s}wd||(gr.a=3),ea=wd}(ea=ea&&!Wr.h)&&(xd=P(kf,Lf,8,ts,_o)),ea&&xd!=0?ko=xd:(gd.a=3,ko=0)}if(ko==0)break n;if(Oa&&ud[Bt]==1&&(Oa=Et[Jt].g==0),Ai+=Et[Jt].g,Jt+=ko,3>=Bt){var vl,Nd=js[0];for(vl=1;vl<Hs;++vl)js[vl]>Nd&&(Nd=js[vl]);zs+=Nd}}if(Lt.nd=Oa,Lt.Qb=0,Oa&&(Lt.qb=(Mn[3][Va[3]+0].value<<24|Mn[1][Va[1]+0].value<<16|Mn[2][Va[2]+0].value)>>>0,Ai==0&&256>Mn[0][Va[0]+0].value&&(Lt.Qb=1,Lt.qb+=Mn[0][Va[0]+0].value<<8)),Lt.jc=!Lt.Qb&&6>zs,Lt.jc){var mu,xr=Lt;for(mu=0;mu<wo;++mu){var Zr=mu,$r=xr.pd[Zr],jd=xr.G[0][xr.H[0]+Zr];256<=jd.value?($r.g=jd.g+256,$r.value=jd.value):($r.g=0,$r.value=0,Zr>>=qn(jd,8,$r),Zr>>=qn(xr.G[1][xr.H[1]+Zr],16,$r),Zr>>=qn(xr.G[2][xr.H[2]+Zr],0,$r),qn(xr.G[3][xr.H[3]+Zr],24,$r))}}}Bs.vc=nn,Bs.Wb=Cn,Bs.Ya=Sa,Bs.yc=Fs,rt=1;break t}rt=0}if(!(Q=rt)){O.a=3;break e}if(0<Le){if(he.ua=1<<Le,!re(he.Wa,Le)){O.a=1,Q=0;break e}}else he.ua=0;var Sd=O,yl=ee,nm=se,lc=Sd.s,cc=lc.xc;if(Sd.c=yl,Sd.i=nm,lc.md=ke(yl,cc),lc.wc=cc==0?-1:(1<<cc)-1,E){O.xb=So;break e}if((Ne=l(ee*se))==null){O.a=1,Q=0;break e}Q=(Q=ei(O,Ne,0,ee,se,se,null))&&!ie.h;break e}return Q?(Z!=null?Z[0]=Ne:(t(Ne==null),t(E)),O.$=0,E||hi(he)):hi(he),Q}function Oi(g,b){var E=g.c*g.i,O=E+b+16*b;return t(g.c<=b),g.V=l(O),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+E+b,1)}function po(g,b){var E=g.C,O=b-E,Z=g.V,Q=g.Ba+g.c*E;for(t(b<=g.l.o);0<O;){var ee=16<O?16:O,se=g.l.ma,ie=g.l.width,he=ie*ee,Ne=se.ca,Le=se.tb+ie*E,de=g.Ta,Se=g.Ua;mo(g,ee,Z,Q),li(de,Se,Ne,Le,he),hs(se,E,E+ee,Ne,Le,ie),O-=ee,Z+=ee*g.c,E+=ee}t(E==b),g.C=g.Ma=b}function Pi(){this.ub=this.yd=this.td=this.Rb=0}function Ii(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function nr(){this.Yb=(function(){var g=[];return(function b(E,O,Z){for(var Q=Z[O],ee=0;ee<Q&&(E.push(Z.length>O+1?[]:0),!(Z.length<O+1));ee++)b(E[ee],O+1,Z)})(g,0,[3,11]),g})()}function Ms(){this.jb=l(3),this.Wc=d([4,8],nr),this.Xc=d([4,17],nr)}function zc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function ti(){this.ld=this.La=this.dd=this.tc=0}function Bi(){this.Na=this.la=0}function Tr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uc(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ti),this.Y=0,this.ya=Array(new Uc),this.aa=0,this.l=new Mr}function Vc(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Xu(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Pi,this.Kc=new Ii,this.ed=new zc,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new qc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,k),this.ia=0,this.pb=u(4,Tr),this.Pa=new Ms,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vc),this.Hd=0,this.rb=Array(new Bi),this.sb=0,this.wa=Array(new ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uc),this.L=this.aa=0,this.gd=d([4,2],ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ql(){var g=new Xu;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ci||(ci=Er)),g}function Vn(g,b,E){return g.a==0&&(g.a=b,g.sc=E,g.cb=0),0}function ka(g,b,E){return 3<=E&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Gc(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Vn(g,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,O=b.w,Z=b.ha;if(4>Z)return Vn(g,7,"Truncated header.");var Q=E[O+0]|E[O+1]<<8|E[O+2]<<16,ee=g.Od;if(ee.Rb=!(1&Q),ee.td=Q>>1&7,ee.yd=Q>>4&1,ee.ub=Q>>5,3<ee.td)return Vn(g,3,"Incorrect keyframe parameters.");if(!ee.yd)return Vn(g,4,"Frame not displayable.");O+=3,Z-=3;var se=g.Kc;if(ee.Rb){if(7>Z)return Vn(g,7,"cannot parse picture header");if(!ka(E,O,Z))return Vn(g,3,"Bad code word");se.c=16383&(E[O+4]<<8|E[O+3]),se.Td=E[O+4]>>6,se.i=16383&(E[O+6]<<8|E[O+5]),se.Ud=E[O+6]>>6,O+=7,Z-=7,g.za=se.c+15>>4,g.Ub=se.i+15>>4,b.width=se.c,b.height=se.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,o((Q=g.Pa).jb,0,255,Q.jb.length),t((Q=g.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,o(Q.Zb,0,0,Q.Zb.length),o(Q.Lb,0,0,Q.Lb)}if(ee.ub>Z)return Vn(g,7,"bad partition length");z(Q=g.m,E,O,ee.ub),O+=ee.ub,Z-=ee.ub,ee.Rb&&(se.Ld=ve(Q),se.Kd=ve(Q)),se=g.Qa;var ie,he=g.Pa;if(t(Q!=null),t(se!=null),se.Cb=ve(Q),se.Cb){if(se.Bb=ve(Q),ve(Q)){for(se.Fb=ve(Q),ie=0;4>ie;++ie)se.Zb[ie]=ve(Q)?H(Q,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=ve(Q)?H(Q,6):0}if(se.Bb)for(ie=0;3>ie;++ie)he.jb[ie]=ve(Q)?K(Q,8):255}else se.Bb=0;if(Q.Ka)return Vn(g,3,"cannot parse segment header");if((se=g.ed).zd=ve(Q),se.Tb=K(Q,6),se.wb=K(Q,3),se.Pc=ve(Q),se.Pc&&ve(Q)){for(he=0;4>he;++he)ve(Q)&&(se.vd[he]=H(Q,6));for(he=0;4>he;++he)ve(Q)&&(se.od[he]=H(Q,6))}if(g.L=se.Tb==0?0:se.zd?1:2,Q.Ka)return Vn(g,3,"cannot parse filter header");var Ne=Z;if(Z=ie=O,O=ie+Ne,se=Ne,g.Xb=(1<<K(g.m,2))-1,Ne<3*(he=g.Xb))E=7;else{for(ie+=3*he,se-=3*he,Ne=0;Ne<he;++Ne){var Le=E[Z+0]|E[Z+1]<<8|E[Z+2]<<16;Le>se&&(Le=se),z(g.Jc[+Ne],E,ie,Le),ie+=Le,se-=Le,Z+=3}z(g.Jc[+he],E,ie,se),E=ie<O?0:5}if(E!=0)return Vn(g,E,"cannot parse partitions");for(E=K(ie=g.m,7),Z=ve(ie)?H(ie,4):0,O=ve(ie)?H(ie,4):0,se=ve(ie)?H(ie,4):0,he=ve(ie)?H(ie,4):0,ie=ve(ie)?H(ie,4):0,Ne=g.Qa,Le=0;4>Le;++Le){if(Ne.Cb){var de=Ne.Zb[Le];Ne.Fb||(de+=E)}else{if(0<Le){g.pb[Le]=g.pb[0];continue}de=E}var Se=g.pb[Le];Se.Sc[0]=Ni[ws(de+Z,127)],Se.Sc[1]=ji[ws(de+0,127)],Se.Eb[0]=2*Ni[ws(de+O,127)],Se.Eb[1]=101581*ji[ws(de+se,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Ni[ws(de+he,117)],Se.Qc[1]=ji[ws(de+ie,127)],Se.lc=de+ie}if(!ee.Rb)return Vn(g,4,"Not a key frame.");for(ve(Q),ee=g.Pa,E=0;4>E;++E){for(Z=0;8>Z;++Z)for(O=0;3>O;++O)for(se=0;11>se;++se)he=Me(Q,rs[E][Z][O][se])?K(Q,8):$h[E][Z][O][se],ee.Wc[E][Z].Yb[O][se]=he;for(Z=0;17>Z;++Z)ee.Xc[E][Z]=ee.Wc[E][pn[Z]]}return g.kc=ve(Q),g.kc&&(g.Bd=K(Q,8)),g.cb=1}function Er(g,b,E,O,Z,Q,ee){var se=b[Z].Yb[E];for(E=0;16>Z;++Z){if(!Me(g,se[E+0]))return Z;for(;!Me(g,se[E+1]);)if(se=b[++Z].Yb[0],E=0,Z==16)return 16;var ie=b[Z+1].Yb;if(Me(g,se[E+2])){var he=g,Ne=0;if(Me(he,(de=se)[(Le=E)+3]))if(Me(he,de[Le+6])){for(se=0,Le=2*(Ne=Me(he,de[Le+8]))+(de=Me(he,de[Le+9+Ne])),Ne=0,de=Zh[Le];de[se];++se)Ne+=Ne+Me(he,de[se]);Ne+=3+(8<<Le)}else Me(he,de[Le+7])?(Ne=7+2*Me(he,165),Ne+=Me(he,145)):Ne=5+Me(he,159);else Ne=Me(he,de[Le+4])?3+Me(he,de[Le+5]):2;se=ie[2]}else Ne=1,se=ie[1];ie=ee+Mf[Z],0>(he=g).b&&be(he);var Le,de=he.b,Se=(Le=he.Ca>>1)-(he.I>>de)>>31;--he.b,he.Ca+=Se,he.Ca|=1,he.I-=(Le+1&Se)<<de,Q[ie]=((Ne^Se)-Se)*O[(0<Z)+0]}return 16}function _r(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,o(g.zc,0,0,g.zc.length),g.ja=0}function mi(g,b,E,O,Z){Z=g[b+E+32*O]+(Z>>3),g[b+E+32*O]=-256&Z?0>Z?0:255:Z}function sr(g,b,E,O,Z,Q){mi(g,b,0,E,O+Z),mi(g,b,1,E,O+Q),mi(g,b,2,E,O-Q),mi(g,b,3,E,O-Z)}function Es(g){return(20091*g>>16)+g}function ya(g,b,E,O){var Z,Q=0,ee=l(16);for(Z=0;4>Z;++Z){var se=g[b+0]+g[b+8],ie=g[b+0]-g[b+8],he=(35468*g[b+4]>>16)-Es(g[b+12]),Ne=Es(g[b+4])+(35468*g[b+12]>>16);ee[Q+0]=se+Ne,ee[Q+1]=ie+he,ee[Q+2]=ie-he,ee[Q+3]=se-Ne,Q+=4,b++}for(Z=Q=0;4>Z;++Z)se=(g=ee[Q+0]+4)+ee[Q+8],ie=g-ee[Q+8],he=(35468*ee[Q+4]>>16)-Es(ee[Q+12]),mi(E,O,0,0,se+(Ne=Es(ee[Q+4])+(35468*ee[Q+12]>>16))),mi(E,O,1,0,ie+he),mi(E,O,2,0,ie-he),mi(E,O,3,0,se-Ne),Q++,O+=32}function Wc(g,b,E,O){var Z=g[b+0]+4,Q=35468*g[b+4]>>16,ee=Es(g[b+4]),se=35468*g[b+1]>>16;sr(E,O,0,Z+ee,g=Es(g[b+1]),se),sr(E,O,1,Z+Q,g,se),sr(E,O,2,Z-Q,g,se),sr(E,O,3,Z-ee,g,se)}function Zu(g,b,E,O,Z){ya(g,b,E,O),Z&&ya(g,b+16,E,O+4)}function Xc(g,b,E,O){qr(g,b+0,E,O,1),qr(g,b+32,E,O+128,1)}function La(g,b,E,O){var Z;for(g=g[b+0]+4,Z=0;4>Z;++Z)for(b=0;4>b;++b)mi(E,O,b,Z,g)}function Zc(g,b,E,O){g[b+0]&&_n(g,b+0,E,O),g[b+16]&&_n(g,b+16,E,O+4),g[b+32]&&_n(g,b+32,E,O+128),g[b+48]&&_n(g,b+48,E,O+128+4)}function $c(g,b,E,O){var Z,Q=l(16);for(Z=0;4>Z;++Z){var ee=g[b+0+Z]+g[b+12+Z],se=g[b+4+Z]+g[b+8+Z],ie=g[b+4+Z]-g[b+8+Z],he=g[b+0+Z]-g[b+12+Z];Q[0+Z]=ee+se,Q[8+Z]=ee-se,Q[4+Z]=he+ie,Q[12+Z]=he-ie}for(Z=0;4>Z;++Z)ee=(g=Q[0+4*Z]+3)+Q[3+4*Z],se=Q[1+4*Z]+Q[2+4*Z],ie=Q[1+4*Z]-Q[2+4*Z],he=g-Q[3+4*Z],E[O+0]=ee+se>>3,E[O+16]=he+ie>>3,E[O+32]=ee-se>>3,E[O+48]=he-ie>>3,O+=64}function ni(g,b,E){var O,Z=b-32,Q=wa,ee=255-g[Z-1];for(O=0;O<E;++O){var se,ie=Q,he=ee+g[b-1];for(se=0;se<E;++se)g[b+se]=ie[he+g[Z+se]];b+=32}}function Yc(g,b){ni(g,b,4)}function $u(g,b){ni(g,b,8)}function Yu(g,b){ni(g,b,16)}function Kc(g,b){var E;for(E=0;16>E;++E)i(g,b+32*E,g,b-32,16)}function Qc(g,b){var E;for(E=16;0<E;--E)o(g,b,g[b-1],16),b+=32}function tl(g,b,E){var O;for(O=0;16>O;++O)o(b,E+32*O,g,16)}function Hi(g,b){var E,O=16;for(E=0;16>E;++E)O+=g[b-1+32*E]+g[b+E-32];tl(O>>5,g,b)}function Fi(g,b){var E,O=8;for(E=0;16>E;++E)O+=g[b-1+32*E];tl(O>>4,g,b)}function kr(g,b){var E,O=8;for(E=0;16>E;++E)O+=g[b+E-32];tl(O>>4,g,b)}function nl(g,b){tl(128,g,b)}function It(g,b,E){return g+2*b+E+2>>2}function go(g,b){var E,O=b-32;for(O=new Uint8Array([It(g[O-1],g[O+0],g[O+1]),It(g[O+0],g[O+1],g[O+2]),It(g[O+1],g[O+2],g[O+3]),It(g[O+2],g[O+3],g[O+4])]),E=0;4>E;++E)i(g,b+32*E,O,0,O.length)}function Ku(g,b){var E=g[b-1],O=g[b-1+32],Z=g[b-1+64],Q=g[b-1+96];Pe(g,b+0,16843009*It(g[b-1-32],E,O)),Pe(g,b+32,16843009*It(E,O,Z)),Pe(g,b+64,16843009*It(O,Z,Q)),Pe(g,b+96,16843009*It(Z,Q,Q))}function Jc(g,b){var E,O=4;for(E=0;4>E;++E)O+=g[b+E-32]+g[b-1+32*E];for(O>>=3,E=0;4>E;++E)o(g,b+32*E,O,4)}function Qu(g,b){var E=g[b-1+0],O=g[b-1+32],Z=g[b-1+64],Q=g[b-1-32],ee=g[b+0-32],se=g[b+1-32],ie=g[b+2-32],he=g[b+3-32];g[b+0+96]=It(O,Z,g[b-1+96]),g[b+1+96]=g[b+0+64]=It(E,O,Z),g[b+2+96]=g[b+1+64]=g[b+0+32]=It(Q,E,O),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=It(ee,Q,E),g[b+3+64]=g[b+2+32]=g[b+1+0]=It(se,ee,Q),g[b+3+32]=g[b+2+0]=It(ie,se,ee),g[b+3+0]=It(he,ie,se)}function si(g,b){var E=g[b+1-32],O=g[b+2-32],Z=g[b+3-32],Q=g[b+4-32],ee=g[b+5-32],se=g[b+6-32],ie=g[b+7-32];g[b+0+0]=It(g[b+0-32],E,O),g[b+1+0]=g[b+0+32]=It(E,O,Z),g[b+2+0]=g[b+1+32]=g[b+0+64]=It(O,Z,Q),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=It(Z,Q,ee),g[b+3+32]=g[b+2+64]=g[b+1+96]=It(Q,ee,se),g[b+3+64]=g[b+2+96]=It(ee,se,ie),g[b+3+96]=It(se,ie,ie)}function ia(g,b){var E=g[b-1+0],O=g[b-1+32],Z=g[b-1+64],Q=g[b-1-32],ee=g[b+0-32],se=g[b+1-32],ie=g[b+2-32],he=g[b+3-32];g[b+0+0]=g[b+1+64]=Q+ee+1>>1,g[b+1+0]=g[b+2+64]=ee+se+1>>1,g[b+2+0]=g[b+3+64]=se+ie+1>>1,g[b+3+0]=ie+he+1>>1,g[b+0+96]=It(Z,O,E),g[b+0+64]=It(O,E,Q),g[b+0+32]=g[b+1+96]=It(E,Q,ee),g[b+1+32]=g[b+2+96]=It(Q,ee,se),g[b+2+32]=g[b+3+96]=It(ee,se,ie),g[b+3+32]=It(se,ie,he)}function eu(g,b){var E=g[b+0-32],O=g[b+1-32],Z=g[b+2-32],Q=g[b+3-32],ee=g[b+4-32],se=g[b+5-32],ie=g[b+6-32],he=g[b+7-32];g[b+0+0]=E+O+1>>1,g[b+1+0]=g[b+0+64]=O+Z+1>>1,g[b+2+0]=g[b+1+64]=Z+Q+1>>1,g[b+3+0]=g[b+2+64]=Q+ee+1>>1,g[b+0+32]=It(E,O,Z),g[b+1+32]=g[b+0+96]=It(O,Z,Q),g[b+2+32]=g[b+1+96]=It(Z,Q,ee),g[b+3+32]=g[b+2+96]=It(Q,ee,se),g[b+3+64]=It(ee,se,ie),g[b+3+96]=It(se,ie,he)}function sl(g,b){var E=g[b-1+0],O=g[b-1+32],Z=g[b-1+64],Q=g[b-1+96];g[b+0+0]=E+O+1>>1,g[b+2+0]=g[b+0+32]=O+Z+1>>1,g[b+2+32]=g[b+0+64]=Z+Q+1>>1,g[b+1+0]=It(E,O,Z),g[b+3+0]=g[b+1+32]=It(O,Z,Q),g[b+3+32]=g[b+1+64]=It(Z,Q,Q),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=Q}function ai(g,b){var E=g[b-1+0],O=g[b-1+32],Z=g[b-1+64],Q=g[b-1+96],ee=g[b-1-32],se=g[b+0-32],ie=g[b+1-32],he=g[b+2-32];g[b+0+0]=g[b+2+32]=E+ee+1>>1,g[b+0+32]=g[b+2+64]=O+E+1>>1,g[b+0+64]=g[b+2+96]=Z+O+1>>1,g[b+0+96]=Q+Z+1>>1,g[b+3+0]=It(se,ie,he),g[b+2+0]=It(ee,se,ie),g[b+1+0]=g[b+3+32]=It(E,ee,se),g[b+1+32]=g[b+3+64]=It(O,E,ee),g[b+1+64]=g[b+3+96]=It(Z,O,E),g[b+1+96]=It(Q,Z,O)}function al(g,b){var E;for(E=0;8>E;++E)i(g,b+32*E,g,b-32,8)}function ar(g,b){var E;for(E=0;8>E;++E)o(g,b,g[b-1],8),b+=32}function il(g,b,E){var O;for(O=0;8>O;++O)o(b,E+32*O,g,8)}function Lr(g,b){var E,O=8;for(E=0;8>E;++E)O+=g[b+E-32]+g[b-1+32*E];il(O>>4,g,b)}function Vl(g,b){var E,O=4;for(E=0;8>E;++E)O+=g[b+E-32];il(O>>3,g,b)}function Gl(g,b){var E,O=4;for(E=0;8>E;++E)O+=g[b-1+32*E];il(O>>3,g,b)}function Js(g,b){il(128,g,b)}function ii(g,b,E){var O=g[b-E],Z=g[b+0],Q=3*(Z-O)+Vr[1020+g[b-2*E]-g[b+E]],ee=ou[112+(Q+4>>3)];g[b-E]=wa[255+O+ou[112+(Q+3>>3)]],g[b+0]=wa[255+Z-ee]}function ir(g,b,E,O){var Z=g[b+0],Q=g[b+E];return ca[255+g[b-2*E]-g[b-E]]>O||ca[255+Q-Z]>O}function Dr(g,b,E,O){return 4*ca[255+g[b-E]-g[b+0]]+ca[255+g[b-2*E]-g[b+E]]<=O}function Wl(g,b,E,O,Z){var Q=g[b-3*E],ee=g[b-2*E],se=g[b-E],ie=g[b+0],he=g[b+E],Ne=g[b+2*E],Le=g[b+3*E];return 4*ca[255+se-ie]+ca[255+ee-he]>O?0:ca[255+g[b-4*E]-Q]<=Z&&ca[255+Q-ee]<=Z&&ca[255+ee-se]<=Z&&ca[255+Le-Ne]<=Z&&ca[255+Ne-he]<=Z&&ca[255+he-ie]<=Z}function rl(g,b,E,O){var Z=2*O+1;for(O=0;16>O;++O)Dr(g,b+O,E,Z)&&ii(g,b+O,E)}function Rr(g,b,E,O){var Z=2*O+1;for(O=0;16>O;++O)Dr(g,b+O*E,1,Z)&&ii(g,b+O*E,1)}function xo(g,b,E,O){var Z;for(Z=3;0<Z;--Z)rl(g,b+=4*E,E,O)}function ol(g,b,E,O){var Z;for(Z=3;0<Z;--Z)Rr(g,b+=4,E,O)}function rr(g,b,E,O,Z,Q,ee,se){for(Q=2*Q+1;0<Z--;){if(Wl(g,b,E,Q,ee))if(ir(g,b,E,se))ii(g,b,E);else{var ie=g,he=b,Ne=E,Le=ie[he-2*Ne],de=ie[he-Ne],Se=ie[he+0],Ee=ie[he+Ne],ze=ie[he+2*Ne],_e=27*(We=Vr[1020+3*(Se-de)+Vr[1020+Le-Ee]])+63>>7,Fe=18*We+63>>7,We=9*We+63>>7;ie[he-3*Ne]=wa[255+ie[he-3*Ne]+We],ie[he-2*Ne]=wa[255+Le+Fe],ie[he-Ne]=wa[255+de+_e],ie[he+0]=wa[255+Se-_e],ie[he+Ne]=wa[255+Ee-Fe],ie[he+2*Ne]=wa[255+ze-We]}b+=O}}function Or(g,b,E,O,Z,Q,ee,se){for(Q=2*Q+1;0<Z--;){if(Wl(g,b,E,Q,ee))if(ir(g,b,E,se))ii(g,b,E);else{var ie=g,he=b,Ne=E,Le=ie[he-Ne],de=ie[he+0],Se=ie[he+Ne],Ee=ou[112+(4+(ze=3*(de-Le))>>3)],ze=ou[112+(ze+3>>3)],_e=Ee+1>>1;ie[he-2*Ne]=wa[255+ie[he-2*Ne]+_e],ie[he-Ne]=wa[255+Le+ze],ie[he+0]=wa[255+de-Ee],ie[he+Ne]=wa[255+Se-_e]}b+=O}}function Ju(g,b,E,O,Z,Q){rr(g,b,E,1,16,O,Z,Q)}function ed(g,b,E,O,Z,Q){rr(g,b,1,E,16,O,Z,Q)}function Pr(g,b,E,O,Z,Q){var ee;for(ee=3;0<ee;--ee)Or(g,b+=4*E,E,1,16,O,Z,Q)}function td(g,b,E,O,Z,Q){var ee;for(ee=3;0<ee;--ee)Or(g,b+=4,1,E,16,O,Z,Q)}function A(g,b,E,O,Z,Q,ee,se){rr(g,b,Z,1,8,Q,ee,se),rr(E,O,Z,1,8,Q,ee,se)}function X(g,b,E,O,Z,Q,ee,se){rr(g,b,1,Z,8,Q,ee,se),rr(E,O,1,Z,8,Q,ee,se)}function pe(g,b,E,O,Z,Q,ee,se){Or(g,b+4*Z,Z,1,8,Q,ee,se),Or(E,O+4*Z,Z,1,8,Q,ee,se)}function ye(g,b,E,O,Z,Q,ee,se){Or(g,b+4,1,Z,8,Q,ee,se),Or(E,O+4,1,Z,8,Q,ee,se)}function Ae(){this.ba=new Nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Je(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new F}function wt(){this.xb=this.a=0,this.l=new Mr,this.ca=new Nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=u(4,Je),this.Oc=0}function zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(g,b,E,O,Z,Q,ee){for(g=g==null?0:g[b+0],b=0;b<ee;++b)Z[Q+b]=g+E[O+b]&255,g=Z[Q+b]}function En(g,b,E,O,Z,Q,ee){var se;if(g==null)Xt(null,null,E,O,Z,Q,ee);else for(se=0;se<ee;++se)Z[Q+se]=g[b+se]+E[O+se]&255}function ms(g,b,E,O,Z,Q,ee){if(g==null)Xt(null,null,E,O,Z,Q,ee);else{var se,ie=g[b+0],he=ie,Ne=ie;for(se=0;se<ee;++se)he=Ne+(ie=g[b+se])-he,Ne=E[O+se]+(-256&he?0>he?0:255:he)&255,he=ie,Z[Q+se]=Ne}}function _s(g,b,E,O){var Z=b.width,Q=b.o;if(t(g!=null&&b!=null),0>E||0>=O||E+O>Q)return null;if(!g.Cc){if(g.ga==null){var ee;if(g.ga=new zt,(ee=g.ga==null)||(ee=b.width*b.o,t(g.Gb.length==0),g.Gb=l(ee),g.Uc=0,g.Gb==null?ee=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ee=1),ee=!ee),!ee){ee=g.ga;var se=g.Fa,ie=g.P,he=g.qc,Ne=g.mb,Le=g.nb,de=ie+1,Se=he-1,Ee=ee.l;if(t(se!=null&&Ne!=null&&b!=null),Gr[0]=null,Gr[1]=Xt,Gr[2]=En,Gr[3]=ms,ee.ca=Ne,ee.tb=Le,ee.c=b.width,ee.i=b.height,t(0<ee.c&&0<ee.i),1>=he)b=0;else if(ee.$a=3&se[ie+0],ee.Z=se[ie+0]>>2&3,ee.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ie)b=0;else if(Ee.put=ct,Ee.ac=aa,Ee.bc=bs,Ee.ma=ee,Ee.width=b.width,Ee.height=b.height,Ee.Da=b.Da,Ee.v=b.v,Ee.va=b.va,Ee.j=b.j,Ee.o=b.o,ee.$a)e:{t(ee.$a==1),b=Jo();t:for(;;){if(b==null){b=0;break e}if(t(ee!=null),ee.mc=b,b.c=ee.c,b.i=ee.i,b.l=ee.l,b.l.ma=ee,b.l.width=ee.c,b.l.height=ee.i,b.a=0,ue(b.m,se,de,Se),!Ri(ee.c,ee.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Wn(b.s)?(ee.ic=1,se=b.c*b.i,b.Ta=null,b.Ua=0,b.V=l(se),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(ee.ic=0,b=Oi(b,ee.c)),!b))break t;b=1;break e}ee.mc=null,b=0}else b=Se>=ee.c*ee.i;ee=!b}if(ee)return null;g.ga.Lc!=1?g.Ga=0:O=Q-E}t(g.ga!=null),t(E+O<=Q);e:{if(b=(se=g.ga).c,Q=se.l.o,se.$a==0){if(de=g.rc,Se=g.Vc,Ee=g.Fa,ie=g.P+1+E*b,he=g.mb,Ne=g.nb+E*b,t(ie<=g.P+g.qc),se.Z!=0)for(t(Gr[se.Z]!=null),ee=0;ee<O;++ee)Gr[se.Z](de,Se,Ee,ie,he,Ne,b),de=he,Se=Ne,Ne+=b,ie+=b;else for(ee=0;ee<O;++ee)i(he,Ne,Ee,ie,b),de=he,Se=Ne,Ne+=b,ie+=b;g.rc=de,g.Vc=Se}else{if(t(se.mc!=null),b=E+O,t((ee=se.mc)!=null),t(b<=ee.i),ee.C>=b)b=1;else if(se.ic||pi(),se.ic){se=ee.V,de=ee.Ba,Se=ee.c;var ze=ee.i,_e=(Ee=1,ie=ee.$/Se,he=ee.$%Se,Ne=ee.m,Le=ee.s,ee.$),Fe=Se*ze,We=Se*b,at=Le.wc,Ke=_e<We?Gs(Le,he,ie):null;t(_e<=Fe),t(b<=ze),t(Wn(Le));t:for(;;){for(;!Ne.h&&_e<We;){if(he&at||(Ke=Gs(Le,he,ie)),t(Ke!=null),me(Ne),256>(ze=Gn(Ke.G[0],Ke.H[0],Ne)))se[de+_e]=ze,++_e,++he>=Se&&(he=0,++ie<=b&&!(ie%16)&&va(ee,ie));else{if(!(280>ze)){Ee=0;break t}ze=as(ze-256,Ne);var xt,dt=Gn(Ke.G[4],Ke.H[4],Ne);if(me(Ne),!(_e>=(dt=is(Se,dt=as(dt,Ne)))&&Fe-_e>=ze)){Ee=0;break t}for(xt=0;xt<ze;++xt)se[de+_e+xt]=se[de+_e+xt-dt];for(_e+=ze,he+=ze;he>=Se;)he-=Se,++ie<=b&&!(ie%16)&&va(ee,ie);_e<We&&he&at&&(Ke=Gs(Le,he,ie))}t(Ne.h==oe(Ne))}va(ee,ie>b?b:ie);break t}!Ee||Ne.h&&_e<Fe?(Ee=0,ee.a=Ne.h?5:3):ee.$=_e,b=Ee}else b=ei(ee,ee.V,ee.Ba,ee.c,ee.i,b,po);if(!b){O=0;break e}}E+O>=Q&&(g.Cc=1),O=1}if(!O)return null;if(g.Cc&&((O=g.ga)!=null&&(O.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+E*Z}function Qn(g,b,E,O,Z,Q){for(;0<Z--;){var ee,se=g,ie=b+(E?1:0),he=g,Ne=b+(E?0:3);for(ee=0;ee<O;++ee){var Le=he[Ne+4*ee];Le!=255&&(Le*=32897,se[ie+4*ee+0]=se[ie+4*ee+0]*Le>>23,se[ie+4*ee+1]=se[ie+4*ee+1]*Le>>23,se[ie+4*ee+2]=se[ie+4*ee+2]*Le>>23)}b+=Q}}function Ws(g,b,E,O,Z){for(;0<O--;){var Q;for(Q=0;Q<E;++Q){var ee=g[b+2*Q+0],se=15&(he=g[b+2*Q+1]),ie=4369*se,he=(240&he|he>>4)*ie>>16;g[b+2*Q+0]=(240&ee|ee>>4)*ie>>16&240|(15&ee|ee<<4)*ie>>16>>4&15,g[b+2*Q+1]=240&he|se}b+=Z}}function Ps(g,b,E,O,Z,Q,ee,se){var ie,he,Ne=255;for(he=0;he<Z;++he){for(ie=0;ie<O;++ie){var Le=g[b+ie];Q[ee+4*ie]=Le,Ne&=Le}b+=E,ee+=se}return Ne!=255}function ra(g,b,E,O,Z){var Q;for(Q=0;Q<Z;++Q)E[O+Q]=g[b+Q]>>8}function pi(){fl=Qn,xi=Ws,au=Ps,li=ra}function Ua(g,b,E){Y[g]=function(O,Z,Q,ee,se,ie,he,Ne,Le,de,Se,Ee,ze,_e,Fe,We,at){var Ke,xt=at-1>>1,dt=se[ie+0]|he[Ne+0]<<16,Gt=Le[de+0]|Se[Ee+0]<<16;t(O!=null);var mt=3*dt+Gt+131074>>2;for(b(O[Z+0],255&mt,mt>>16,ze,_e),Q!=null&&(mt=3*Gt+dt+131074>>2,b(Q[ee+0],255&mt,mt>>16,Fe,We)),Ke=1;Ke<=xt;++Ke){var dn=se[ie+Ke]|he[Ne+Ke]<<16,os=Le[de+Ke]|Se[Ee+Ke]<<16,$t=dt+dn+Gt+os+524296,ft=$t+2*(dn+Gt)>>3;mt=ft+dt>>1,dt=($t=$t+2*(dt+os)>>3)+dn>>1,b(O[Z+2*Ke-1],255&mt,mt>>16,ze,_e+(2*Ke-1)*E),b(O[Z+2*Ke-0],255&dt,dt>>16,ze,_e+(2*Ke-0)*E),Q!=null&&(mt=$t+Gt>>1,dt=ft+os>>1,b(Q[ee+2*Ke-1],255&mt,mt>>16,Fe,We+(2*Ke-1)*E),b(Q[ee+2*Ke+0],255&dt,dt>>16,Fe,We+(2*Ke+0)*E)),dt=dn,Gt=os}1&at||(mt=3*dt+Gt+131074>>2,b(O[Z+at-1],255&mt,mt>>16,ze,_e+(at-1)*E),Q!=null&&(mt=3*Gt+dt+131074>>2,b(Q[ee+at-1],255&mt,mt>>16,Fe,We+(at-1)*E)))}}function nd(){da[rd]=pl,da[Na]=sc,da[od]=_f,da[vi]=fd,da[lu]=Ao,da[ec]=pr,da[No]=Co,da[cu]=sc,da[ld]=fd,da[tc]=Ao,da[cd]=pr}function Xl(g){return g&-16384?0>g?0:255:g>>hd}function ll(g,b){return Xl((19077*g>>8)+(26149*b>>8)-14234)}function or(g,b,E){return Xl((19077*g>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function zi(g,b){return Xl((19077*g>>8)+(33050*b>>8)-17685)}function cl(g,b,E,O,Z){O[Z+0]=ll(g,E),O[Z+1]=or(g,b,E),O[Z+2]=zi(g,b)}function vo(g,b,E,O,Z){O[Z+0]=zi(g,b),O[Z+1]=or(g,b,E),O[Z+2]=ll(g,E)}function oa(g,b,E,O,Z){var Q=or(g,b,E);b=Q<<3&224|zi(g,b)>>3,O[Z+0]=248&ll(g,E)|Q>>5,O[Z+1]=b}function yo(g,b,E,O,Z){var Q=240&zi(g,b)|15;O[Z+0]=240&ll(g,E)|or(g,b,E)>>4,O[Z+1]=Q}function bo(g,b,E,O,Z){O[Z+0]=255,cl(g,b,E,O,Z+1)}function Zl(g,b,E,O,Z){vo(g,b,E,O,Z),O[Z+3]=255}function lr(g,b,E,O,Z){cl(g,b,E,O,Z),O[Z+3]=255}function ws(g,b){return 0>g?0:g>b?b:g}function Ir(g,b,E){Y[g]=function(O,Z,Q,ee,se,ie,he,Ne,Le){for(var de=Ne+(-2&Le)*E;Ne!=de;)b(O[Z+0],Q[ee+0],se[ie+0],he,Ne),b(O[Z+1],Q[ee+0],se[ie+0],he,Ne+E),Z+=2,++ee,++ie,Ne+=2*E;1&Le&&b(O[Z+0],Q[ee+0],se[ie+0],he,Ne)}}function $l(g,b,E){return E==0?g==0?b==0?6:5:b==0?4:0:E}function tu(g,b,E,O,Z){switch(g>>>30){case 3:qr(b,E,O,Z,0);break;case 2:ba(b,E,O,Z);break;case 1:_n(b,E,O,Z)}}function ri(g,b){var E,O,Z=b.M,Q=b.Nb,ee=g.oc,se=g.pc+40,ie=g.oc,he=g.pc+584,Ne=g.oc,Le=g.pc+600;for(E=0;16>E;++E)ee[se+32*E-1]=129;for(E=0;8>E;++E)ie[he+32*E-1]=129,Ne[Le+32*E-1]=129;for(0<Z?ee[se-1-32]=ie[he-1-32]=Ne[Le-1-32]=129:(o(ee,se-32-1,127,21),o(ie,he-32-1,127,9),o(Ne,Le-32-1,127,9)),O=0;O<g.za;++O){var de=b.ya[b.aa+O];if(0<O){for(E=-1;16>E;++E)i(ee,se+32*E-4,ee,se+32*E+12,4);for(E=-1;8>E;++E)i(ie,he+32*E-4,ie,he+32*E+4,4),i(Ne,Le+32*E-4,Ne,Le+32*E+4,4)}var Se=g.Gd,Ee=g.Hd+O,ze=de.ad,_e=de.Hc;if(0<Z&&(i(ee,se-32,Se[Ee].y,0,16),i(ie,he-32,Se[Ee].f,0,8),i(Ne,Le-32,Se[Ee].ea,0,8)),de.Za){var Fe=ee,We=se-32+16;for(0<Z&&(O>=g.za-1?o(Fe,We,Se[Ee].y[15],4):i(Fe,We,Se[Ee+1].y,0,4)),E=0;4>E;E++)Fe[We+128+E]=Fe[We+256+E]=Fe[We+384+E]=Fe[We+0+E];for(E=0;16>E;++E,_e<<=2)Fe=ee,We=se+Ds[E],Ns[de.Ob[E]](Fe,We),tu(_e,ze,16*+E,Fe,We)}else if(Fe=$l(O,Z,de.Ob[0]),Ra[Fe](ee,se),_e!=0)for(E=0;16>E;++E,_e<<=2)tu(_e,ze,16*+E,ee,se+Ds[E]);for(E=de.Gc,Fe=$l(O,Z,de.Dd),Gi[Fe](ie,he),Gi[Fe](Ne,Le),_e=ze,Fe=ie,We=he,255&(de=0|E)&&(170&de?gi(_e,256,Fe,We):Sn(_e,256,Fe,We)),de=Ne,_e=Le,255&(E>>=8)&&(170&E?gi(ze,320,de,_e):Sn(ze,320,de,_e)),Z<g.Ub-1&&(i(Se[Ee].y,0,ee,se+480,16),i(Se[Ee].f,0,ie,he+224,8),i(Se[Ee].ea,0,Ne,Le+224,8)),E=8*Q*g.B,Se=g.sa,Ee=g.ta+16*O+16*Q*g.R,ze=g.qa,de=g.ra+8*O+E,_e=g.Ha,Fe=g.Ia+8*O+E,E=0;16>E;++E)i(Se,Ee+E*g.R,ee,se+32*E,16);for(E=0;8>E;++E)i(ze,de+E*g.B,ie,he+32*E,8),i(_e,Fe+E*g.B,Ne,Le+32*E,8)}}function Ui(g,b,E,O,Z,Q,ee,se,ie){var he=[0],Ne=[0],Le=0,de=ie!=null?ie.kd:0,Se=ie??new Ge;if(g==null||12>E)return 7;Se.data=g,Se.w=b,Se.ha=E,b=[b],E=[E],Se.gb=[Se.gb];e:{var Ee=b,ze=E,_e=Se.gb;if(t(g!=null),t(ze!=null),t(_e!=null),_e[0]=0,12<=ze[0]&&!s(g,Ee[0],"RIFF")){if(s(g,Ee[0]+8,"WEBP")){_e=3;break e}var Fe=ge(g,Ee[0]+4);if(12>Fe||4294967286<Fe){_e=3;break e}if(de&&Fe>ze[0]-8){_e=7;break e}_e[0]=Fe,Ee[0]+=12,ze[0]-=12}_e=0}if(_e!=0)return _e;for(Fe=0<Se.gb[0],E=E[0];;){e:{var We=g;ze=b,_e=E;var at=he,Ke=Ne,xt=Ee=[0];if((mt=Le=[Le])[0]=0,8>_e[0])_e=7;else{if(!s(We,ze[0],"VP8X")){if(ge(We,ze[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var dt=ge(We,ze[0]+8),Gt=1+Qe(We,ze[0]+12);if(2147483648<=Gt*(We=1+Qe(We,ze[0]+15))){_e=3;break e}xt!=null&&(xt[0]=dt),at!=null&&(at[0]=Gt),Ke!=null&&(Ke[0]=We),ze[0]+=18,_e[0]-=18,mt[0]=1}_e=0}}if(Le=Le[0],Ee=Ee[0],_e!=0)return _e;if(ze=!!(2&Ee),!Fe&&Le)return 3;if(Q!=null&&(Q[0]=!!(16&Ee)),ee!=null&&(ee[0]=ze),se!=null&&(se[0]=0),ee=he[0],Ee=Ne[0],Le&&ze&&ie==null){_e=0;break}if(4>E){_e=7;break}if(Fe&&Le||!Fe&&!Le&&!s(g,b[0],"ALPH")){E=[E],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{dt=g,_e=b,Fe=E;var mt=Se.gb;at=Se.na,Ke=Se.P,xt=Se.Sa,Gt=22,t(dt!=null),t(Fe!=null),We=_e[0];var dn=Fe[0];for(t(at!=null),t(xt!=null),at[0]=null,Ke[0]=null,xt[0]=0;;){if(_e[0]=We,Fe[0]=dn,8>dn){_e=7;break e}var os=ge(dt,We+4);if(4294967286<os){_e=3;break e}var $t=8+os+1&-2;if(Gt+=$t,0<mt&&Gt>mt){_e=3;break e}if(!s(dt,We,"VP8 ")||!s(dt,We,"VP8L")){_e=0;break e}if(dn[0]<$t){_e=7;break e}s(dt,We,"ALPH")||(at[0]=dt,Ke[0]=We+8,xt[0]=os),We+=$t,dn-=$t}}if(E=E[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],_e!=0)break}E=[E],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(mt=g,_e=b,Fe=E,at=Se.gb[0],Ke=Se.Ja,xt=Se.xa,dt=_e[0],We=!s(mt,dt,"VP8 "),Gt=!s(mt,dt,"VP8L"),t(mt!=null),t(Fe!=null),t(Ke!=null),t(xt!=null),8>Fe[0])_e=7;else{if(We||Gt){if(mt=ge(mt,dt+4),12<=at&&mt>at-12){_e=3;break e}if(de&&mt>Fe[0]-8){_e=7;break e}Ke[0]=mt,_e[0]+=8,Fe[0]-=8,xt[0]=Gt}else xt[0]=5<=Fe[0]&&mt[dt+0]==47&&!(mt[dt+4]>>5),Ke[0]=Fe[0];_e=0}if(E=E[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],b=b[0],_e!=0)break;if(4294967286<Se.Ja)return 3;if(se==null||ze||(se[0]=Se.xa?2:1),ee=[ee],Ee=[Ee],Se.xa){if(5>E){_e=7;break}se=ee,de=Ee,ze=Q,g==null||5>E?g=0:5<=E&&g[b+0]==47&&!(g[b+4]>>5)?(Fe=[0],mt=[0],at=[0],ue(Ke=new q,g,b,E),Ea(Ke,Fe,mt,at)?(se!=null&&(se[0]=Fe[0]),de!=null&&(de[0]=mt[0]),ze!=null&&(ze[0]=at[0]),g=1):g=0):g=0}else{if(10>E){_e=7;break}se=Ee,g==null||10>E||!ka(g,b+3,E-3)?g=0:(de=g[b+0]|g[b+1]<<8|g[b+2]<<16,ze=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=Se.Ja||!ze||!g?g=0:(ee&&(ee[0]=ze),se&&(se[0]=g),g=1))}if(!g||(ee=ee[0],Ee=Ee[0],Le&&(he[0]!=ee||Ne[0]!=Ee)))return 3;ie!=null&&(ie[0]=Se,ie.offset=b-ie.w,t(4294967286>b-ie.w),t(ie.offset==ie.ha-E));break}return _e==0||_e==7&&Le&&ie==null?(Q!=null&&(Q[0]|=Se.na!=null&&0<Se.na.length),O!=null&&(O[0]=ee),Z!=null&&(Z[0]=Ee),0):_e}function Br(g,b,E){var O=b.width,Z=b.height,Q=0,ee=0,se=O,ie=Z;if(b.Da=g!=null&&0<g.Da,b.Da&&(se=g.cd,ie=g.bd,Q=g.v,ee=g.j,11>E||(Q&=-2,ee&=-2),0>Q||0>ee||0>=se||0>=ie||Q+se>O||ee+ie>Z))return 0;if(b.v=Q,b.j=ee,b.va=Q+se,b.o=ee+ie,b.U=se,b.T=ie,b.da=g!=null&&0<g.da,b.da){if(!we(se,ie,E=[g.ib],Q=[g.hb]))return 0;b.ib=E[0],b.hb=Q[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*O/4&&b.hb<3*Z/4,b.Kb=0),1}function nu(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function qi(g,b,E,O){if(O==null||0>=g||0>=b)return 2;if(E!=null){if(E.Da){var Z=E.cd,Q=E.bd,ee=-2&E.v,se=-2&E.j;if(0>ee||0>se||0>=Z||0>=Q||ee+Z>g||se+Q>b)return 2;g=Z,b=Q}if(E.da){if(!we(g,b,Z=[E.ib],Q=[E.hb]))return 2;g=Z[0],b=Q[0]}}O.width=g,O.height=b;e:{var ie=O.width,he=O.height;if(g=O.S,0>=ie||0>=he||!(g>=rd&&13>g))g=2;else{if(0>=O.Rd&&O.sd==null){ee=Q=Z=b=0;var Ne=(se=ie*pd[g])*he;if(11>g||(Q=(he+1)/2*(b=(ie+1)/2),g==12&&(ee=(Z=ie)*he)),(he=l(Ne+2*Q+ee))==null){g=1;break e}O.sd=he,11>g?((ie=O.f.RGBA).eb=he,ie.fb=0,ie.A=se,ie.size=Ne):((ie=O.f.kb).y=he,ie.O=0,ie.fa=se,ie.Fd=Ne,ie.f=he,ie.N=0+Ne,ie.Ab=b,ie.Cd=Q,ie.ea=he,ie.W=0+Ne+Q,ie.Db=b,ie.Ed=Q,g==12&&(ie.F=he,ie.J=0+Ne+2*Q),ie.Tc=ee,ie.lb=Z)}if(b=1,Z=O.S,Q=O.width,ee=O.height,Z>=rd&&13>Z)if(11>Z)g=O.f.RGBA,b&=(se=Math.abs(g.A))*(ee-1)+Q<=g.size,b&=se>=Q*pd[Z],b&=g.eb!=null;else{g=O.f.kb,se=(Q+1)/2,Ne=(ee+1)/2,ie=Math.abs(g.fa),he=Math.abs(g.Ab);var Le=Math.abs(g.Db),de=Math.abs(g.lb),Se=de*(ee-1)+Q;b&=ie*(ee-1)+Q<=g.Fd,b&=he*(Ne-1)+se<=g.Cd,b=(b&=Le*(Ne-1)+se<=g.Ed)&ie>=Q&he>=se&Le>=se,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,Z==12&&(b&=de>=Q,b&=Se<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||E!=null&&E.fd&&(g=nu(O)),g}var wo=64,qa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Da=24,cr=32,ur=8,Hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(g){return g},Y.Predictor2=function(g,b,E){return b[E+0]},Y.Predictor3=function(g,b,E){return b[E+1]},Y.Predictor4=function(g,b,E){return b[E-1]},Y.Predictor5=function(g,b,E){return et(et(g,b[E+1]),b[E+0])},Y.Predictor6=function(g,b,E){return et(g,b[E-1])},Y.Predictor7=function(g,b,E){return et(g,b[E+0])},Y.Predictor8=function(g,b,E){return et(b[E-1],b[E+0])},Y.Predictor9=function(g,b,E){return et(b[E+0],b[E+1])},Y.Predictor10=function(g,b,E){return et(et(g,b[E-1]),et(b[E+0],b[E+1]))},Y.Predictor11=function(g,b,E){var O=b[E+0];return 0>=At(O>>24&255,g>>24&255,(b=b[E-1])>>24&255)+At(O>>16&255,g>>16&255,b>>16&255)+At(O>>8&255,g>>8&255,b>>8&255)+At(255&O,255&g,255&b)?O:g},Y.Predictor12=function(g,b,E){var O=b[E+0];return(ut((g>>24&255)+(O>>24&255)-((b=b[E-1])>>24&255))<<24|ut((g>>16&255)+(O>>16&255)-(b>>16&255))<<16|ut((g>>8&255)+(O>>8&255)-(b>>8&255))<<8|ut((255&g)+(255&O)-(255&b)))>>>0},Y.Predictor13=function(g,b,E){var O=b[E-1];return(St((g=et(g,b[E+0]))>>24&255,O>>24&255)<<24|St(g>>16&255,O>>16&255)<<16|St(g>>8&255,O>>8&255)<<8|St(255&g,255&O))>>>0};var Yl=Y.PredictorAdd0;Y.PredictorAdd1=mn,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var Kl=Y.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var ks,sd=Y.ColorIndexInverseTransform,dr=Y.MapARGB,fr=Y.VP8LColorIndexInverseTransformAlpha,la=Y.MapAlpha,Fr=Y.VP8LPredictorsAdd=[];Fr.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Ql,Jl,zr,Ur,hr,ul,oi,qr,ba,gi,_n,Sn,Jn,Ls,mr,Vi,dl,su,Af,Gh,Wh,Xh,Cf,Tf,fl,xi,au,li,hl=l(511),ad=l(2041),iu=l(225),ru=l(767),id=0,Vr=ad,ou=iu,wa=ru,ca=hl,rd=0,Na=1,od=2,vi=3,lu=4,ec=5,No=6,cu=7,ld=8,tc=9,cd=10,yi=[2,3,7],nc=[3,3,11],ml=[280,256,256,256,40],ud=[0,1,1,1,0],uu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jo=8,Ni=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ji=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ci=null,Zh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$h=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ua=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],Ns=[],Gi=[],So=1,Ef=2,Gr=[],da=[];Ua("UpsampleRgbLinePair",cl,3),Ua("UpsampleBgrLinePair",vo,3),Ua("UpsampleRgbaLinePair",lr,4),Ua("UpsampleBgraLinePair",Zl,4),Ua("UpsampleArgbLinePair",bo,4),Ua("UpsampleRgba4444LinePair",yo,2),Ua("UpsampleRgb565LinePair",oa,2);var pl=Y.UpsampleRgbLinePair,_f=Y.UpsampleBgrLinePair,sc=Y.UpsampleRgbaLinePair,fd=Y.UpsampleBgraLinePair,Ao=Y.UpsampleArgbLinePair,pr=Y.UpsampleRgba4444LinePair,Co=Y.UpsampleRgb565LinePair,Si=16,ac=1<<Si-1,gl=-227,To=482,hd=6,Mo=0,fa=l(256),md=l(256),Yh=l(256),y0=l(256),b0=l(To-gl),w0=l(To-gl);Ir("YuvToRgbRow",cl,3),Ir("YuvToBgrRow",vo,3),Ir("YuvToRgbaRow",lr,4),Ir("YuvToBgraRow",Zl,4),Ir("YuvToArgbRow",bo,4),Ir("YuvToRgba4444Row",yo,2),Ir("YuvToRgb565Row",oa,2);var Ds=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ic=[0,2,8],du=[8,7,6,4,4,2,2,2,1,1,1,1],fu=1;this.WebPDecodeRGBA=function(g,b,E,O,Z){var Q=Na,ee=new Ae,se=new Nn;ee.ba=se,se.S=Q,se.width=[se.width],se.height=[se.height];var ie=se.width,he=se.height,Ne=new Mt;if(Ne==null||g==null)var Le=2;else t(Ne!=null),Le=Ui(g,b,E,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Le!=0?ie=0:(ie!=null&&(ie[0]=Ne.width[0]),he!=null&&(he[0]=Ne.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],O!=null&&(O[0]=se.width),Z!=null&&(Z[0]=se.height);e:{if(O=new Mr,(Z=new Ge).data=g,Z.w=b,Z.ha=E,Z.kd=1,b=[0],t(Z!=null),((g=Ui(Z.data,Z.w,Z.ha,null,null,null,b,null,Z))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(ee!=null),O.data=Z.data,O.w=Z.w+Z.offset,O.ha=Z.ha-Z.offset,O.put=ct,O.ac=aa,O.bc=bs,O.ma=ee,Z.xa){if((g=Jo())==null){ee=1;break e}if((function(de,Se){var Ee=[0],ze=[0],_e=[0];t:for(;;){if(de==null)return 0;if(Se==null)return de.a=2,0;if(de.l=Se,de.a=0,ue(de.m,Se.data,Se.w,Se.ha),!Ea(de.m,Ee,ze,_e)){de.a=3;break t}if(de.xb=Ef,Se.width=Ee[0],Se.height=ze[0],!Ri(Ee[0],ze[0],1,de,null))break t;return 1}return t(de.a!=0),0})(g,O)){if(O=(b=qi(O.width,O.height,ee.Oa,ee.ba))==0){t:{O=g;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((E=O.l)!=null),t((Z=E.ma)!=null),O.xb!=0){if(O.ca=Z.ba,O.tb=Z.tb,t(O.ca!=null),!Br(Z.Oa,E,vi)){O.a=2;break n}if(!Oi(O,E.width)||E.da)break n;if((E.da||Ot(O.ca.S))&&pi(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&pi()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!re(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ei(O,O.V,O.Ba,O.c,O.i,E.o,_a))break n;Z.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(b=g.a)}else b=g.a}else{if((g=new ql)==null){ee=1;break e}if(g.Fa=Z.na,g.P=Z.P,g.qc=Z.Sa,Gc(g,O)){if((b=qi(O.width,O.height,ee.Oa,ee.ba))==0){if(g.Aa=0,E=ee.Oa,t((Z=g)!=null),E!=null){if(0<(ie=0>(ie=E.Md)?0:100<ie?255:255*ie/100)){for(he=Ne=0;4>he;++he)12>(Le=Z.pb[he]).lc&&(Le.ia=ie*du[0>Le.lc?0:Le.lc]>>3),Ne|=Le.ia;Ne&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=E.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(de,Se){if(de==null)return 0;if(Se==null)return Vn(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!Gc(de,Se))return 0;if(t(de.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(de.L=0);var Ee=ic[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=Se.v-Ee>>4,de.zb=Se.j-Ee>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=Se.o+15+Ee>>4,de.Hb=Se.va+15+Ee>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var ze=de.ed;for(Ee=0;4>Ee;++Ee){var _e;if(de.Qa.Cb){var Fe=de.Qa.Lb[Ee];de.Qa.Fb||(Fe+=ze.Tb)}else Fe=ze.Tb;for(_e=0;1>=_e;++_e){var We=de.gd[Ee][_e],at=Fe;if(ze.Pc&&(at+=ze.vd[0],_e&&(at+=ze.od[0])),0<(at=0>at?0:63<at?63:at)){var Ke=at;0<ze.wb&&(Ke=4<ze.wb?Ke>>2:Ke>>1)>9-ze.wb&&(Ke=9-ze.wb),1>Ke&&(Ke=1),We.dd=Ke,We.tc=2*at+Ke,We.ld=40<=at?2:15<=at?1:0}else We.tc=0;We.La=_e}}}Ee=0}else Vn(de,6,"Frame setup failed"),Ee=de.a;if(Ee=Ee==0){if(Ee){de.$c=0,0<de.Aa||(de.Ic=fu);t:{Ee=de.Ic,ze=4*(Ke=de.za);var xt=32*Ke,dt=Ke+1,Gt=0<de.L?Ke*(0<de.Aa?2:1):0,mt=(de.Aa==2?2:1)*Ke;if((We=ze+832+(_e=3*(16*Ee+ic[de.L])/2*xt)+(Fe=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=We)Ee=0;else{if(We>de.Vb){if(de.Vb=0,de.Ec=l(We),de.Fc=0,de.Ec==null){Ee=Vn(de,1,"no memory during frame initialization.");break t}de.Vb=We}We=de.Ec,at=de.Fc,de.Ac=We,de.Bc=at,at+=ze,de.Gd=u(xt,Vc),de.Hd=0,de.rb=u(dt+1,Bi),de.sb=1,de.wa=Gt?u(Gt,ti):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=Ke),t(!0),de.oc=We,de.pc=at,at+=832,de.ya=u(mt,Uc),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=Ke),de.R=16*Ke,de.B=8*Ke,Ke=(xt=ic[de.L])*de.R,xt=xt/2*de.B,de.sa=We,de.ta=at+Ke,de.qa=de.sa,de.ra=de.ta+16*Ee*de.R+xt,de.Ha=de.qa,de.Ia=de.ra+8*Ee*de.B+xt,de.$c=0,at+=_e,de.mb=Fe?We:null,de.nb=Fe?at:null,t(at+Fe<=de.Fc+de.Vb),_r(de),o(de.Ac,de.Bc,0,ze),Ee=1}}if(Ee){if(Se.ka=0,Se.y=de.sa,Se.O=de.ta,Se.f=de.qa,Se.N=de.ra,Se.ea=de.Ha,Se.Vd=de.Ia,Se.fa=de.R,Se.Rc=de.B,Se.F=null,Se.J=0,!id){for(Ee=-255;255>=Ee;++Ee)hl[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)ad[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)iu[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)ru[255+Ee]=0>Ee?0:255<Ee?255:Ee;id=1}oi=$c,qr=Zu,gi=Xc,_n=La,Sn=Zc,ba=Wc,Jn=Ju,Ls=ed,mr=A,Vi=X,dl=Pr,su=td,Af=pe,Gh=ye,Wh=rl,Xh=Rr,Cf=xo,Tf=ol,Ns[0]=Jc,Ns[1]=Yc,Ns[2]=go,Ns[3]=Ku,Ns[4]=Qu,Ns[5]=ia,Ns[6]=si,Ns[7]=eu,Ns[8]=ai,Ns[9]=sl,Ra[0]=Hi,Ra[1]=Yu,Ra[2]=Kc,Ra[3]=Qc,Ra[4]=Fi,Ra[5]=kr,Ra[6]=nl,Gi[0]=Lr,Gi[1]=$u,Gi[2]=al,Gi[3]=ar,Gi[4]=Gl,Gi[5]=Vl,Gi[6]=Js,Ee=1}else Ee=0}Ee&&(Ee=(function(dn,os){for(dn.M=0;dn.M<dn.Va;++dn.M){var $t,ft=dn.Jc[dn.M&dn.Xb],rt=dn.m,ps=dn;for($t=0;$t<ps.za;++$t){var Bt=rt,Jt=ps,Fn=Jt.Ac,Xs=Jt.Bc+4*$t,ha=Jt.zc,es=Jt.ya[Jt.aa+$t];if(Jt.Qa.Bb?es.$b=Me(Bt,Jt.Pa.jb[0])?2+Me(Bt,Jt.Pa.jb[2]):Me(Bt,Jt.Pa.jb[1]):es.$b=0,Jt.kc&&(es.Ad=Me(Bt,Jt.Bd)),es.Za=!Me(Bt,145)+0,es.Za){var Is=es.Ob,ja=0;for(Jt=0;4>Jt;++Jt){var Bs,nn=ha[0+Jt];for(Bs=0;4>Bs;++Bs){nn=ua[Fn[Xs+Bs]][nn];for(var Cn=dd[Me(Bt,nn[0])];0<Cn;)Cn=dd[2*Cn+Me(Bt,nn[Cn])];nn=-Cn,Fn[Xs+Bs]=nn}i(Is,ja,Fn,Xs,4),ja+=4,ha[0+Jt]=nn}}else nn=Me(Bt,156)?Me(Bt,128)?1:3:Me(Bt,163)?2:0,es.Ob[0]=nn,o(Fn,Xs,nn,4),o(ha,0,nn,4);es.Dd=Me(Bt,142)?Me(Bt,114)?Me(Bt,183)?1:3:2:0}if(ps.m.Ka)return Vn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(ps=ft,Bt=(rt=dn).rb[rt.sb-1],Fn=rt.rb[rt.sb+rt.ja],$t=rt.ya[rt.aa+rt.ja],Xs=rt.kc?$t.Ad:0)Bt.la=Fn.la=0,$t.Za||(Bt.Na=Fn.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var gs,kn;if(Bt=Fn,Fn=ps,Xs=rt.Pa.Xc,ha=rt.ya[rt.aa+rt.ja],es=rt.pb[ha.$b],Jt=ha.ad,Is=0,ja=rt.rb[rt.sb-1],nn=Bs=0,o(Jt,Is,0,384),ha.Za)var Zs=0,xs=Xs[3];else{Cn=l(16);var Tn=Bt.Na+ja.Na;if(Tn=ci(Fn,Xs[1],Tn,es.Eb,0,Cn,0),Bt.Na=ja.Na=(0<Tn)+0,1<Tn)oi(Cn,0,Jt,Is);else{var Rs=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)Jt[Is+Cn]=Rs}Zs=1,xs=Xs[0]}var zn=15&Bt.la,Hs=15&ja.la;for(Cn=0;4>Cn;++Cn){var Fs=1&Hs;for(Rs=kn=0;4>Rs;++Rs)zn=zn>>1|(Fs=(Tn=ci(Fn,xs,Tn=Fs+(1&zn),es.Sc,Zs,Jt,Is))>Zs)<<7,kn=kn<<2|(3<Tn?3:1<Tn?2:Jt[Is+0]!=0),Is+=16;zn>>=4,Hs=Hs>>1|Fs<<7,Bs=(Bs<<8|kn)>>>0}for(xs=zn,Zs=Hs>>4,gs=0;4>gs;gs+=2){for(kn=0,zn=Bt.la>>4+gs,Hs=ja.la>>4+gs,Cn=0;2>Cn;++Cn){for(Fs=1&Hs,Rs=0;2>Rs;++Rs)Tn=Fs+(1&zn),zn=zn>>1|(Fs=0<(Tn=ci(Fn,Xs[2],Tn,es.Qc,0,Jt,Is)))<<3,kn=kn<<2|(3<Tn?3:1<Tn?2:Jt[Is+0]!=0),Is+=16;zn>>=2,Hs=Hs>>1|Fs<<5}nn|=kn<<4*gs,xs|=zn<<4<<gs,Zs|=(240&Hs)<<gs}Bt.la=xs,ja.la=Zs,ha.Hc=Bs,ha.Gc=nn,ha.ia=43690&nn?0:es.ia,Xs=!(Bs|nn)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[$t.$b][$t.Za],rt.wa[rt.Y+rt.ja].La|=!Xs),ps.Ka)return Vn(dn,7,"Premature end-of-file encountered.")}if(_r(dn),rt=os,ps=1,$t=(ft=dn).D,Bt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if($t.M=ft.M,$t.uc=Bt,ri(ft,$t),ps=1,$t=(kn=ft.D).Nb,Bt=(nn=ic[ft.L])*ft.R,Fn=nn/2*ft.B,Cn=16*$t*ft.R,Rs=8*$t*ft.B,Xs=ft.sa,ha=ft.ta-Bt+Cn,es=ft.qa,Jt=ft.ra-Fn+Rs,Is=ft.Ha,ja=ft.Ia-Fn+Rs,Hs=(zn=kn.M)==0,Bs=zn>=ft.Va-1,ft.Aa==2&&ri(ft,kn),kn.uc)for(Fs=(Tn=ft).D.M,t(Tn.D.uc),kn=Tn.yb;kn<Tn.Hb;++kn){Zs=kn,xs=Fs;var Xn=(An=(zs=Tn).D).Nb;gs=zs.R;var An=An.wa[An.Y+Zs],Sa=zs.sa,js=zs.ta+16*Xn*gs+16*Zs,Et=An.dd,Lt=An.tc;if(Lt!=0)if(t(3<=Lt),zs.L==1)0<Zs&&Xh(Sa,js,gs,Lt+4),An.La&&Tf(Sa,js,gs,Lt),0<xs&&Wh(Sa,js,gs,Lt+4),An.La&&Cf(Sa,js,gs,Lt);else{var Mn=zs.B,Va=zs.qa,Ai=zs.ra+8*Xn*Mn+8*Zs,Oa=zs.Ha,zs=zs.Ia+8*Xn*Mn+8*Zs;Xn=An.ld,0<Zs&&(Ls(Sa,js,gs,Lt+4,Et,Xn),Vi(Va,Ai,Oa,zs,Mn,Lt+4,Et,Xn)),An.La&&(su(Sa,js,gs,Lt,Et,Xn),Gh(Va,Ai,Oa,zs,Mn,Lt,Et,Xn)),0<xs&&(Jn(Sa,js,gs,Lt+4,Et,Xn),mr(Va,Ai,Oa,zs,Mn,Lt+4,Et,Xn)),An.La&&(dl(Sa,js,gs,Lt,Et,Xn),Af(Va,Ai,Oa,zs,Mn,Lt,Et,Xn))}}if(ft.ia&&alert("todo:DitherRow"),rt.put!=null){if(kn=16*zn,zn=16*(zn+1),Hs?(rt.y=ft.sa,rt.O=ft.ta+Cn,rt.f=ft.qa,rt.N=ft.ra+Rs,rt.ea=ft.Ha,rt.W=ft.Ia+Rs):(kn-=nn,rt.y=Xs,rt.O=ha,rt.f=es,rt.N=Jt,rt.ea=Is,rt.W=ja),Bs||(zn-=nn),zn>rt.o&&(zn=rt.o),rt.F=null,rt.J=null,ft.Fa!=null&&0<ft.Fa.length&&kn<zn&&(rt.J=_s(ft,rt,kn,zn-kn),rt.F=ft.mb,rt.F==null&&rt.F.length==0)){ps=Vn(ft,3,"Could not decode alpha data.");break t}kn<rt.j&&(nn=rt.j-kn,kn=rt.j,t(!(1&nn)),rt.O+=ft.R*nn,rt.N+=ft.B*(nn>>1),rt.W+=ft.B*(nn>>1),rt.F!=null&&(rt.J+=rt.width*nn)),kn<zn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=kn-rt.j,rt.U=rt.va-rt.v,rt.T=zn-kn,ps=rt.put(rt))}$t+1!=ft.Ic||Bs||(i(ft.sa,ft.ta-Bt,Xs,ha+16*ft.R,Bt),i(ft.qa,ft.ra-Fn,es,Jt+8*ft.B,Fn),i(ft.Ha,ft.Ia-Fn,Is,ja+8*ft.B,Fn))}if(!ps)return Vn(dn,6,"Output aborted.")}return 1})(de,Se)),Se.bc!=null&&Se.bc(Se),Ee&=1}return Ee?(de.cb=0,Ee):0})(g,O)||(b=g.a)}}else b=g.a}b==0&&ee.Oa!=null&&ee.Oa.fd&&(b=nu(ee.ba))}ee=b}Q=ee!=0?null:11>Q?se.f.RGBA.eb:se.f.kb.y}else Q=null;return Q};var pd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Y,fe){for(var V="",P=0;P<4;P++)V+=String.fromCharCode(Y[fe++]);return V}function p(Y,fe){return Y[fe+0]|Y[fe+1]<<8}function x(Y,fe){return(Y[fe+0]|Y[fe+1]<<8|Y[fe+2]<<16)>>>0}function N(Y,fe){return(Y[fe+0]|Y[fe+1]<<8|Y[fe+2]<<16|Y[fe+3]<<24)>>>0}new f;var y=[0],C=[0],M=[],S=new f,j=e,L=(function(Y,fe){var V={},P=0,F=!1,W=0,te=0;if(V.frames=[],!(function(k,q){for(var J=0;J<4;J++)if(k[q+J]!="RIFF".charCodeAt(J))return!0;return!1})(Y,fe)){for(N(Y,fe+=4),fe+=8;fe<Y.length;){var z=m(Y,fe),K=N(Y,fe+=4);fe+=4;var H=K+(1&K);switch(z){case"VP8 ":case"VP8L":V.frames[P]===void 0&&(V.frames[P]={}),(_=V.frames[P]).src_off=F?te:fe-8,_.src_size=W+K+8,P++,F&&(F=!1,W=0,te=0);break;case"VP8X":(_=V.header={}).feature_flags=Y[fe];var ue=fe+4;_.canvas_width=1+x(Y,ue),ue+=3,_.canvas_height=1+x(Y,ue),ue+=3;break;case"ALPH":F=!0,W=H+8,te=fe-8;break;case"ANIM":(_=V.header).bgcolor=N(Y,fe),ue=fe+4,_.loop_count=p(Y,ue),ue+=2;break;case"ANMF":var ae,_;(_=V.frames[P]={}).offset_x=2*x(Y,fe),fe+=3,_.offset_y=2*x(Y,fe),fe+=3,_.width=1+x(Y,fe),fe+=3,_.height=1+x(Y,fe),fe+=3,_.duration=x(Y,fe),fe+=3,ae=Y[fe++],_.dispose=1&ae,_.blend=ae>>1&1}z!="ANMF"&&(fe+=H)}return V}})(j,0);L.response=j,L.rgbaoutput=!0,L.dataurl=!1;var R=L.header?L.header:null,D=L.frames?L.frames:null;if(R){R.loop_counter=R.loop_count,y=[R.canvas_height],C=[R.canvas_width];for(var U=0;U<D.length&&D[U].blend!=0;U++);}var G=D[0],$=S.WebPDecodeRGBA(j,G.src_off,G.src_size,C,y);G.rgba=$,G.imgwidth=C[0],G.imgheight=y[0];for(var B=0;B<C[0]*y[0]*4;B++)M[B]=$[B];return this.width=C,this.height=y,this.data=M,this}(function(e){var t,s,i,o,l,u,d,f,m,p=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new u,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new u,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,u=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,m=new p}]);var x=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=k;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ge){J=!!ge}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ge){oe=!!ge}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ge){isNaN(ge)||(ce=ge)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(ge){isNaN(ge)||(me=ge)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(ge){var re;typeof ge=="number"?re=[ge,ge,ge,ge]:((re=new Array(4))[0]=ge[0],re[1]=ge.length>=2?ge[1]:re[0],re[2]=ge.length>=3?ge[2]:re[0],re[3]=ge.length>=4?ge[3]:re[1]),m.margin=re}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(ge){be=ge}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(ge){ve=ge}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(ge){Me=ge}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(ge){ge instanceof p&&(m=ge)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(ge){m.path=ge}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(ge){Pe=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var re;re=N(ge),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var re=N(ge);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Xe=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(ge){Xe=null,Qe=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var re;if(this.ctx.font=ge,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Pt=re[1];re[2];var Te=re[3],we=re[4];re[5];var ke=re[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor($e==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var st=(function(Ct){var jt,wn,cn=[],lt=Ct.trim();if(lt==="")return E1;if(lt in PN)return[PN[lt]];for(;lt!=="";){switch(wn=null,jt=(lt=BN(lt)).charAt(0)){case'"':case"'":wn=WH(lt.substring(1),jt);break;default:wn=XH(lt)}if(wn===null||(cn.push(wn[0]),(lt=BN(wn[1]))!==""&&lt.charAt(0)!==","))return E1;lt=lt.replace(/^,/,"")}return cn})(ke);if(this.fontFaces){var le=(function(Ct,jt){if(Xe===null){var wn=(function(cn){var lt=[];return Object.keys(cn).forEach(function(kt){cn[kt].forEach(function(Zt){var Rt=null;switch(Zt){case"bold":Rt={family:kt,weight:"bold"};break;case"italic":Rt={family:kt,style:"italic"};break;case"bolditalic":Rt={family:kt,weight:"bold",style:"italic"};break;case"":case"normal":Rt={family:kt}}Rt!==null&&(Rt.ref={name:kt,style:Zt},lt.push(Rt))})}),lt})(Ct.getFontList());Xe=(function(cn){for(var lt={},kt=0;kt<cn.length;++kt){var Zt=M1(cn[kt]),Rt=Zt.family,en=Zt.stretch,Ot=Zt.style,Kn=Zt.weight;lt[Rt]=lt[Rt]||{},lt[Rt][en]=lt[Rt][en]||{},lt[Rt][en][Ot]=lt[Rt][en][Ot]||{},lt[Rt][en][Ot][Kn]=Zt}return lt})(wn.concat(jt))}return Xe})(this.pdf,this.fontFaces),et=st.map(function(Ct){return{family:Ct,stretch:"normal",weight:Te,style:Pt}}),ut=(function(Ct,jt,wn){for(var cn=(wn=wn||{}).defaultFontFamily||"times",lt=Object.assign({},GH,wn.genericFontFamilies||{}),kt=null,Zt=null,Rt=0;Rt<jt.length;++Rt)if(lt[(kt=M1(jt[Rt])).family]&&(kt.family=lt[kt.family]),Ct.hasOwnProperty(kt.family)){Zt=Ct[kt.family];break}if(!(Zt=Zt||Ct[cn]))throw new Error("Could not find a font-family for the rule '"+IN(kt)+"' and default family '"+cn+"'.");if(Zt=(function(en,Ot){if(Ot[en])return Ot[en];var Kn=kx[en],ds=Kn<=kx.normal?-1:1,Nn=ON(Ot,$C,Kn,ds);if(!Nn)throw new Error("Could not find a matching font-stretch value for "+en);return Nn})(kt.stretch,Zt),Zt=(function(en,Ot){if(Ot[en])return Ot[en];for(var Kn=ZC[en],ds=0;ds<Kn.length;++ds)if(Ot[Kn[ds]])return Ot[Kn[ds]];throw new Error("Could not find a matching font-style for "+en)})(kt.style,Zt),!(Zt=(function(en,Ot){if(Ot[en])return Ot[en];if(en===400&&Ot[500])return Ot[500];if(en===500&&Ot[400])return Ot[400];var Kn=VH[en],ds=ON(Ot,YC,Kn,en<400?-1:1);if(!ds)throw new Error("Could not find a matching font-weight for value "+en);return ds})(kt.weight,Zt)))throw new Error("Failed to resolve a font for the rule '"+IN(kt)+"'.");return Zt})(le,et);this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var St="";(Te==="bold"||parseInt(Te,10)>=700||Pt==="bold")&&(St="bold"),Pt==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var At="",mn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<st.length;_t++){if(this.pdf.internal.getFont(st[_t],St,{noFallback:!0,disableWarning:!0})!==void 0){At=st[_t];break}if(St==="bolditalic"&&this.pdf.internal.getFont(st[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=st[_t],St="bold";else if(this.pdf.internal.getFont(st[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=st[_t],St="normal";break}}if(At===""){for(var ht=0;ht<st.length;ht++)if(mn[st[ht]]){At=mn[st[ht]];break}}At=At===""?"Times":At,this.pdf.setFont(At,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,_.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,_.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};x.prototype.setLineDash=function(k){this.lineDash=k},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){D.call(this,"fill",!1)},x.prototype.stroke=function(){D.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(k,q){if(isNaN(k)||isNaN(q))throw cs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(k,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(k,q)},x.prototype.closePath=function(){var k=new u(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Yn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){k=new u(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(k.x,k.y)},x.prototype.lineTo=function(k,q){if(isNaN(k)||isNaN(q))throw cs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(k,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},x.prototype.quadraticCurveTo=function(k,q,J,oe){if(isNaN(J)||isNaN(oe)||isNaN(k)||isNaN(q))throw cs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(J,oe)),me=this.ctx.transform.applyToPoint(new u(k,q));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},x.prototype.bezierCurveTo=function(k,q,J,oe,ce,me){if(isNaN(ce)||isNaN(me)||isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe))throw cs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new u(ce,me)),ve=this.ctx.transform.applyToPoint(new u(k,q)),Me=this.ctx.transform.applyToPoint(new u(J,oe));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Me.x,y2:Me.y,x:be.x,y:be.y}),this.ctx.lastPoint=new u(be.x,be.y)},x.prototype.arc=function(k,q,J,oe,ce,me){if(isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe)||isNaN(ce))throw cs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new u(k,q));k=be.x,q=be.y;var ve=this.ctx.transform.applyToPoint(new u(0,J)),Me=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(ve.x-Me.x,2)+Math.pow(ve.y-Me.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:k,y:q,radius:J,startAngle:oe,endAngle:ce,counterclockwise:me})},x.prototype.arcTo=function(k,q,J,oe,ce){throw new Error("arcTo not implemented.")},x.prototype.rect=function(k,q,J,oe){if(isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe))throw cs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,q),this.lineTo(k+J,q),this.lineTo(k+J,q+oe),this.lineTo(k,q+oe),this.lineTo(k,q),this.lineTo(k+J,q),this.lineTo(k,q)},x.prototype.fillRect=function(k,q,J,oe){if(isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe))throw cs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,q,J,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},x.prototype.strokeRect=function(k,q,J,oe){if(isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe))throw cs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(k,q,J,oe),this.stroke())},x.prototype.clearRect=function(k,q,J,oe){if(isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe))throw cs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,q,J,oe))},x.prototype.save=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},x.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(k){var q,J,oe,ce;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))q=0,J=0,oe=0,ce=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(me!==null)q=parseInt(me[1]),J=parseInt(me[2]),oe=parseInt(me[3]),ce=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)q=parseInt(me[1]),J=parseInt(me[2]),oe=parseInt(me[3]),ce=parseFloat(me[4]);else{if(ce=1,typeof k=="string"&&k.charAt(0)!=="#"){var be=new zC(k);k=be.ok?be.toHex():"#000000"}k.length===4?(q=k.substring(1,2),q+=q,J=k.substring(2,3),J+=J,oe=k.substring(3,4),oe+=oe):(q=k.substring(1,3),J=k.substring(3,5),oe=k.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),oe=parseInt(oe,16)}}return{r:q,g:J,b:oe,a:ce,style:k}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(k,q,J,oe){if(isNaN(q)||isNaN(J)||typeof k!="string")throw cs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!y.call(this)){var ce=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;P.call(this,{text:k,x:q,y:J,scale:me,angle:ce,align:this.textAlign,maxWidth:oe})}},x.prototype.strokeText=function(k,q,J,oe){if(isNaN(q)||isNaN(J)||typeof k!="string")throw cs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){oe=isNaN(oe)?void 0:oe;var ce=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;P.call(this,{text:k,x:q,y:J,scale:me,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},x.prototype.measureText=function(k){if(typeof k!="string")throw cs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,oe=q.internal.getFontSize(),ce=q.getStringUnitWidth(k)*oe/q.internal.scaleFactor;return new function(me){var be=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ce*=Math.round(96*J/72*1e4)/1e4})},x.prototype.scale=function(k,q){if(isNaN(k)||isNaN(q))throw cs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(k,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},x.prototype.rotate=function(k){if(isNaN(k))throw cs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.translate=function(k,q){if(isNaN(k)||isNaN(q))throw cs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,k,q);this.ctx.transform=this.ctx.transform.multiply(J)},x.prototype.transform=function(k,q,J,oe,ce,me){if(isNaN(k)||isNaN(q)||isNaN(J)||isNaN(oe)||isNaN(ce)||isNaN(me))throw cs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new f(k,q,J,oe,ce,me);this.ctx.transform=this.ctx.transform.multiply(be)},x.prototype.setTransform=function(k,q,J,oe,ce,me){k=isNaN(k)?1:k,q=isNaN(q)?0:q,J=isNaN(J)?0:J,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,this.ctx.transform=new f(k,q,J,oe,ce,me)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(k,q,J,oe,ce,me,be,ve,Me){var Pe=this.pdf.getImageProperties(k),Xe=1,Qe=1,ge=1,re=1;oe!==void 0&&ve!==void 0&&(ge=ve/oe,re=Me/ce,Xe=Pe.width/oe*ve/oe,Qe=Pe.height/ce*Me/ce),me===void 0&&(me=q,be=J,q=0,J=0),oe!==void 0&&ve===void 0&&(ve=oe,Me=ce),oe===void 0&&ve===void 0&&(ve=Pe.width,Me=Pe.height);for(var Pt,Te=this.ctx.transform.decompose(),we=H(Te.rotate.shx),ke=new f,$e=(ke=(ke=(ke=ke.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new d(me-q*ge,be-J*re,oe*Xe,ce*Qe)),st=S.call(this,$e),le=[],et=0;et<st.length;et+=1)le.indexOf(st[et])===-1&&le.push(st[et]);if(R(le),this.autoPaging)for(var ut=le[0],St=le[le.length-1],At=ut;At<St+1;At++){this.pdf.setPage(At);var mn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=At===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=At===1?0:ht+(At-2)*Ct;if(this.ctx.clip_path.length!==0){var wn=this.path;Pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Pt,this.posX+this.margin[3],-jt+_t+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=wn}var cn=JSON.parse(JSON.stringify($e));cn=L([cn],this.posX+this.margin[3],-jt+_t+this.ctx.prevPageLastElemOffset)[0];var lt=(At>ut||At<St)&&M.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mn,Ct,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",cn.x,cn.y,cn.w,cn.h,null,null,we),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,we)};var S=function(k,q,J){var oe=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":oe.push(Math.floor((k.y+ce)/J)+1);break;case"arc":oe.push(Math.floor((k.y+ce-k.radius)/J)+1),oe.push(Math.floor((k.y+ce+k.radius)/J)+1);break;case"qct":var me=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);oe.push(Math.floor((me.y+ce)/J)+1),oe.push(Math.floor((me.y+me.h+ce)/J)+1);break;case"bct":var be=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);oe.push(Math.floor((be.y+ce)/J)+1),oe.push(Math.floor((be.y+be.h+ce)/J)+1);break;case"rect":oe.push(Math.floor((k.y+ce)/J)+1),oe.push(Math.floor((k.y+k.h+ce)/J)+1)}for(var ve=0;ve<oe.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ve];)j.call(this);return oe},j=function(){var k=this.fillStyle,q=this.strokeStyle,J=this.font,oe=this.lineCap,ce=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=q,this.font=J,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=me},L=function(k,q,J){for(var oe=0;oe<k.length;oe++)switch(k[oe].type){case"bct":k[oe].x2+=q,k[oe].y2+=J;case"qct":k[oe].x1+=q,k[oe].y1+=J;default:k[oe].x+=q,k[oe].y+=J}return k},R=function(k){return k.sort(function(q,J){return q-J})},D=function(k,q){for(var J,oe,ce=this.fillStyle,me=this.strokeStyle,be=this.lineCap,ve=this.lineWidth,Me=Math.abs(ve*this.ctx.transform.scaleX),Pe=this.lineJoin,Xe=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),ge=[],re=0;re<Qe.length;re++)if(Qe[re].x!==void 0)for(var Pt=S.call(this,Qe[re]),Te=0;Te<Pt.length;Te+=1)ge.indexOf(Pt[Te])===-1&&ge.push(Pt[Te]);for(var we=0;we<ge.length;we++)for(;this.pdf.internal.getNumberOfPages()<ge[we];)j.call(this);if(R(ge),this.autoPaging)for(var ke=ge[0],$e=ge[ge.length-1],st=ke;st<$e+1;st++){this.pdf.setPage(st),this.fillStyle=ce,this.strokeStyle=me,this.lineCap=be,this.lineWidth=Me,this.lineJoin=Pe;var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=st===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=st===1?0:ut+(st-2)*St;if(this.ctx.clip_path.length!==0){var mn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(J,this.posX+this.margin[3],-At+et+this.ctx.prevPageLastElemOffset),U.call(this,k,!0),this.path=mn}if(oe=JSON.parse(JSON.stringify(Xe)),this.path=L(oe,this.posX+this.margin[3],-At+et+this.ctx.prevPageLastElemOffset),q===!1||st===0){var _t=(st>ke||st<$e)&&M.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,St,null).clip().discardPath()),U.call(this,k,q),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Me,U.call(this,k,q),this.lineWidth=ve;this.path=Xe},U=function(k,q){if((k!=="stroke"||q||!C.call(this))&&(k==="stroke"||q||!y.call(this))){for(var J,oe,ce=[],me=this.path,be=0;be<me.length;be++){var ve=me[be];switch(ve.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ve,deltas:[],abs:[]});break;case"lt":var Me=ce.length;if(me[be-1]&&!isNaN(me[be-1].x)&&(J=[ve.x-me[be-1].x,ve.y-me[be-1].y],Me>0)){for(;Me>=0;Me--)if(ce[Me-1].close!==!0&&ce[Me-1].begin!==!0){ce[Me-1].deltas.push(J),ce[Me-1].abs.push(ve);break}}break;case"bct":J=[ve.x1-me[be-1].x,ve.y1-me[be-1].y,ve.x2-me[be-1].x,ve.y2-me[be-1].y,ve.x-me[be-1].x,ve.y-me[be-1].y],ce[ce.length-1].deltas.push(J);break;case"qct":var Pe=me[be-1].x+2/3*(ve.x1-me[be-1].x),Xe=me[be-1].y+2/3*(ve.y1-me[be-1].y),Qe=ve.x+2/3*(ve.x1-ve.x),ge=ve.y+2/3*(ve.y1-ve.y),re=ve.x,Pt=ve.y;J=[Pe-me[be-1].x,Xe-me[be-1].y,Qe-me[be-1].x,ge-me[be-1].y,re-me[be-1].x,Pt-me[be-1].y],ce[ce.length-1].deltas.push(J);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ve)}}oe=q?null:k==="stroke"?"stroke":"fill";for(var Te=!1,we=0;we<ce.length;we++)if(ce[we].arc)for(var ke=ce[we].abs,$e=0;$e<ke.length;$e++){var st=ke[$e];st.type==="arc"?B.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,q,!Te):F.call(this,st.x,st.y),Te=!0}else if(ce[we].close===!0)this.pdf.internal.out("h"),Te=!1;else if(ce[we].begin!==!0){var le=ce[we].start.x,et=ce[we].start.y;W.call(this,ce[we].deltas,le,et),Te=!0}oe&&Y.call(this,oe),q&&fe.call(this)}},G=function(k){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-J;case"top":return k+q-J;case"hanging":return k+q-2*J;case"middle":return k+q/2-J;default:return k}},$=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(q,J){this.colorStops.push([q,J])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(k,q,J,oe,ce,me,be,ve,Me){for(var Pe=z.call(this,J,oe,ce,me),Xe=0;Xe<Pe.length;Xe++){var Qe=Pe[Xe];Xe===0&&(Me?V.call(this,Qe.x1+k,Qe.y1+q):F.call(this,Qe.x1+k,Qe.y1+q)),te.call(this,k,q,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}ve?fe.call(this):Y.call(this,be)},Y=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},fe=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(k,q){this.pdf.internal.out(s(k)+" "+i(q)+" m")},P=function(k){var q;switch(k.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var J=this.pdf.getTextDimensions(k.text),oe=G.call(this,k.y),ce=$.call(this,oe)-J.h,me=this.ctx.transform.applyToPoint(new u(k.x,oe)),be=this.ctx.transform.decompose(),ve=new f;ve=(ve=(ve=ve.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Me,Pe,Xe,Qe=this.ctx.transform.applyToRectangle(new d(k.x,oe,J.w,J.h)),ge=ve.applyToRectangle(new d(k.x,ce,J.w,J.h)),re=S.call(this,ge),Pt=[],Te=0;Te<re.length;Te+=1)Pt.indexOf(re[Te])===-1&&Pt.push(re[Te]);if(R(Pt),this.autoPaging)for(var we=Pt[0],ke=Pt[Pt.length-1],$e=we;$e<ke+1;$e++){this.pdf.setPage($e);var st=$e===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],ut=et-this.margin[0],St=this.pdf.internal.pageSize.width-this.margin[1],At=St-this.margin[3],mn=$e===1?0:le+($e-2)*ut;if(this.ctx.clip_path.length!==0){var _t=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Me,this.posX+this.margin[3],-1*mn+st),U.call(this,"fill",!0),this.path=_t}var ht=L([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-mn+st+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*k.scale),Xe=this.lineWidth,this.lineWidth=Xe*k.scale);var Ct=this.autoPaging!=="text";if(Ct||ht.y+ht.h<=et){if(Ct||ht.y>=st&&ht.x<=St){var jt=Ct?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||St-ht.x)[0],wn=L([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-mn+st+this.ctx.prevPageLastElemOffset)[0],cn=Ct&&($e>we||$e<ke)&&M.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,ut,null).clip().discardPath()),this.pdf.text(jt,wn.x,wn.y,{angle:k.angle,align:q,renderingMode:k.renderingMode}),cn&&this.pdf.restoreGraphicsState()}}else ht.y<et&&(this.ctx.prevPageLastElemOffset+=et-ht.y);k.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Xe)}else k.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*k.scale),Xe=this.lineWidth,this.lineWidth=Xe*k.scale),this.pdf.text(k.text,me.x+this.posX,me.y+this.posY,{angle:k.angle,align:q,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Xe)},F=function(k,q,J,oe){J=J||0,oe=oe||0,this.pdf.internal.out(s(k+J)+" "+i(q+oe)+" l")},W=function(k,q,J){return this.pdf.lines(k,q,J,null,null)},te=function(k,q,J,oe,ce,me,be,ve){this.pdf.internal.out([t(o(J+k)),t(l(oe+q)),t(o(ce+k)),t(l(me+q)),t(o(be+k)),t(l(ve+q)),"c"].join(" "))},z=function(k,q,J,oe){for(var ce=2*Math.PI,me=Math.PI/2;q>J;)q-=ce;var be=Math.abs(J-q);be<ce&&oe&&(be=ce-be);for(var ve=[],Me=oe?-1:1,Pe=q;be>1e-5;){var Xe=Pe+Me*Math.min(be,me);ve.push(K.call(this,k,Pe,Xe)),be-=Math.abs(Xe-Pe),Pe=Xe}return ve},K=function(k,q,J){var oe=(J-q)/2,ce=k*Math.cos(oe),me=k*Math.sin(oe),be=ce,ve=-me,Me=be*be+ve*ve,Pe=Me+be*ce+ve*me,Xe=4/3*(Math.sqrt(2*Me*Pe)-Pe)/(be*me-ve*ce),Qe=be-Xe*ve,ge=ve+Xe*be,re=Qe,Pt=-ge,Te=oe+q,we=Math.cos(Te),ke=Math.sin(Te);return{x1:k*Math.cos(q),y1:k*Math.sin(q),x2:Qe*we-ge*ke,y2:Qe*ke+ge*we,x3:re*we-Pt*ke,y3:re*ke+Pt*we,x4:k*Math.cos(J),y4:k*Math.sin(J)}},H=function(k){return 180*k/Math.PI},ue=function(k,q,J,oe,ce,me){var be=k+.5*(J-k),ve=q+.5*(oe-q),Me=ce+.5*(J-ce),Pe=me+.5*(oe-me),Xe=Math.min(k,ce,be,Me),Qe=Math.max(k,ce,be,Me),ge=Math.min(q,me,ve,Pe),re=Math.max(q,me,ve,Pe);return new d(Xe,ge,Qe-Xe,re-ge)},ae=function(k,q,J,oe,ce,me,be,ve){var Me,Pe,Xe,Qe,ge,re,Pt,Te,we,ke,$e,st,le,et,ut=J-k,St=oe-q,At=ce-J,mn=me-oe,_t=be-ce,ht=ve-me;for(Pe=0;Pe<41;Pe++)we=(Pt=(Xe=k+(Me=Pe/40)*ut)+Me*((ge=J+Me*At)-Xe))+Me*(ge+Me*(ce+Me*_t-ge)-Pt),ke=(Te=(Qe=q+Me*St)+Me*((re=oe+Me*mn)-Qe))+Me*(re+Me*(me+Me*ht-re)-Te),Pe==0?($e=we,st=ke,le=we,et=ke):($e=Math.min($e,we),st=Math.min(st,ke),le=Math.max(le,we),et=Math.max(et,ke));return new d(Math.round($e),Math.round(st),Math.round(le-$e),Math.round(et-st))},_=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,q,J=(k=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Tt.API),(function(e){var t=function(u){var d,f,m,p,x,N,y,C,M,S;for(f=[],m=0,p=(u+=d="\0\0\0\0".slice(u.length%4||4)).length;p>m;m+=4)(x=(u.charCodeAt(m)<<24)+(u.charCodeAt(m+1)<<16)+(u.charCodeAt(m+2)<<8)+u.charCodeAt(m+3))!==0?(N=(x=((x=((x=((x=(x-(S=x%85))/85)-(M=x%85))/85)-(C=x%85))/85)-(y=x%85))/85)%85,f.push(N+33,y+33,C+33,M+33,S+33)):f.push(122);return(function(j,L){for(var R=L;R>0;R--)j.pop()})(f,d.length),String.fromCharCode.apply(String,f)+"~>"},s=function(u){var d,f,m,p,x,N=String,y="length",C=255,M="charCodeAt",S="slice",j="replace";for(u[S](-2),u=u[S](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),m=[],p=0,x=(u+=d="uuuuu"[S](u[y]%5||5))[y];x>p;p+=5)f=52200625*(u[M](p)-33)+614125*(u[M](p+1)-33)+7225*(u[M](p+2)-33)+85*(u[M](p+3)-33)+(u[M](p+4)-33),m.push(C&f>>24,C&f>>16,C&f>>8,C&f);return(function(L,R){for(var D=R;D>0;D--)L.pop()})(m,d[y]),N.fromCharCode.apply(N,m)},i=function(u){return u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(u){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),d.test(u)===!1)return"";for(var f="",m=0;m<u.length;m+=2)f+=String.fromCharCode("0x"+(u[m]+u[m+1]));return f},l=function(u){for(var d=new Uint8Array(u.length),f=u.length;f--;)d[f]=u.charCodeAt(f);return(d=Sx(d)).reduce(function(m,p){return m+String.fromCharCode(p)},"")};e.processDataByFilters=function(u,d){var f=0,m=u||"",p=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":m=s(m),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=i(m),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=l(m),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:m,reverseChain:p.reverse().join(" ")}}})(Tt.API),(function(e){e.loadFile=function(t,s,i){return(function(o,l,u){l=l!==!1,u=typeof u=="function"?u:function(){};var d=void 0;try{d=(function(f,m,p){var x=new XMLHttpRequest,N=0,y=function(C){var M=C.length,S=[],j=String.fromCharCode;for(N=0;N<M;N+=1)S.push(j(255&C.charCodeAt(N)));return S.join("")};if(x.open("GET",f,!m),x.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(x.onload=function(){x.status===200?p(y(this.responseText)):p(void 0)}),x.send(null),m&&x.status===200)return y(x.responseText)})(o,l,u)}catch{}return d})(t,s,i)},e.loadImageFile=e.loadFile})(Tt.API),(function(e){function t(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):u1(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function s(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):u1(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var i=function(d){var f=Yn(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(d,f){var m=document.createElement(d);for(var p in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[p]=f.style[p];return m},l=function d(f,m){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)m!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||p.appendChild(d(x,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function d(f){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),p=d.convert(Promise.resolve(),m);return(p=p.setProgress(1,d,1,[d])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(d,f){return d.__proto__=f||u.prototype,d},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(d,f){return this.then(function(){switch(f=f||(function(m){switch(i(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),f){case"string":return this.then(s).then(function(m){return this.set({src:o("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},u.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(f){var m=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var C=p[y],M=C.src.find(function(S){return S.format==="truetype"});M&&m.addFont(M.url,C.ref.name,C.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,m.context2d.save(!0),f(this.prop.container,N)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(d,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},u.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},u.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},u.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(d){if(i(d)!=="object")return this;var f=Object.keys(d||{}).map(function(m){if(m in u.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(d,f){return this.then(function(){var m=d in u.template.prop?this.prop[d]:this.opt[d];return f?f(m):m})},u.prototype.setMargin=function(d){return this.then(function(){switch(i(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},u.prototype.setPageSize=function(d){function f(m,p){return Math.floor(m*p/72*96)}return this.then(function(){(d=d||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},u.prototype.setProgress=function(d,f,m,p){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(d,f,m,p){return this.setProgress(d?this.progress.val+d:null,f||null,m?this.progress.n+m:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(d,f){var m=this;return this.thenCore(d,f,function(p,x){return m.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(N){return m.updateProgress(null,p),N}).then(p,x).then(function(N){return m.updateProgress(1),N})})},u.prototype.thenCore=function(d,f,m){m=m||Promise.prototype.then;var p=this;d&&(d=d.bind(p)),f&&(f=f.bind(p));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),N=m.call(x,d,f);return u.convert(N,p.__proto__)},u.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},u.prototype.thenList=function(d){var f=this;return d.forEach(function(m){f=f.thenCore(m)}),f},u.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return u.convert(f,this)},u.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},u.prototype.error=function(d){return this.then(function(){throw new Error(d)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Tt.getPageSize=function(d,f,m){if(Yn(d)==="object"){var p=d;d=p.orientation,f=p.unit||f,m=p.format||m}f=f||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var x,N=(""+m).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var C,M=0,S=0;if(y.hasOwnProperty(N))M=y[N][1]/x,S=y[N][0]/x;else try{M=m[1],S=m[0]}catch{throw new Error("Invalid format: "+m)}if(d==="p"||d==="portrait")d="p",S>M&&(C=S,S=M,M=C);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",M>S&&(C=S,S=M,M=C)}return{width:S,height:M,unit:f,k:x,orientation:d}},e.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(M1):null;var m=new u(f);return f.worker?m:m.from(d).doCallback()}})(Tt.API),Tt.API.addJS=function(e){return FN=e,this.internal.events.subscribe("postPutResources",function(){rp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+FN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){rp!==void 0&&HN!==void 0&&this.internal.out("/Names <</JavaScript "+rp+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var s=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=s.outline.render().split(/\r\n/),l=0;l<o.length;l++){var u=o[l],d=i.exec(u);if(d!=null){var f=d[1];s.internal.newObjectDeferredBegin(f,!1)}s.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,p=[];for(l=0;l<m;l++){var x=s.internal.newObject();p.push(x);var N=s.internal.getPageInfo(l+1);s.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var y=s.internal.newObject();for(s.internal.write("<< /Names [ "),l=0;l<p.length;l++)s.internal.write("(page_"+(l+1)+")"+p[l]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+y+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(i,o,l){var u={title:o,options:l,children:[]};return i==null&&(i=this.root),i.children.push(u),u},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(i){i.id=s.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},s.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},s.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<i.children.length;l++){var u=i.children[l];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),l>0&&this.line("/Prev "+this.makeRef(i.children[l-1])),l<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[l+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var d=this.count=this.count_r({count:0},u);if(d>0&&this.line("/Count "+d),u.options&&u.options.pageNumber){var f=s.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var m=0;m<i.children.length;m++)this.renderItems(i.children[m])},s.outline.line=function(i){this.ctx.val+=i+`\r
`},s.outline.makeRef=function(i){return i.id+" 0 R"},s.outline.makeString=function(i){return"("+s.internal.pdfEscape(i)+")"},s.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(i,o){for(var l=0;l<o.children.length;l++)i.count++,this.count_r(i,o.children[l]);return i.count}}])})(Tt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,i,o,l,u,d){var f,m=this.decode.DCT_DECODE,p=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=u||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,f=(function(x){for(var N,y=256*x.charCodeAt(4)+x.charCodeAt(5),C=x.length,M={width:0,height:0,numcomponents:1},S=4;S<C;S+=2){if(S+=y,t.indexOf(x.charCodeAt(S+1))!==-1){N=256*x.charCodeAt(S+5)+x.charCodeAt(S+6),M={width:256*x.charCodeAt(S+7)+x.charCodeAt(S+8),height:N,numcomponents:x.charCodeAt(S+9)};break}y=256*x.charCodeAt(S+2)+x.charCodeAt(S+3)}return M})(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),f.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}p={data:s,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:m,index:i,alias:o}}return p}})(Tt.API),Tt.API.processPNG=function(e,t,s,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var o,l=_H(e,{checkCrc:!0}),u=l.width,d=l.height,f=l.channels,m=l.palette,p=l.depth;o=m&&f===1?(function(B){for(var Y=B.width,fe=B.height,V=B.data,P=B.palette,F=B.depth,W=!1,te=[],z=[],K=void 0,H=!1,ue=0,ae=0;ae<P.length;ae++){var _=Vw(P[ae],4),k=_[0],q=_[1],J=_[2],oe=_[3];te.push(k,q,J),oe!=null&&(oe===0?(ue++,z.length<1&&z.push(ae)):oe<255&&(H=!0))}if(H||ue>1){W=!0,z=void 0;var ce=Y*fe;K=new Uint8Array(ce);for(var me=new DataView(V.buffer),be=0;be<ce;be++){var ve=_1(me,be,F),Me=Vw(P[ve],4)[3];K[be]=Me}}else ue===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:V,alphaBytes:K,needSMask:W,palette:te,mask:z}})(l):f===2||f===4?(function(B){for(var Y=B.data,fe=B.width,V=B.height,P=B.channels,F=B.depth,W=P===2?"DeviceGray":"DeviceRGB",te=P-1,z=fe*V,K=te,H=z*K,ue=1*z,ae=Math.ceil(H*F/8),_=Math.ceil(ue*F/8),k=new Uint8Array(ae),q=new Uint8Array(_),J=new DataView(Y.buffer),oe=new DataView(k.buffer),ce=new DataView(q.buffer),me=!1,be=0;be<z;be++){for(var ve=be*P,Me=0;Me<K;Me++)$N(oe,_1(J,ve+Me,F),be*K+Me,F);var Pe=_1(J,ve+K,F);Pe<(1<<F)-1&&(me=!0),$N(ce,Pe,1*be,F)}return{colorSpace:W,colorsPerPixel:te,sMaskBitsPerComponent:me?F:void 0,colorBytes:k,alphaBytes:q,needSMask:me}})(l):(function(B){var Y=B.data,fe=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:fe,colorsPerPixel:fe==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(V){for(var P=V.length,F=new Uint8Array(2*P),W=new DataView(F.buffer,F.byteOffset,F.byteLength),te=0;te<P;te++)W.setUint16(2*te,V[te],!1);return F})(Y):Y,needSMask:!1}})(l);var x,N,y,C=o,M=C.colorSpace,S=C.colorsPerPixel,j=C.sMaskBitsPerComponent,L=C.colorBytes,R=C.alphaBytes,D=C.needSMask,U=C.palette,G=C.mask,$=null;return i!==Tt.API.image_compression.NONE&&typeof Sx=="function"?($=(function(B){var Y;switch(B){case Tt.API.image_compression.FAST:Y=11;break;case Tt.API.image_compression.MEDIUM:Y=13;break;case Tt.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(i),x=this.decode.FLATE_DECODE,N="/Predictor ".concat($," /Colors ").concat(S," /BitsPerComponent ").concat(p," /Columns ").concat(u),e=VN(L,Math.ceil(u*S*p/8),S,p,i),D&&(y=VN(R,Math.ceil(u*j/8),1,j,i))):(x=void 0,N=void 0,e=L,D&&(y=R)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:s,data:e,index:t,filter:x,decodeParameters:N,transparency:G,palette:U,sMask:y,predictor:$,width:u,height:d,bitsPerComponent:p,sMaskBitsPerComponent:j,colorSpace:M}}},(function(e){e.processGIF89A=function(t,s,i,o){var l=new KH(t),u=l.width,d=l.height,f=[];l.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:u,height:d},p=new k1(100).encode(m,100);return e.processJPEG.call(this,p,s,i,o)},e.processGIF87A=e.processGIF89A})(Tt.API),Qr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:i,blue:s,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qr.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(s){cs.log("bit decode error:"+s)}},Qr.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var l=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*o*4,d=0;d<8&&8*o+d<this.width;d++){var f=this.palette[l>>7-d&1];this.data[u+4*d]=f.blue,this.data[u+4*d+1]=f.green,this.data[u+4*d+2]=f.red,this.data[u+4*d+3]=255}s!==0&&(this.pos+=4-s)}},Qr.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<e;o++){var l=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*o*4,d=l>>4,f=15&l,m=this.palette[d];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*o+1>=this.width)break;m=this.palette[f],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},Qr.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+4*i;if(o<this.palette.length){var u=this.palette[o];this.data[l]=u.red,this.data[l+1]=u.green,this.data[l+2]=u.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},Qr.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&t)/t*255|0,d=(l>>5&t)/t*255|0,f=(l>>10&t)/t*255|0,m=l>>15?255:0,p=i*this.width*4+4*o;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=m}this.pos+=e}},Qr.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,l=0;l<this.width;l++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(u&t)/t*255|0,f=(u>>5&s)/s*255|0,m=(u>>11)/t*255|0,p=o*this.width*4+4*l;this.data[p]=m,this.data[p+1]=f,this.data[p+2]=d,this.data[p+3]=255}this.pos+=e}},Qr.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},Qr.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}},Qr.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,s,i,o){var l=new Qr(t,!1),u=l.width,d=l.height,f={data:l.getData(),width:u,height:d},m=new k1(100).encode(f,100);return e.processJPEG.call(this,m,s,i,o)}})(Tt.API),KN.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,s,i,o){var l=new KN(t),u=l.width,d=l.height,f={data:l.getData(),width:u,height:d},m=new k1(100).encode(f,100);return e.processJPEG.call(this,m,s,i,o)}})(Tt.API),Tt.API.processRGBA=function(e,t,s){for(var i=e.data,o=i.length,l=new Uint8Array(o/4*3),u=new Uint8Array(o/4),d=0,f=0,m=0;m<o;m+=4){var p=i[m],x=i[m+1],N=i[m+2],y=i[m+3];l[d++]=p,l[d++]=x,l[d++]=N,u[f++]=y}var C=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:C,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vd=Tt.API,op=Vd.getCharWidthsArray=function(e,t){var s,i,o=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:o.metadata.Unicode.widths,f=d.fof?d.fof:1,m=t.kerning?t.kerning:o.metadata.Unicode.kerning,p=m.fof?m.fof:1,x=t.doKerning!==!1,N=0,y=e.length,C=0,M=d[0]||f,S=[];for(s=0;s<y;s++)i=e.charCodeAt(s),typeof o.metadata.widthOfString=="function"?S.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+u*(1e3/l)||0)/1e3):(N=x&&Yn(m[i])==="object"&&!isNaN(parseInt(m[i][C],10))?m[i][C]/p:0,S.push((d[i]||M)/f+N)),C=i;return S},zN=Vd.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Vd.processArabic&&(e=Vd.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,s,o)/s:op.apply(this,arguments).reduce(function(l,u){return l+u},0)},UN=function(e,t,s,i){for(var o=[],l=0,u=e.length,d=0;l!==u&&d+t[l]<s;)d+=t[l],l++;o.push(e.slice(0,l));var f=l;for(d=0;l!==u;)d+t[l]>i&&(o.push(e.slice(f,l)),d=0,f=l),d+=t[l],l++;return f!==l&&o.push(e.slice(f,l)),o},qN=function(e,t,s){s||(s={});var i,o,l,u,d,f,m,p=[],x=[p],N=s.textIndent||0,y=0,C=0,M=e.split(" "),S=op.apply(this,[" ",s])[0];if(f=s.lineIndent===-1?M[0].length+2:s.lineIndent||0){var j=Array(f).join(" "),L=[];M.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function(U,G){return(G&&U.length?`
`:"")+U})):L.push(D[0])}),M=L,f=zN.apply(this,[j,s])}for(l=0,u=M.length;l<u;l++){var R=0;if(i=M[l],f&&i[0]==`
`&&(i=i.substr(1),R=1),N+y+(C=(o=op.apply(this,[i,s])).reduce(function(D,U){return D+U},0))>t||R){if(C>t){for(d=UN.apply(this,[i,o,t-(N+y),t]),p.push(d.shift()),p=[d.pop()];d.length;)x.push([d.shift()]);C=o.slice(i.length-(p[0]?p[0].length:0)).reduce(function(D,U){return D+U},0)}else p=[i];x.push(p),N=C+f,y=S}else p.push(i),N+=y+C,y=S}return m=f?function(D,U){return(U?j:"")+D.join(" ")}:function(D){return D.join(" ")},x.map(m)},Vd.splitTextToSize=function(e,t,s){var i,o=(s=s||{}).fontSize||this.internal.getFontSize(),l=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle),N="Unicode";return x.metadata[N]?{widths:x.metadata[N].widths||{0:1},kerning:x.metadata[N].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/o;l.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=s.lineIndent;var d,f,m=[];for(d=0,f=i.length;d<f;d++)m=m.concat(qN.apply(this,[i[d],u,l]));return m},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",s="klmnopqrstuvwxyz",i={},o={},l=0;l<16;l++)i[s[l]]=t[l],o[t[l]]=s[l];var u=function(N){return"0x"+parseInt(N,10).toString(16)},d=e.__fontmetrics__.compress=function(N){var y,C,M,S,j=["{"];for(var L in N){if(y=N[L],isNaN(parseInt(L,10))?C="'"+L+"'":(L=parseInt(L,10),C=(C=u(L).slice(2)).slice(0,-1)+o[C.slice(-1)]),typeof y=="number")y<0?(M=u(y).slice(3),S="-"):(M=u(y).slice(2),S=""),M=S+M.slice(0,-1)+o[M.slice(-1)];else{if(Yn(y)!=="object")throw new Error("Don't know what to do with value type "+Yn(y)+".");M=d(y)}j.push(C+M)}return j.push("}"),j.join("")},f=e.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,C,M,S,j={},L=1,R=j,D=[],U="",G="",$=N.length-1,B=1;B<$;B+=1)(S=N[B])=="'"?y?(M=y.join(""),y=void 0):y=[]:y?y.push(S):S=="{"?(D.push([R,M]),R={},M=void 0):S=="}"?((C=D.pop())[0][C[1]]=R,M=void 0,R=C[0]):S=="-"?L=-1:M===void 0?i.hasOwnProperty(S)?(U+=i[S],M=parseInt(U,16)*L,L=1,U=""):U+=S:i.hasOwnProperty(S)?(G+=i[S],R[M]=parseInt(G,16)*L,L=1,M=void 0,G=""):G+=S;return j},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(N){var y=N.font,C=x.Unicode[y.postScriptName];C&&(y.metadata.Unicode={},y.metadata.Unicode.widths=C.widths,y.metadata.Unicode.kerning=C.kerning);var M=p.Unicode[y.postScriptName];M&&(y.metadata.Unicode.encoding=M,y.encoding=M.codePages[0])}])})(Tt.API),(function(e){var t=function(s){for(var i=s.length,o=new Uint8Array(i),l=0;l<i;l++)o[l]=s.charCodeAt(l);return o};e.API.events.push(["addFont",function(s){var i=void 0,o=s.font,l=s.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(xp(d)),u.metadata=e.API.TTFFont.open(d),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,i)}}])})(Tt),Tt.API.addSvgAsImage=function(e,t,s,i,o,l,u,d){if(isNaN(t)||isNaN(s))throw cs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw cs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=o;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Wt.canvg?Promise.resolve(Wt.canvg):u1(()=>import("./index.es-rbDjgxxu.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(m,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(p)}).then(function(){x.addImage(f.toDataURL("image/jpeg",1),t,s,i,o,u,d)})},Tt.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(t,s);return this},Tt.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var i,o,l,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(u),f=[],m=0,p=0,x=0;function N(C,M){var S,j=!1;for(S=0;S<C.length;S+=1)C[S]===M&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=d.length;for(x=0;x<y;x+=1)s[d[x]].value=s[d[x]].defaultValue,s[d[x]].explicitSet=!1}if(Yn(e)==="object"){for(o in e)if(l=e[o],N(d,o)&&l!==void 0){if(s[o].type==="boolean"&&typeof l=="boolean")s[o].value=l;else if(s[o].type==="name"&&N(s[o].valueSet,l))s[o].value=l;else if(s[o].type==="integer"&&Number.isInteger(l))s[o].value=l;else if(s[o].type==="array"){for(m=0;m<l.length;m+=1)if(i=!0,l[m].length===1&&typeof l[m][0]=="number")f.push(String(l[m]-1));else if(l[m].length>1){for(p=0;p<l[m].length;p+=1)typeof l[m][p]!="number"&&(i=!1);i===!0&&f.push([l[m][0]-1,l[m][1]-1].join(" "))}s[o].value="["+f.join(" ")+"]"}else s[o].value=s[o].defaultValue;s[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,M=[];for(C in s)s[C].explicitSet===!0&&(s[C].type==="name"?M.push("/"+C+" /"+s[C].value):M.push("/"+C+" "+s[C].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},(function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+u.length+d.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(o+l+u+d+f),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}})(Tt.API),(function(e){var t=e.API,s=t.pdfEscape16=function(l,u){for(var d,f=u.metadata.Unicode.widths,m=["","0","00","000","0000"],p=[""],x=0,N=l.length;x<N;++x){if(d=u.metadata.characterToGlyph(l.charCodeAt(x)),u.metadata.glyIdsUsed.push(d),u.metadata.toUnicode[d]=l.charCodeAt(x),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(u.metadata.widthOfGlyph(d),10)])),d=="0")return p.join("");d=d.toString(16),p.push(m[4-d.length],d)}return p.join("")},i=function(l){var u,d,f,m,p,x,N;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],x=0,N=(d=Object.keys(l).sort(function(y,C){return y-C})).length;x<N;x++)u=d[x],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),l[u]!==void 0&&l[u]!==null&&typeof l[u].toString=="function"&&(m=("0000"+l[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+m+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(u){var d=u.font,f=u.out,m=u.newObject,p=u.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,N=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),y="",C=0;C<N.length;C++)y+=String.fromCharCode(N[C]);var M=m();p({data:y,addLength1:!0,objectId:M}),f("endobj");var S=m();p({data:i(d.metadata.toUnicode),addLength1:!0,objectId:S}),f("endobj");var j=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Xd(d.fontName)),f("/FontFile2 "+M+" 0 R"),f("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var L=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+Xd(d.fontName)),f("/FontDescriptor "+j+" 0 R"),f("/W "+e.API.PDFObject.convert(x)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+S+" 0 R"),f("/BaseFont /"+Xd(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+L+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(u){var d=u.font,f=u.out,m=u.newObject,p=u.putStream;if(d.metadata instanceof e.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,N="",y=0;y<x.length;y++)N+=String.fromCharCode(x[y]);var C=m();p({data:N,addLength1:!0,objectId:C}),f("endobj");var M=m();p({data:i(d.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var S=m();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+C+" 0 R"),f("/Flags 96"),f("/FontBBox "+e.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+Xd(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=m();for(var j=0;j<d.metadata.hmtx.widths.length;j++)d.metadata.hmtx.widths[j]=parseInt(d.metadata.hmtx.widths[j]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Xd(d.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(l)}]);var o=function(l){var u,d=l.text||"",f=l.x,m=l.y,p=l.options||{},x=l.mutex||{},N=x.pdfEscape,y=x.activeFontKey,C=x.fonts,M=y,S="",j=0,L="",R=C[M].encoding;if(C[M].encoding!=="Identity-H")return{text:d,x:f,y:m,options:p,mutex:x};for(L=d,M=y,Array.isArray(d)&&(L=d[0]),j=0;j<L.length;j+=1)C[M].metadata.hasOwnProperty("cmap")&&(u=C[M].metadata.cmap.unicode.codeMap[L[j].charCodeAt(0)]),u||L[j].charCodeAt(0)<256&&C[M].metadata.hasOwnProperty("Unicode")?S+=L[j]:S+="";var D="";return parseInt(M.slice(1))<14||R==="WinAnsiEncoding"?D=N(S,M).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(D=s(S,C[M])),x.isHex=!0,{text:D,x:f,y:m,options:p,mutex:x}};t.events.push(["postProcessText",function(l){var u=l.text||"",d=[],f={text:u,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?d.push([o(Object.assign({},f,{text:u[m][0]})).text,u[m][1],u[m][2]]):d.push(o(Object.assign({},f,{text:u[m]})).text);l.text=d}else l.text=o(Object.assign({},f,{text:u})).text}])})(Tt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,i){return t.call(this),this.internal.vFS[s]=i,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}})(Tt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var o,l,u,d,f,m,p,x=t,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,R=0;this.__bidiEngine__={};var D=function(V){var P=V.charCodeAt(),F=P>>8,W=M[F];return W!==void 0?x[256*W+(255&P)]:F===252||F===253?"AL":j.test(F)?"L":F===8?"R":"N"},U=function(V){for(var P,F=0;F<V.length;F++){if((P=D(V.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},G=function(V,P,F,W){var te,z,K,H,ue=P[W];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(ue="AN");break;case"AL":L=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":W<1||W+1>=P.length||(te=F[W-1])!=="EN"&&te!=="AN"||(z=P[W+1])!=="EN"&&z!=="AN"?ue="N":L&&(z="AN"),ue=z===te?z:"N";break;case"ES":ue=(te=W>0?F[W-1]:"B")==="EN"&&W+1<P.length&&P[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&F[W-1]==="EN"){ue="EN";break}if(L){ue="N";break}for(K=W+1,H=P.length;K<H&&P[K]==="ET";)K++;ue=K<H&&P[K]==="EN"?"EN":"N";break;case"NSM":if(u&&!d){for(H=P.length,K=W+1;K<H&&P[K]==="NSM";)K++;if(K<H){var ae=V[W],_=ae>=1425&&ae<=2303||ae===64286;if(te=P[K],_&&(te==="R"||te==="AL")){ue="R";break}}}ue=W<1||(te=P[W-1])==="B"?"N":F[W-1];break;case"B":L=!1,o=!0,ue=R;break;case"S":l=!0,ue="N"}return ue},$=function(V,P,F){var W=V.split("");return F&&B(W,F,{hiLevel:R}),W.reverse(),P&&P.reverse(),W.join("")},B=function(V,P,F){var W,te,z,K,H,ue=-1,ae=V.length,_=0,k=[],q=R?y:N,J=[];for(L=!1,o=!1,l=!1,te=0;te<ae;te++)J[te]=D(V[te]);for(z=0;z<ae;z++){if(H=_,k[z]=G(V,J,k,z),W=240&(_=q[H][C[k[z]]]),_&=15,P[z]=K=q[_][5],W>0)if(W===16){for(te=ue;te<z;te++)P[te]=1;ue=-1}else ue=-1;if(q[_][6])ue===-1&&(ue=z);else if(ue>-1){for(te=ue;te<z;te++)P[te]=K;ue=-1}J[z]==="B"&&(P[z]=0),F.hiLevel|=K}l&&(function(oe,ce,me){for(var be=0;be<me;be++)if(oe[be]==="S"){ce[be]=R;for(var ve=be-1;ve>=0&&oe[ve]==="WS";ve--)ce[ve]=R}})(J,P,ae)},Y=function(V,P,F,W,te){if(!(te.hiLevel<V)){if(V===1&&R===1&&!o)return P.reverse(),void(F&&F.reverse());for(var z,K,H,ue,ae=P.length,_=0;_<ae;){if(W[_]>=V){for(H=_+1;H<ae&&W[H]>=V;)H++;for(ue=_,K=H-1;ue<K;ue++,K--)z=P[ue],P[ue]=P[K],P[K]=z,F&&(z=F[ue],F[ue]=F[K],F[K]=z);_=H}_++}}},fe=function(V,P,F){var W=V.split(""),te={hiLevel:R};return F||(F=[]),B(W,F,te),(function(z,K,H){if(H.hiLevel!==0&&p)for(var ue,ae=0;ae<z.length;ae++)K[ae]===1&&(ue=S.indexOf(z[ae]))>=0&&(z[ae]=S[ue+1])})(W,F,te),Y(2,W,P,F,te),Y(1,W,P,F,te),W.join("")};return this.__bidiEngine__.doBidiReorder=function(V,P,F){if((function(te,z){if(z)for(var K=0;K<te.length;K++)z[K]=K;d===void 0&&(d=U(te)),m===void 0&&(m=U(te))})(V,P),u||!f||m)if(u&&f&&d^m)R=d?1:0,V=$(V,P,F);else if(!u&&f&&m)R=d?1:0,V=fe(V,P,F),V=$(V,P);else if(!u||d||f||m){if(u&&!f&&d^m)V=$(V,P),d?(R=0,V=fe(V,P,F)):(R=1,V=fe(V,P,F),V=$(V,P));else if(u&&d&&!f&&m)R=1,V=fe(V,P,F),V=$(V,P);else if(!u&&!f&&d^m){var W=p;d?(R=1,V=fe(V,P,F),R=0,p=!1,V=fe(V,P,F),p=W):(R=0,V=fe(V,P,F),V=$(V,P),R=1,p=!1,V=fe(V,P,F),p=W,V=$(V,P))}}else R=0,V=fe(V,P,F);else R=d?1:0,V=fe(V,P,F);return V},this.__bidiEngine__.setOptions=function(V){V&&(u=V.isInputVisual,f=V.isOutputVisual,d=V.isInputRtl,m=V.isOutputRtl,p=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var o=i.text;i.x,i.y;var l=i.options||{};i.mutex,l.lang;var u=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,s.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var d=0;for(u=[],d=0;d<o.length;d+=1)Object.prototype.toString.call(o[d])==="[object Array]"?u.push([s.doBidiReorder(o[d][0]),o[d][1],o[d][2]]):u.push([s.doBidiReorder(o[d])]);i.text=u}else i.text=s.doBidiReorder(o);s.setOptions({isInputVisual:!0})}])})(Tt),Tt.API.TTFFont=(function(){function e(t){var s;if(this.rawData=t,s=this.contents=new Pc(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new fF(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new QH(this.contents),this.head=new eF(this),this.name=new iF(this),this.cmap=new QC(this),this.toUnicode={},this.hhea=new tF(this),this.maxp=new rF(this),this.hmtx=new oF(this),this.post=new sF(this),this.os2=new nF(this),this.loca=new dF(this),this.glyf=new lF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,i,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.bbox).length;u<d;u++)t=f[u],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),32768&(s=o>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,i){var o,l,u,d;for(u=0,l=0,d=(t=""+t).length;0<=d?l<d:l>d;l=0<=d?++l:--l)o=t.charCodeAt(l),u+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/s)||0;return u*(s/1e3)},e.prototype.lineHeight=function(t,s){var i;return s==null&&(s=!1),i=s?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e})();var ho,Pc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,i;for(i=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)i[s]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var s,i,o;for(o=[],s=0,i=t.length;0<=i?s<i:s>i;s=0<=i?++s:--s)o.push(this.writeByte(t.charCodeAt(s)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,i,o,l,u,d,f;return t=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),d=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^l)+65536*(255^u)+256*(255^d)+(255^f)+1):72057594037927940*t+281474976710656*s+1099511627776*i+4294967296*o+16777216*l+65536*u+256*d+f},e.prototype.writeLongLong=function(t){var s,i;return s=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,i;for(s=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)s.push(this.readByte());return s},e.prototype.write=function(t){var s,i,o,l;for(l=[],i=0,o=t.length;i<o;i++)s=t[i],l.push(this.writeByte(s));return l},e})(),QH=(function(){var e;function t(s){var i,o,l;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)i={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(s){var i,o,l,u,d,f,m,p,x,N,y,C,M;for(M in y=Object.keys(s).length,f=Math.log(2),x=16*Math.floor(Math.log(y)/f),u=Math.floor(x/f),p=16*y-x,(o=new Pc).writeInt(this.scalarType),o.writeShort(y),o.writeShort(x),o.writeShort(u),o.writeShort(p),l=16*y,m=o.pos+l,d=null,C=[],s)for(N=s[M],o.writeString(M),o.writeInt(e(N)),o.writeInt(m),o.writeInt(N.length),C=C.concat(N),M==="head"&&(d=m),m+=N.length;m%4;)C.push(0),m++;return o.write(C),i=2981146554-e(o.data),o.pos=d+8,o.writeUInt32(i),o.data},e=function(s){var i,o,l,u;for(s=JC.call(s);s.length%4;)s.push(0);for(l=new Pc(s),o=0,i=0,u=s.length;i<u;i=i+=4)o+=l.readUInt32();return 4294967295&o},t})(),JH={}.hasOwnProperty,Qo=function(e,t){for(var s in t)JH.call(t,s)&&(e[s]=t[s]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};ho=(function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var eF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new Pc).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e})(),QN=(function(){function e(t,s){var i,o,l,u,d,f,m,p,x,N,y,C,M,S,j,L,R;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(y=t.readUInt16(),N=y/2,t.pos+=6,l=(function(){var D,U;for(U=[],f=D=0;0<=N?D<N:D>N;f=0<=N?++D:--D)U.push(t.readUInt16());return U})(),t.pos+=2,M=(function(){var D,U;for(U=[],f=D=0;0<=N?D<N:D>N;f=0<=N?++D:--D)U.push(t.readUInt16());return U})(),m=(function(){var D,U;for(U=[],f=D=0;0<=N?D<N:D>N;f=0<=N?++D:--D)U.push(t.readUInt16());return U})(),p=(function(){var D,U;for(U=[],f=D=0;0<=N?D<N:D>N;f=0<=N?++D:--D)U.push(t.readUInt16());return U})(),o=(this.length-t.pos+this.offset)/2,d=(function(){var D,U;for(U=[],f=D=0;0<=o?D<o:D>o;f=0<=o?++D:--D)U.push(t.readUInt16());return U})(),f=j=0,R=l.length;j<R;f=++j)for(S=l[f],i=L=C=M[f];C<=S?L<=S:L>=S;i=C<=S?++L:--L)p[f]===0?u=i+m[f]:(u=d[p[f]/2+(i-C)-(N-f)]||0)!==0&&(u+=m[f]),this.codeMap[i]=65535&u}t.pos=x}return e.encode=function(t,s){var i,o,l,u,d,f,m,p,x,N,y,C,M,S,j,L,R,D,U,G,$,B,Y,fe,V,P,F,W,te,z,K,H,ue,ae,_,k,q,J,oe,ce,me,be,ve,Me,Pe,Xe;switch(W=new Pc,u=Object.keys(t).sort(function(Qe,ge){return Qe-ge}),s){case"macroman":for(M=0,S=(function(){var Qe=[];for(C=0;C<256;++C)Qe.push(0);return Qe})(),L={0:0},l={},te=0,ue=u.length;te<ue;te++)L[ve=t[o=u[te]]]==null&&(L[ve]=++M),l[o]={old:t[o],new:L[t[o]]},S[o]=L[t[o]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(S),{charMap:l,subtable:W.data,maxGlyphID:M+1};case"unicode":for(P=[],x=[],R=0,L={},i={},j=m=null,z=0,ae=u.length;z<ae;z++)L[U=t[o=u[z]]]==null&&(L[U]=++R),i[o]={old:U,new:L[U]},d=L[U]-o,j!=null&&d===m||(j&&x.push(j),P.push(o),m=d),j=o;for(j&&x.push(j),x.push(65535),P.push(65535),fe=2*(Y=P.length),B=2*Math.pow(Math.log(Y)/Math.LN2,2),N=Math.log(B/2)/Math.LN2,$=2*Y-B,f=[],G=[],y=[],C=K=0,_=P.length;K<_;C=++K){if(V=P[C],p=x[C],V===65535){f.push(0),G.push(0);break}if(V-(F=i[V].new)>=32768)for(f.push(0),G.push(2*(y.length+Y-C)),o=H=V;V<=p?H<=p:H>=p;o=V<=p?++H:--H)y.push(i[o].new);else f.push(F-V),G.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*Y+2*y.length),W.writeUInt16(0),W.writeUInt16(fe),W.writeUInt16(B),W.writeUInt16(N),W.writeUInt16($),me=0,k=x.length;me<k;me++)o=x[me],W.writeUInt16(o);for(W.writeUInt16(0),be=0,q=P.length;be<q;be++)o=P[be],W.writeUInt16(o);for(Me=0,J=f.length;Me<J;Me++)d=f[Me],W.writeUInt16(d);for(Pe=0,oe=G.length;Pe<oe;Pe++)D=G[Pe],W.writeUInt16(D);for(Xe=0,ce=y.length;Xe<ce;Xe++)M=y[Xe],W.writeUInt16(M);return{charMap:i,subtable:W.data,maxGlyphID:R+1}}},e})(),QC=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)s=new QN(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var i,o;return s==null&&(s="macroman"),i=QN.encode(t,s),(o=new Pc).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e})(),tF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),nF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var s,i;for(i=[],s=0;s<10;++s)i.push(t.readByte());return i})(),this.charRange=(function(){var s,i;for(i=[],s=0;s<4;++s)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var s,i;for(i=[],s=0;s<2;s=++s)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),sF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="post",e.prototype.parse=function(t){var s,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(i=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)s=t.readByte(),o.push(this.names.push(t.readString(s)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var u,d,f;for(f=[],l=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;l=0<=d?++u:--u)f.push(t.readUInt32());return f}).call(this)}},e})(),aF=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},iF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="name",e.prototype.parse=function(t){var s,i,o,l,u,d,f,m,p,x,N;for(t.pos=this.offset,t.readShort(),s=t.readShort(),d=t.readShort(),i=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(f={},l=p=0,x=i.length;p<x;l=++p)o=i[l],t.pos=o.offset,m=t.readString(o.length),u=new aF(m,o),f[N=o.nameID]==null&&(f[N]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e})(),rF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),oF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,i,o,l,u,d,f;for(t.pos=this.offset,this.metrics=[],s=0,d=this.file.hhea.numberOfMetrics;0<=d?s<d:s>d;s=0<=d?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,p;for(p=[],s=m=0;0<=o?m<o:m>o;s=0<=o?++m:--m)p.push(t.readInt16());return p})(),this.widths=(function(){var m,p,x,N;for(N=[],m=0,p=(x=this.metrics).length;m<p;m++)l=x[m],N.push(l.advance);return N}).call(this),i=this.widths[this.widths.length-1],f=[],s=u=0;0<=o?u<o:u>o;s=0<=o?++u:--u)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),JC=[].slice,lF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,i,o,l,u,d,f,m,p,x;return t in this.cache?this.cache[t]:(l=this.file.loca,s=this.file.contents,i=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+i,u=(d=new Pc(s.read(o))).readShort(),m=d.readShort(),x=d.readShort(),f=d.readShort(),p=d.readShort(),this.cache[t]=u===-1?new uF(d,m,x,f,p):new cF(d,u,m,x,f,p),this.cache[t]))},e.prototype.encode=function(t,s,i){var o,l,u,d,f;for(u=[],l=[],d=0,f=s.length;d<f;d++)o=t[s[d]],l.push(u.length),o&&(u=u.concat(o.encode(i)));return l.push(u.length),{table:u,offsets:l}},e})(),cF=(function(){function e(t,s,i,o,l,u){this.raw=t,this.numberOfContours=s,this.xMin=i,this.yMin=o,this.xMax=l,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),uF=(function(){function e(t,s,i,o,l){var u,d;for(this.raw=t,this.xMin=s,this.yMin=i,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&d;)u.pos+=1&d?4:2,128&d?u.pos+=8:64&d?u.pos+=4:8&d&&(u.pos+=2)}return e.prototype.encode=function(){var t,s,i;for(s=new Pc(JC.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)s.pos=this.glyphOffsets[t];return s.data},e})(),dF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,ho),e.prototype.tag="loca",e.prototype.parse=function(t){var s,i;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var i=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<i.length;++u)if(i[u]=o,l<s.length&&s[l]==u){++l,i[u]=o;var d=this.offsets[u],f=this.offsets[u+1]-d;f>0&&(o+=f)}for(var m=new Array(4*i.length),p=0;p<i.length;++p)m[4*p+3]=255&i[p],m[4*p+2]=(65280&i[p])>>8,m[4*p+1]=(16711680&i[p])>>16,m[4*p]=(4278190080&i[p])>>24;return m},e})(),fF=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,i,o,l;for(s in o=this.font.cmap.tables[0].codeMap,t={},l=this.subset)i=l[s],t[s]=o[i];return t},e.prototype.glyphsFor=function(t){var s,i,o,l,u,d,f;for(o={},u=0,d=t.length;u<d;u++)o[l=t[u]]=this.font.glyf.glyphFor(l);for(l in s=[],o)(i=o[l])!=null&&i.compound&&s.push.apply(s,i.glyphIDs);if(s.length>0)for(l in f=this.glyphsFor(s))i=f[l],o[l]=i;return o},e.prototype.encode=function(t,s){var i,o,l,u,d,f,m,p,x,N,y,C,M,S,j;for(o in i=QC.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),y={0:0},j=i.charMap)y[(f=j[o]).old]=f.new;for(C in N=i.maxGlyphID,u)C in y||(y[C]=N++);return p=(function(L){var R,D;for(R in D={},L)D[L[R]]=R;return D})(y),x=Object.keys(p).sort(function(L,R){return L-R}),M=(function(){var L,R,D;for(D=[],L=0,R=x.length;L<R;L++)d=x[L],D.push(p[d]);return D})(),l=this.font.glyf.encode(u,M,y),m=this.font.loca.encode(l.offsets,M),S={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e})();Tt.API.PDFObject=(function(){var e;function t(){}return e=function(s,i){return(Array(i+1).join("0")+s).slice(-i)},t.convert=function(s){var i,o,l,u;if(Array.isArray(s))return"["+(function(){var d,f,m;for(m=[],d=0,f=s.length;d<f;d++)i=s[d],m.push(t.convert(i));return m})().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(o in l=["<<"],s)u=s[o],l.push("/"+o+" "+t.convert(u));return l.push(">>"),l.join(`
`)}return""+s},t})();function hF({eco:e,workOrders:t,onBack:s,onCreateWorkOrder:i}){const o=e.impactedDocuments?Ph.filter(j=>e.impactedDocuments?.includes(j.id)):[],l=e.impactedComponents?Wo.filter(j=>e.impactedComponents?.includes(j.id)):[],u=e.impactedSettings?h2.filter(j=>e.impactedSettings?.includes(j.id)):[],d=t.filter(j=>j.linkedEventId===e.id||j.description.includes(e.number)),f=e.modSheet,{alerts:m}=qh(),p=T.useMemo(()=>m.filter(j=>j.relatedEcos?.includes(e.id)),[m,e.id]),x=j=>j?"Yes":"No",N=({label:j,value:L})=>n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-muted-foreground block",children:j}),n.jsx("span",{className:"text-sm font-medium text-foreground whitespace-pre-wrap",children:L&&L.length>0?L:""})]}),y=()=>{const j=new Tt,L=j.internal.pageSize.getWidth(),R=j.internal.pageSize.getHeight(),D=20,U=L-2*D;let G=D;const $=P=>G+P>R-D?(j.addPage(),G=D,!0):!1,B=(P,F,W=!1,te=0)=>{j.setFontSize(F),j.setFont("helvetica",W?"bold":"normal"),j.splitTextToSize(P,U-te).forEach(K=>{$(F*.5),j.text(K,D+te,G),G+=F*.5})};j.setFillColor(3,2,19),j.rect(0,0,L,40,"F"),j.setTextColor(255,255,255),j.setFontSize(20),j.setFont("helvetica","bold"),j.text("ENGINEERING CHANGE ORDER",L/2,15,{align:"center"}),j.setFontSize(14),j.text("Change Report",L/2,25,{align:"center"}),j.setFontSize(10),j.setFont("helvetica","normal"),j.text("THK-MOM Manufacturing Overview Model",L/2,33,{align:"center"}),G=50,j.setTextColor(0,0,0),j.setFillColor(240,240,245),j.rect(D,G,U,65,"F"),G+=8,j.setFontSize(12),j.setFont("helvetica","bold"),j.text("ECO Information",D+5,G),G+=8,j.setFontSize(10),j.setFont("helvetica","normal"),[["ECO Number:",e.number],["Title:",e.title],["Machine:",e.machineName],["Type:",e.type],["Status:",e.status.toUpperCase()],["Reason:",e.reason.toUpperCase()],["Submitted:",e.date],...e.effectiveFrom?[["Effective From:",e.effectiveFrom]]:[],["Requested By:",e.requestedBy||"N/A"]].forEach(([P,F])=>{j.setFont("helvetica","bold"),j.text(P,D+5,G),j.setFont("helvetica","normal"),j.text(F,D+50,G),G+=6}),G+=5,$(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("DESCRIPTION",D+3,G+6),G+=12,j.setTextColor(0,0,0),B(e.description,10,!1),G+=5,e.approvers&&e.approvers.length>0&&($(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("APPROVAL FLOW",D+3,G+6),G+=12,j.setTextColor(0,0,0),e.approvers.forEach((P,F)=>{$(10),B(`${F+1}. ${P}`,10,!1,3)}),G+=5),o.length+l.length+u.length>0&&($(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("IMPACTED ITEMS",D+3,G+6),G+=12,j.setTextColor(0,0,0),o.length>0&&(B(`Documents (${o.length}):`,10,!0),o.forEach((P,F)=>{$(15),B(`${F+1}. ${P.name}`,10,!1,5),B(`Type: ${P.type}, Version: ${P.version||"N/A"}`,9,!1,10)}),G+=3),l.length>0&&(B(`Components (${l.length}):`,10,!0),l.forEach((P,F)=>{$(20),B(`${F+1}. ${P.name}`,10,!1,5),B(`Type: ${P.type}, Criticality: ${P.criticality}`,9,!1,10),P.vendor&&B(`Vendor: ${P.vendor}`,9,!1,10),P.partNumber&&B(`Part #: ${P.partNumber}`,9,!1,10)}),G+=3),u.length>0&&(B(`Settings (${u.length}):`,10,!0),u.forEach((P,F)=>{$(15),B(`${F+1}. ${P.key}: ${P.value} ${P.unit||""}`,10,!1,5),B(`Category: ${P.category}`,9,!1,10)}),G+=3),G+=2),e.partsAssociated&&e.partsAssociated.length>0&&($(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("ASSOCIATED PARTS",D+3,G+6),G+=12,j.setTextColor(0,0,0),e.partsAssociated.forEach((P,F)=>{$(10),B(`${F+1}. ${P.partNumber} - Qty: ${P.qty}`,10,!1,3)}),G+=5),d.length>0&&($(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("RELATED WORK ORDERS",D+3,G+6),G+=12,j.setTextColor(0,0,0),d.forEach((P,F)=>{$(20),B(`${F+1}. ${P.id} - ${P.description}`,10,!1,3),B(`Status: ${P.status}, Priority: ${P.priority}`,9,!1,8),B(`Assignee: ${P.assignee}, Due: ${P.dueDate}`,9,!1,8)}),G+=5),e.rollbackPlan&&($(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("ROLLBACK PLAN",D+3,G+6),G+=12,j.setTextColor(0,0,0),B(e.rollbackPlan,10,!1),G+=5),e.attachments&&e.attachments.length>0&&($(20),j.setFillColor(3,2,19),j.rect(D,G,U,8,"F"),j.setTextColor(255,255,255),j.setFontSize(11),j.setFont("helvetica","bold"),j.text("ATTACHMENTS",D+3,G+6),G+=12,j.setTextColor(0,0,0),e.attachments.forEach((P,F)=>{$(10),B(`${F+1}. ${P}`,10,!1,3)}),G+=5);const V=j.getNumberOfPages();for(let P=1;P<=V;P++)j.setPage(P),j.setFontSize(8),j.setTextColor(128,128,128),j.setFont("helvetica","normal"),j.text(`Generated: ${new Date().toLocaleString()} | THK-MOM System | Page ${P} of ${V}`,L/2,R-10,{align:"center"});j.save(`${e.number}_Change_Report_${new Date().toISOString().split("T")[0]}.pdf`),vn.success("PDF report generated successfully",{description:`${e.number} report has been downloaded`})},C=j=>{const L={draft:"outline",review:"bg-amber-100 text-amber-800 border-amber-200",approved:"bg-green-100 text-green-800 border-green-200",effective:"default",closed:"secondary"};return n.jsx(Ve,{className:L[j],children:j.toUpperCase()})},M=j=>{const L={Software:"bg-blue-100 text-blue-800 border-blue-200",Hardware:"bg-purple-100 text-purple-800 border-purple-200",Process:"bg-green-100 text-green-800 border-green-200",Documentation:"bg-orange-100 text-orange-800 border-orange-200"};return n.jsx(Ve,{className:L[j],children:j})},S=j=>{const L={safety:"destructive",quality:"secondary",cost:"outline",capacity:"default"};return n.jsx(Ve,{variant:L[j],children:j.toUpperCase()})};return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"border-b border-border bg-background p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(Ue,{variant:"ghost",size:"sm",onClick:s,children:[n.jsx(Qp,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("h1",{children:e.number}),C(e.status),M(e.type),S(e.reason)]}),n.jsx("h3",{children:e.title}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qi,{className:"w-4 h-4"}),n.jsxs("span",{children:["Machine: ",n.jsx("span",{className:"text-foreground",children:e.machineName})]})]}),n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"w-4 h-4"}),n.jsxs("span",{children:["Requested by: ",n.jsx("span",{className:"text-foreground",children:e.requestedBy||"N/A"})]})]}),n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"w-4 h-4"}),n.jsxs("span",{children:["Submitted: ",n.jsx("span",{className:"text-foreground",children:e.date})]})]})]})]}),p.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Active Alerts"}),n.jsx("div",{className:"space-y-2",children:p.map(j=>n.jsx(m0,{alert:j},j.id))})]}),n.jsxs("div",{className:"flex gap-2",children:[e.status==="review"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ue,{size:"sm",children:[n.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Approve ECO"]}),n.jsxs(Ue,{size:"sm",variant:"outline",children:[n.jsx(FL,{className:"w-4 h-4 mr-2"}),"Reject ECO"]})]}),e.status==="approved"&&n.jsxs(Ue,{size:"sm",children:[n.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Mark as Effective"]}),n.jsxs(Ue,{size:"sm",variant:"outline",children:[n.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),n.jsxs(Ue,{size:"sm",variant:"outline",onClick:y,children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Generate Change Report"]})]})]})}),n.jsx(J2,{className:"flex-1",children:n.jsx("div",{className:"p-6",children:n.jsxs(qu,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Vu,{className:"mb-4",children:[n.jsx(Ln,{value:"overview",children:"Overview"}),n.jsxs(Ln,{value:"impacted",children:["Impacted Items",n.jsx(Ve,{variant:"secondary",className:"ml-2 text-xs",children:o.length+l.length+u.length})]}),n.jsx(Ln,{value:"approval",children:"Approval Flow"}),n.jsx(Ln,{value:"implementation",children:"Implementation"}),n.jsxs(Ln,{value:"attachments",children:["Attachments",n.jsx(Ve,{variant:"secondary",className:"ml-2 text-xs",children:e.attachments?.length||0})]}),n.jsx(Ln,{value:"modsheet",children:"Mod Sheet"})]}),n.jsxs(Dn,{value:"overview",className:"space-y-6",children:[n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Description"}),n.jsx("p",{className:"text-muted-foreground",children:e.description})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"ECO Details"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"ECO Number:"}),n.jsx("span",{children:e.number})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"Type:"}),M(e.type)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"Status:"}),C(e.status)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"Reason:"}),S(e.reason)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"Submitted:"}),n.jsx("span",{children:e.date})]}),e.effectiveFrom&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"Effective From:"}),n.jsx("span",{children:e.effectiveFrom})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground min-w-32",children:"Requested by:"}),n.jsx("span",{children:e.requestedBy||"N/A"})]})]})]}),n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Impact Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rn,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Impacted Documents"})]}),n.jsx(Ve,{variant:"secondary",children:o.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qi,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Impacted Components"})]}),n.jsx(Ve,{variant:"secondary",children:l.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rx,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Impacted Settings"})]}),n.jsx(Ve,{variant:"secondary",children:u.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qo,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Related Work Orders"})]}),n.jsx(Ve,{variant:"secondary",children:d.length})]})]})]})]}),e.rollbackPlan&&n.jsxs(Ie,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(xa,{className:"w-5 h-5 text-yellow-600"}),n.jsx("h3",{children:"Rollback Plan"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.rollbackPlan})]}),e.partsAssociated&&e.partsAssociated.length>0&&n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Associated Parts"}),n.jsx("div",{className:"space-y-2",children:e.partsAssociated.map((j,L)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg text-sm",children:[n.jsx("span",{children:j.partNumber}),n.jsxs(Ve,{variant:"outline",children:["Qty: ",j.qty]})]},L))})]})]}),n.jsx(Dn,{value:"modsheet",className:"space-y-6",children:f?n.jsxs(n.Fragment,{children:[n.jsxs(Ie,{className:"p-6 space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Requestor Section"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(N,{label:"Receipt No.",value:f.request.receiptNumber}),n.jsx(N,{label:"Date",value:f.request.date}),n.jsx(N,{label:"Machine Name",value:f.request.machineName}),n.jsx(N,{label:"Machine No.",value:f.request.machineNumber}),n.jsx(N,{label:"Park Link Rail Modification",value:x(f.request.parkLinkRailModification)}),n.jsx(N,{label:"Control Plan Update",value:x(f.request.controlPlanUpdate)}),n.jsx(N,{label:"PFMEA Update",value:x(f.request.pfmeaUpdate)}),n.jsx(N,{label:"Requested Due Date",value:f.request.requestedDueDate}),n.jsx(N,{label:"Requested By",value:f.request.requestedBy}),n.jsx(N,{label:"Confirmed By",value:f.request.confirmedBy})]})]}),n.jsxs(Ie,{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Mechanical"}),n.jsx(N,{label:"Description",value:f.engineering.mechanical.description}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(N,{label:"Print Number",value:f.engineering.mechanical.printNumber}),n.jsx(N,{label:"Design Location",value:f.engineering.mechanical.designLocation}),n.jsx(N,{label:"Install Location",value:f.engineering.mechanical.installLocation}),n.jsx(N,{label:"Test Type",value:f.engineering.mechanical.testType}),n.jsx(N,{label:"Consumables / Software",value:f.engineering.mechanical.consumablesOrSoftware}),n.jsx(N,{label:"Component Cost",value:f.engineering.mechanical.componentCost}),n.jsx(N,{label:"Notes",value:f.engineering.mechanical.additionalNotes})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Electrical"}),n.jsx(N,{label:"Description",value:f.engineering.electrical.description}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(N,{label:"Print Number",value:f.engineering.electrical.printNumber}),n.jsx(N,{label:"Design Location",value:f.engineering.electrical.designLocation}),n.jsx(N,{label:"Install Location",value:f.engineering.electrical.installLocation}),n.jsx(N,{label:"Test Type",value:f.engineering.electrical.testType}),n.jsx(N,{label:"PLC / Backup",value:f.engineering.electrical.consumablesOrSoftware}),n.jsx(N,{label:"Component Cost",value:f.engineering.electrical.componentCost}),n.jsx(N,{label:"Notes",value:f.engineering.electrical.additionalNotes})]})]})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx(N,{label:"Documentation / Notes",value:f.engineering.documentationNotes}),n.jsx(N,{label:"Total Cost",value:f.engineering.totalCost}),n.jsx(N,{label:"Hours",value:f.engineering.hours})]})]}),n.jsxs(Ie,{className:"p-6 space-y-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Approvals"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(N,{label:"Prepared By",value:f.approvals?.preparedBy}),n.jsx(N,{label:"Confirmed By",value:f.approvals?.confirmedBy}),n.jsx(N,{label:"Checked By",value:f.approvals?.checkedBy}),n.jsx(N,{label:"Engineer",value:f.approvals?.engineer}),n.jsx(N,{label:"Engineer Date",value:f.approvals?.engineerDate})]})]})]}):n.jsx(Ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No mod sheet details captured for this ECO."})})}),n.jsxs(Dn,{value:"impacted",className:"space-y-6",children:[o.length>0&&n.jsxs(Ie,{className:"p-6",children:[n.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[n.jsx(Rn,{className:"w-5 h-5"}),"Impacted Documents (",o.length,")"]}),n.jsx("div",{className:"space-y-2",children:o.map(j=>n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{children:j.name}),n.jsx(Ve,{variant:"outline",children:j.type})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Version: ",j.version||"N/A"]}),n.jsxs("span",{children:["Uploaded: ",j.uploadDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Eu,{className:"w-4 h-4"})})]})},j.id))})]}),l.length>0&&n.jsxs(Ie,{className:"p-6",children:[n.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[n.jsx(Qi,{className:"w-5 h-5"}),"Impacted Components (",l.length,")"]}),n.jsx("div",{className:"space-y-2",children:l.map(j=>n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{children:j.name}),n.jsx(Ve,{variant:"outline",children:j.type}),n.jsxs(Ve,{variant:j.criticality>=4?"destructive":"secondary",children:["Criticality ",j.criticality]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[j.vendor&&n.jsxs("span",{children:["Vendor: ",j.vendor]}),j.partNumber&&n.jsxs("span",{children:["P/N: ",j.partNumber]})]})]})})},j.id))})]}),u.length>0&&n.jsxs(Ie,{className:"p-6",children:[n.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[n.jsx(rx,{className:"w-5 h-5"}),"Impacted Settings (",u.length,")"]}),n.jsx("div",{className:"space-y-2",children:u.map(j=>n.jsx(Ie,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{children:j.key}),n.jsx(Ve,{variant:"outline",children:j.category})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Value:"}),n.jsxs("span",{children:[j.value," ",j.unit]})]})]})})},j.id))})]}),o.length===0&&l.length===0&&u.length===0&&n.jsx(Ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No impacted items specified for this ECO."})})]}),n.jsx(Dn,{value:"approval",className:"space-y-6",children:n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Approval Status"}),e.approvers&&e.approvers.length>0?n.jsx("div",{className:"space-y-3",children:e.approvers.map((j,L)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(kc,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{children:j}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})]}),n.jsxs(Ve,{variant:"secondary",children:[n.jsx(Xo,{className:"w-3 h-3 mr-1"}),"Pending"]})]},L))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No approvers assigned yet."})]})}),n.jsx(Dn,{value:"implementation",className:"space-y-6",children:d.length>0?n.jsxs(Ie,{className:"p-6",children:[n.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[n.jsx(qo,{className:"w-5 h-5"}),"Related Work Orders (",d.length,")"]}),n.jsx("div",{className:"space-y-2",children:d.map(j=>n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{children:j.id}),n.jsx(Ve,{variant:"outline",children:j.type}),n.jsx(Ve,{variant:j.priority==="critical"||j.priority==="high"?"destructive":"secondary",children:j.priority})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:j.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Assignee: ",j.assignee]}),n.jsxs("span",{children:["Due: ",j.dueDate]})]})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Eu,{className:"w-4 h-4"})})]})},j.id))})]}):n.jsxs(Ie,{className:"p-8 text-center",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"No work orders created for this ECO yet."}),n.jsxs(Ue,{onClick:()=>i?.(e),children:[n.jsx(qo,{className:"w-4 h-4 mr-2"}),"Create Implementation Work Order"]})]})}),n.jsx(Dn,{value:"attachments",className:"space-y-6",children:e.attachments&&e.attachments.length>0?n.jsx(Ie,{className:"p-6",children:n.jsx("div",{className:"space-y-2",children:e.attachments.map((j,L)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rn,{className:"w-5 h-5 text-muted-foreground"}),n.jsx("span",{children:j})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Ol,{className:"w-4 h-4"})})]},L))})}):n.jsxs(Ie,{className:"p-8 text-center",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"No attachments uploaded for this ECO."}),n.jsxs(Ue,{variant:"outline",children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Upload Attachment"]})]})})]})})})]})}function mF({workOrder:e,onBack:t}){const s=f=>"bg-muted text-foreground border-border",i=f=>f==="critical"?"bg-red-100 text-red-700 border-red-200":"bg-muted text-foreground border-border",o=f=>"bg-muted text-foreground border-border",{alerts:l}=qh(),u=T.useMemo(()=>l.filter(f=>f.relatedWorkOrders?.includes(e.id)),[l,e.id]),d=()=>{const f=new Tt;let m=20;const p=f.internal.pageSize.getWidth(),x=20,N=p-2*x,y=(j,L,R,D,U=10)=>{f.setFontSize(U);const G=f.splitTextToSize(j,D);return f.text(G,L,R),R+G.length*(U*.4)},C=j=>m+j>f.internal.pageSize.getHeight()-20?(f.addPage(),m=20,!0):!1;f.setFontSize(20),f.setFont("helvetica","bold"),f.text("Work Order Report",x,m),m+=10,f.setFontSize(12),f.setFont("helvetica","normal"),f.setTextColor(100,100,100),f.text(`Generated on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`,x,m),f.setTextColor(0,0,0),m+=15,f.setFillColor(240,240,245),f.rect(x,m-5,N,40,"F"),f.setFontSize(14),f.setFont("helvetica","bold"),f.text(e.id,x+5,m+3),f.setFontSize(10),f.setFont("helvetica","normal"),f.text(`Status: ${e.status.toUpperCase().replace("-"," ")}`,x+5,m+10),f.text(`Priority: ${e.priority.toUpperCase()}`,x+5,m+16),f.text(`Type: ${e.type}`,x+5,m+22),f.text(`Machine: ${e.machineName}`,x+5,m+28),m+=50,f.setFontSize(12),f.setFont("helvetica","bold"),f.text("Description",x,m),m+=7,f.setFont("helvetica","normal"),f.setFontSize(10),m=y(e.description,x,m,N),m+=10,C(40),f.setFontSize(12),f.setFont("helvetica","bold"),f.text("Work Order Details",x,m),m+=7,f.setFontSize(10),f.setFont("helvetica","normal");const M=[["Work Order ID:",e.id],["Machine:",e.machineName],["Type:",e.type],["Priority:",e.priority],["Status:",e.status.replace("-"," ")],["Due Date:",new Date(e.dueDate).toLocaleDateString()],["Requested By:",e.requestedBy||"N/A"],["Assignee:",e.assignee||"Unassigned"]];if(e.completedDate&&M.push(["Completed Date:",new Date(e.completedDate).toLocaleDateString()]),e.verifiedBy&&M.push(["Verified By:",e.verifiedBy]),e.laborHours&&M.push(["Labor Hours:",`${e.laborHours} hours`]),M.forEach(([j,L])=>{C(8),f.setFont("helvetica","bold"),f.text(j,x,m),f.setFont("helvetica","normal"),f.text(L,x+50,m),m+=6}),m+=5,e.tasks&&e.tasks.length>0){C(30),f.setFontSize(12),f.setFont("helvetica","bold"),f.text("Task Checklist",x,m),m+=7;const j=e.tasks.filter(D=>D.status==="pass").length,L=e.tasks.filter(D=>D.status==="fail").length,R=e.tasks.filter(D=>D.status==="pending").length;f.setFontSize(9),f.setFont("helvetica","normal"),f.text(`Total Tasks: ${e.tasks.length} | Passed: ${j} | Failed: ${L} | Pending: ${R}`,x,m),m+=10,e.tasks.forEach((D,U)=>{C(20),f.setFont("helvetica","bold"),f.setFontSize(9),D.status==="pass"?(f.setFillColor(34,197,94),f.circle(x+2,m-1,1.5,"F")):D.status==="fail"?(f.setFillColor(239,68,68),f.circle(x+2,m-1,1.5,"F")):(f.setFillColor(234,179,8),f.circle(x+2,m-1,1.5,"F")),f.setTextColor(0,0,0),f.text(`${U+1}.`,x+6,m),f.setFont("helvetica","normal");const G=D.description,$=f.splitTextToSize(G,N-15);f.text($,x+12,m),m+=$.length*4,D.notes&&(f.setFontSize(8),f.setTextColor(100,100,100),f.text("Note: "+D.notes,x+12,m),f.setTextColor(0,0,0),m+=4),f.setFontSize(9),m+=3}),m+=5}e.partsUsed&&e.partsUsed.length>0&&(C(30),f.setFontSize(12),f.setFont("helvetica","bold"),f.text("Parts Used",x,m),m+=10,f.setFillColor(240,240,245),f.rect(x,m-5,N,8,"F"),f.setFontSize(9),f.setFont("helvetica","bold"),f.text("Part Number",x+2,m),f.text("Qty",x+80,m),f.text("Lot",x+110,m),m+=5,f.setFont("helvetica","normal"),e.partsUsed.forEach(j=>{C(8),f.text(j.partNumber,x+2,m),f.text(String(j.qty),x+80,m),f.text(j.lot||"N/A",x+110,m),m+=6}),m+=5),e.evidence&&e.evidence.length>0&&(C(30),f.setFontSize(12),f.setFont("helvetica","bold"),f.text("Evidence & Attachments",x,m),m+=10,f.setFontSize(9),f.setFont("helvetica","normal"),e.evidence.forEach((j,L)=>{C(8),f.text(`${L+1}. ${j}`,x+2,m),m+=6}),m+=5),(e.linkedEventId||e.linkedComponentId||e.rcaId)&&(C(30),f.setFontSize(12),f.setFont("helvetica","bold"),f.text("Linked Items",x,m),m+=10,f.setFontSize(9),f.setFont("helvetica","normal"),e.linkedEventId&&(f.text(`Linked Event: ${e.linkedEventId}`,x+2,m),m+=6),e.linkedComponentId&&(f.text(`Linked Component: ${e.linkedComponentId}`,x+2,m),m+=6),e.rcaId&&(f.text(`Root Cause Analysis: ${e.rcaId}`,x+2,m),m+=6));const S=f.getNumberOfPages();for(let j=1;j<=S;j++)f.setPage(j),f.setFontSize(8),f.setTextColor(150,150,150),f.text(`Page ${j} of ${S}`,p/2,f.internal.pageSize.getHeight()-10,{align:"center"}),f.text("THK-MOM - Manufacturing Overview Model",x,f.internal.pageSize.getHeight()-10),f.setTextColor(0,0,0);f.save(`Work_Order_${e.id}_Report.pdf`),vn.success("PDF report generated successfully")};return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"border-b border-border bg-background p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(Ue,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Qp,{className:"w-4 h-4 mr-2 text-muted-foreground"}),"Back to Dashboard"]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("h1",{children:e.id}),n.jsx(Ve,{variant:"outline",className:s(e.status),children:e.status==="in-progress"?"IN PROGRESS":e.status==="awaiting-parts"?"AWAITING PARTS":e.status.toUpperCase().replace("-"," ")}),n.jsx(Ve,{variant:"outline",className:i(e.priority),children:e.priority.toUpperCase()}),n.jsx(Ve,{variant:"outline",className:o(e.type),children:e.type})]}),n.jsx("h3",{children:e.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qi,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Machine: ",n.jsx("span",{className:"text-foreground",children:e.machineName})]})]}),n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Assignee: ",n.jsx("span",{className:"text-foreground",children:e.assignee||"Unassigned"})]})]}),n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Due: ",n.jsx("span",{className:"text-foreground",children:new Date(e.dueDate).toLocaleDateString()})]})]}),e.requestedBy&&n.jsxs(n.Fragment,{children:[n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"w-4 h-4"}),n.jsxs("span",{children:["Requested by: ",n.jsx("span",{className:"text-foreground",children:e.requestedBy})]})]})]})]})]}),u.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Active Alerts"}),n.jsx("div",{className:"space-y-2",children:u.map(f=>n.jsx(m0,{alert:f},f.id))})]}),n.jsxs("div",{className:"flex gap-2",children:[e.status==="open"&&n.jsxs(Ue,{size:"sm",children:[n.jsx(Bh,{className:"w-4 h-4 mr-2"}),"Start Work"]}),e.status==="in-progress"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ue,{size:"sm",children:[n.jsx(tf,{className:"w-4 h-4 mr-2"}),"Complete Work Order"]}),n.jsxs(Ue,{size:"sm",variant:"outline",children:[n.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Log Time"]})]}),n.jsxs(Ue,{size:"sm",variant:"outline",onClick:d,children:[n.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Generate Report"]}),n.jsxs(Ue,{size:"sm",variant:"outline",children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Add Notes"]})]})]})}),n.jsx(J2,{className:"flex-1",children:n.jsx("div",{className:"p-6",children:n.jsxs(qu,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Vu,{className:"mb-4",children:[n.jsx(Ln,{value:"overview",children:"Overview"}),n.jsxs(Ln,{value:"tasks",children:["Tasks",e.tasks&&e.tasks.length>0&&n.jsx(Ve,{variant:"secondary",className:"ml-2 text-xs",children:e.tasks.length})]}),e.partsUsed&&e.partsUsed.length>0&&n.jsxs(Ln,{value:"parts",children:["Parts Used",n.jsx(Ve,{variant:"secondary",className:"ml-2 text-xs",children:e.partsUsed.length})]}),n.jsx(Ln,{value:"timeline",children:"Timeline"}),n.jsx(Ln,{value:"related",children:"Related Items"})]}),n.jsxs(Dn,{value:"overview",className:"space-y-6",children:[n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Work Order Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Description"}),n.jsx("p",{children:e.description})]}),n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Work Order ID"}),n.jsx("p",{children:e.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Type"}),n.jsx("p",{children:e.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Priority"}),n.jsx("p",{className:"capitalize",children:e.priority})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),n.jsx("p",{className:"capitalize",children:e.status.replace("-"," ")})]})]}),e.laborHours&&n.jsxs(n.Fragment,{children:[n.jsx(hn,{}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Labor Hours"}),n.jsxs("p",{children:[e.laborHours," hours"]})]})]}),e.completedDate&&n.jsxs(n.Fragment,{children:[n.jsx(hn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Completed Date"}),n.jsx("p",{children:new Date(e.completedDate).toLocaleDateString()})]}),e.verifiedBy&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Verified By"}),n.jsx("p",{children:e.verifiedBy})]})]})]})]})]}),e.evidence&&e.evidence.length>0&&n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Evidence"}),n.jsx("div",{className:"space-y-2",children:e.evidence.map((f,m)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[n.jsx(Ep,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"flex-1",children:f})]},m))})]})]}),n.jsx(Dn,{value:"tasks",className:"space-y-4",children:e.tasks&&e.tasks.length>0?e.tasks.map((f,m)=>n.jsx(Ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.status==="pass"&&n.jsx(tf,{className:"w-5 h-5 text-green-500"}),f.status==="fail"&&n.jsx(er,{className:"w-5 h-5 text-red-500"}),f.status==="pending"&&n.jsx(Xo,{className:"w-5 h-5 text-yellow-500"}),n.jsx("h4",{children:f.description})]}),f.notes&&n.jsx("p",{className:"text-muted-foreground mt-2",children:f.notes})]}),n.jsx(Ve,{variant:"outline",className:f.status==="pass"?"bg-green-100 text-green-700 border-green-200":f.status==="fail"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200",children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]})},m)):n.jsxs(Ie,{className:"p-12 text-center",children:[n.jsx(qo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"mb-2",children:"No Tasks"}),n.jsx("p",{className:"text-muted-foreground",children:"No tasks have been added to this work order yet."})]})}),n.jsx(Dn,{value:"parts",children:e.partsUsed&&e.partsUsed.length>0?n.jsx("div",{className:"space-y-4",children:e.partsUsed.map((f,m)=>n.jsx(Ie,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Part Number"}),n.jsx("p",{children:f.partNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quantity"}),n.jsx("p",{children:f.qty})]}),f.lot&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Lot"}),n.jsx("p",{children:f.lot})]})]})},m))}):n.jsxs(Ie,{className:"p-12 text-center",children:[n.jsx(Ep,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"mb-2",children:"No Parts Used"}),n.jsx("p",{className:"text-muted-foreground",children:"No parts have been recorded for this work order."})]})}),n.jsx(Dn,{value:"timeline",children:n.jsx(Ie,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 border-2 border-blue-300 flex items-center justify-center",children:n.jsx(Rn,{className:"w-4 h-4 text-blue-500"})}),n.jsx("div",{className:"w-0.5 h-full bg-border mt-2"})]}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsx("p",{className:"mb-1",children:"Work order created"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["By ",e.requestedBy||"Unknown"]})]})]}),e.assignee&&n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 border-2 border-purple-300 flex items-center justify-center",children:n.jsx(kc,{className:"w-4 h-4 text-purple-500"})}),n.jsx("div",{className:"w-0.5 h-full bg-border mt-2"})]}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("p",{className:"mb-1",children:["Assigned to ",e.assignee]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status changed to ",e.status]})]})]}),e.completedDate&&n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex flex-col items-center",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 border-2 border-green-300 flex items-center justify-center",children:n.jsx(tf,{className:"w-4 h-4 text-green-500"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"mb-1",children:"Work order completed"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(e.completedDate).toLocaleDateString(),e.verifiedBy&&`  Verified by ${e.verifiedBy}`]})]})]})]})})}),n.jsx(Dn,{value:"related",className:"space-y-6",children:n.jsxs(Ie,{className:"p-6",children:[n.jsx("h3",{className:"mb-4",children:"Linked Items"}),n.jsxs("div",{className:"space-y-4",children:[e.linkedEventId&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[n.jsx(er,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Linked Event"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:e.linkedEventId})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(qm,{className:"w-4 h-4"})})]}),e.linkedComponentId&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[n.jsx(Rn,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Linked Component"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:e.linkedComponentId})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(qm,{className:"w-4 h-4"})})]}),e.rcaId&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[n.jsx(Rn,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:"Root Cause Analysis"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:e.rcaId})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(qm,{className:"w-4 h-4"})})]}),!e.linkedEventId&&!e.linkedComponentId&&!e.rcaId&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(qm,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No linked items"})]})]})]})})]})})})]})}function pF({order:e,onBack:t}){const[s,i]=T.useState(e),[o,l]=T.useState([]),[u,d]=T.useState([]),[f,m]=T.useState(!0),{alerts:p}=qh(),x=T.useMemo(()=>p.filter(L=>L.relatedShippingOrders?.includes(s.id)),[p,s.id]);T.useEffect(()=>{N()},[e.id]);async function N(){m(!0);try{const[L,R,D]=await Promise.all([Kp(),X4(),W4()]),U=L.find(G=>G.id===e.id);U&&i(U),l(R.filter(G=>G.requiredForOrderId===e.id)),d(D.filter(G=>(G.orderIds||[]).includes(e.id)))}finally{m(!1)}}const y=T.useMemo(()=>{const L=s.items.reduce((U,G)=>U+G.qty,0),R=s.items.reduce((U,G)=>U+(G.readyQty??0),0),D=Math.round(R/Math.max(L,1)*100);return{totalQty:L,totalReady:R,readyPct:D}},[s]),C=T.useMemo(()=>{const L=o.every(D=>D.status==="ready"),R=o.some(D=>D.status==="short");return L?"ready":R?"short":"partial"},[o]);async function M(){await Z4(s.id),await N()}async function S(){await $4(s.id),await N()}async function j(L,R=1){await Y4(s.id,L,R),await N()}return f?n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading order"})}):n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"border-b border-border bg-background p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(Ue,{variant:"ghost",size:"sm",onClick:t,children:[n.jsx(Qp,{className:"w-4 h-4 mr-2"})," Back to Shipping"]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("h1",{children:s.orderNumber}),n.jsx(Ve,{variant:"outline",children:s.status}),n.jsx(Ve,{variant:"secondary",children:s.priority}),C==="ready"&&n.jsxs(Ve,{className:"bg-green-100 text-green-800",variant:"secondary",children:[n.jsx(tf,{className:"w-3 h-3 mr-1"})," Ready"]}),C==="short"&&n.jsxs(Ve,{className:"bg-red-100 text-red-800",variant:"secondary",children:[n.jsx(er,{className:"w-3 h-3 mr-1"})," Short"]}),C==="partial"&&n.jsxs(Ve,{className:"bg-blue-100 text-blue-800",variant:"secondary",children:[n.jsx(Xo,{className:"w-3 h-3 mr-1"})," Partial"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qi,{className:"w-4 h-4"}),n.jsxs("span",{children:["Customer: ",n.jsx("span",{className:"text-foreground",children:s.customer})]})]}),n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kc,{className:"w-4 h-4"}),n.jsxs("span",{children:["Assigned: ",n.jsx("span",{className:"text-foreground",children:s.assignedTo||"Unassigned"})]})]}),n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zu,{className:"w-4 h-4"}),n.jsxs("span",{children:["Due: ",n.jsx("span",{className:"text-foreground",children:s.dueDate})]})]}),s.packedAt&&n.jsxs(n.Fragment,{children:[n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mp,{className:"w-4 h-4"}),n.jsxs("span",{children:["Packed: ",n.jsx("span",{className:"text-foreground",children:new Date(s.packedAt).toLocaleString()})]})]})]}),s.shippedAt&&n.jsxs(n.Fragment,{children:[n.jsx(hn,{orientation:"vertical",className:"h-4"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ix,{className:"w-4 h-4"}),n.jsxs("span",{children:["Shipped: ",n.jsx("span",{className:"text-foreground",children:new Date(s.shippedAt).toLocaleString()})]})]})]})]})]}),x.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Active Alerts"}),n.jsx("div",{className:"space-y-2",children:x.map(L=>n.jsx(m0,{alert:L},L.id))})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ue,{size:"sm",variant:"outline",disabled:s.status!=="picking"&&s.status!=="pending",onClick:M,children:[n.jsx(Mp,{className:"w-4 h-4 mr-2"})," Mark Packed"]}),n.jsxs(Ue,{size:"sm",variant:"secondary",disabled:s.status!=="packed",onClick:S,children:[n.jsx(ix,{className:"w-4 h-4 mr-2"})," Mark Shipped"]})]})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Summary"}),n.jsxs("div",{className:"text-sm",children:["Ready: ",n.jsxs("span",{className:"font-medium",children:[y.totalReady,"/",y.totalQty]})," (",y.readyPct,"%)"]})]})}),n.jsxs(qu,{defaultValue:"items",className:"w-full",children:[n.jsxs(Vu,{children:[n.jsx(Ln,{value:"items",children:"Items"}),n.jsx(Ln,{value:"parts",children:"Parts"}),n.jsx(Ln,{value:"deliveries",children:"Deliveries"})]}),n.jsx(Dn,{value:"items",className:"mt-3",children:n.jsx(Ie,{className:"p-3",children:n.jsx("div",{className:"grid gap-2",children:s.items.map(L=>n.jsxs("div",{className:"text-sm flex items-center justify-between border rounded-md p-2 bg-muted",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:L.sku}),n.jsx("div",{className:"text-xs text-muted-foreground",children:L.description})]}),n.jsxs("div",{className:"text-xs flex items-center gap-2",children:[n.jsxs("span",{children:[L.readyQty??0,"/",L.qty," ready"]}),n.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>j(L.sku,1),children:"Allocate 1"})]})]},L.sku))})})}),n.jsx(Dn,{value:"parts",className:"mt-3",children:n.jsx(Ie,{className:"p-3",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[o.map(L=>n.jsxs("div",{className:`text-sm flex items-center justify-between border rounded-md p-2 ${L.status==="ready"?"text-green-700 bg-green-50 border-green-200":L.status==="short"?"text-red-700 bg-red-50 border-red-200":"text-blue-700 bg-blue-50 border-blue-200"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:L.partNumber}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[L.description,"  ",L.location]})]}),n.jsxs("div",{className:"text-xs",children:[L.availableQty,"/",L.requiredQty," available"]})]},L.id)),o.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No parts tracked for this order."})]})})}),n.jsx(Dn,{value:"deliveries",className:"mt-3",children:n.jsx(Ie,{className:"p-3",children:n.jsxs("div",{className:"grid gap-2",children:[u.map(L=>n.jsxs(Ie,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y2,{className:"w-4 h-4"}),n.jsxs("div",{className:"font-medium",children:[L.carrier,"  ",L.reference]})]}),n.jsx(Ve,{variant:"outline",children:L.status})]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[L.scheduledDate,"  ",L.windowStart,"-",L.windowEnd,"  Dock ",L.dock]})]},L.id)),u.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No deliveries linked to this order."})]})})})]})]})]})}const gF=({...e})=>{const[t,s]=T.useState("system");return T.useEffect(()=>{const i=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;s(i?"dark":"light")},[]),n.jsx(VP,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function xF({machine:e,isOpen:t,onClose:s,onViewFullDetails:i,onUploadDocument:o,onAddNote:l,onLogEvent:u,onCreateWorkOrder:d}){const[f,m]=T.useState([]),[p,x]=T.useState([]),[N,y]=T.useState([]),[C,M]=T.useState(""),[S,j]=T.useState(null),[L,R]=T.useState(!1),[D,U]=T.useState("active"),[G,$]=T.useState(""),[B,Y]=T.useState(null),[fe,V]=T.useState(e?.status??"active"),[P,F]=T.useState(e?.downReason),W=T.useCallback(async()=>{if(e)try{const[K,H,ue]=await Promise.all([$p(),Bc(),Ul()]);m(K.filter(ae=>ae.machineId===e.id).slice(0,5)),x(H.filter(ae=>ae.machineId===e.id&&ae.status!=="completed")),y(ue.filter(ae=>ae.machineId===e.id).slice(0,3))}catch(K){console.error("Error loading machine data:",K)}},[e]);if(T.useEffect(()=>{e&&t&&W()},[e,t,W]),T.useEffect(()=>{e&&(V(e.status),F(e.downReason),U(e.status),$(e.downReason||""))},[e]),!t||!e)return null;const te=K=>{switch(K){case"active":return"bg-green-600 text-white";case"down":return"bg-red-600 text-white";case"maintenance":return"bg-blue-600 text-white";default:return"bg-muted text-foreground"}},z=K=>{switch(K){case"high":return"destructive";case"medium":return"secondary";default:return"outline"}};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-card border-l-2 border shadow-xl z-50 flex flex-col max-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-muted",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.type})]}),n.jsx(Ue,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(Sr,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 overscroll-contain",children:n.jsxs("div",{className:"p-6 space-y-6 pb-8",style:{WebkitOverflowScrolling:"touch"},children:[n.jsxs(Ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:"Machine Summary"}),n.jsxs(Ve,{className:te(fe),children:[n.jsx(Bh,{className:"h-3 w-3 mr-1"}),fe.charAt(0).toUpperCase()+fe.slice(1)]})]}),fe==="down"&&P&&n.jsxs("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded mb-4",children:[n.jsx(xa,{className:"h-4 w-4 inline mr-2"}),P]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Machine ID:"}),n.jsx("span",{className:"font-medium",children:e.id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"OEM:"}),n.jsx("span",{className:"font-medium",children:e.oem||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Controller:"}),n.jsx("span",{className:"font-medium",children:e.controller||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category:"}),n.jsx("span",{className:"font-medium",children:e.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Criticality:"}),n.jsx(Ve,{variant:z(e.criticality),children:e.criticality||"Low"})]}),e.commissionedDate&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Commissioned:"}),n.jsx("span",{className:"font-medium",children:e.commissionedDate})]})]})]}),e.todayTarget&&n.jsxs(Ie,{className:"p-4",children:[n.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center",children:[n.jsx(v2,{className:"h-4 w-4 mr-2"}),"Today's Production"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target:"}),n.jsx("span",{className:"font-medium",children:e.todayTarget})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Actual:"}),n.jsx("span",{className:"font-medium",children:e.todayActual||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Scrap:"}),n.jsx("span",{className:"font-medium",children:e.todayScrap||0})]}),e.todayTarget&&n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[Math.round((e.todayActual||0)/e.todayTarget*100),"%"]})]}),n.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((e.todayActual||0)/e.todayTarget*100,100)}%`}})})]})]})]}),(e.oee||e.mtbf||e.mttr)&&n.jsxs(Ie,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Performance"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[e.oee&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"OEE:"}),n.jsxs("span",{className:"font-medium",children:[e.oee,"%"]})]}),e.mtbf&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"MTBF:"}),n.jsxs("span",{className:"font-medium",children:[e.mtbf,"h"]})]}),e.mttr&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"MTTR:"}),n.jsxs("span",{className:"font-medium",children:[e.mttr,"h"]})]})]})]}),n.jsxs(Ie,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h3",{className:"font-semibold text-foreground flex items-center",children:[n.jsx(xL,{className:"w-4 h-4 mr-2 text-primary"}),"e-Andon"]})}),S?n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm",children:[C," help requested"]}),n.jsxs(Ve,{variant:"secondary",className:"flex items-center gap-1",children:[n.jsx(vD,{className:"w-3 h-3"}),n.jsx(vF,{start:S})]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("select",{className:"w-full border rounded px-2 py-1 text-sm",value:C,onChange:K=>M(K.target.value),children:[n.jsx("option",{value:"",children:"Select reason"}),n.jsx("option",{value:"Quality",children:"Quality"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"}),n.jsx("option",{value:"Safety",children:"Safety"}),n.jsx("option",{value:"Supply",children:"Supply"})]}),n.jsx(Ue,{size:"sm",disabled:!C,onClick:()=>{j(Date.now())},children:"Call Help"})]})]}),n.jsxs(Ie,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h3",{className:"font-semibold text-foreground flex items-center",children:[n.jsx(tr,{className:"w-4 h-4 mr-2"}),"Open Issues (",p.length,")"]})}),n.jsx("div",{className:"max-h-48 overflow-y-auto",children:p.length>0?n.jsx("div",{className:"space-y-2 pr-2",children:p.map(K=>n.jsxs("div",{className:"border rounded-lg p-3 bg-muted",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium",children:K.id}),n.jsx(Ve,{variant:K.type==="Emergency"?"destructive":"secondary",children:K.type})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:K.description}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due: ",K.dueDate]}),n.jsx(Ve,{variant:"outline",className:"text-xs",children:K.status})]})]},K.id))}):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No open issues"})})]}),n.jsxs(Ie,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h3",{className:"font-semibold text-foreground flex items-center",children:[n.jsx(Rn,{className:"w-4 h-4 mr-2 text-primary"}),"Recent Documents"]})}),f.length>0?n.jsx("div",{className:"space-y-2",children:f.map(K=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2 mb-1",children:n.jsx(Ve,{variant:"outline",className:"text-xs",children:K.type})}),n.jsx("p",{className:"text-sm truncate",children:K.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:K.uploadDate})]}),n.jsx(Ue,{variant:"ghost",size:"sm",children:n.jsx(Ol,{className:"w-3 h-3"})})]},K.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No documents available"})]}),N.length>0&&n.jsxs(Ie,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h3",{className:"font-semibold text-foreground flex items-center",children:[n.jsx(bf,{className:"w-4 h-4 mr-2 text-primary"}),"Recent Changes"]})}),n.jsx("div",{className:"space-y-2",children:N.map(K=>n.jsxs("div",{className:"border rounded p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium",children:K.number}),n.jsx(Ve,{variant:K.status==="approved"?"default":"secondary",children:K.status})]}),n.jsx("p",{className:"text-xs text-gray-600",children:K.description}),n.jsx("p",{className:"text-xs text-gray-500",children:K.date})]},K.id))})]}),n.jsxs(Ie,{className:"p-4",children:[n.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center",children:[n.jsx(zu,{className:"h-4 w-4 mr-2"}),"Last Backup"]}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Date:"}),n.jsx("span",{className:"font-medium",children:e.lastBackup||"Never"})]}),e.lastBackup&&e.lastBackup!=="N/A"&&n.jsx("div",{className:"mt-2 text-xs text-green-600 bg-green-50 p-2 rounded",children:"Backup is up to date"}),(!e.lastBackup||e.lastBackup==="N/A")&&n.jsx("div",{className:"mt-2 text-xs text-blue-600 bg-blue-50 p-2 rounded",children:"No backup found - consider creating one"})]})]})]})}),n.jsxs("div",{className:"border-t bg-muted p-4 space-y-3",children:[n.jsxs(Ue,{onClick:()=>e&&i(e),className:"w-full",variant:"default",children:[n.jsx(Eu,{className:"h-4 w-4 mr-2"}),"View Full Details"]}),n.jsx(Ue,{onClick:()=>R(!0),className:"w-full",variant:"outline",children:"Change Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(Ue,{onClick:o,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(Jp,{className:"h-4 w-4"}),"Upload"]}),n.jsxs(Ue,{onClick:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(Rn,{className:"h-4 w-4"}),"Note"]}),n.jsxs(Ue,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(xa,{className:"h-4 w-4"}),"Event"]}),n.jsxs(Ue,{onClick:d,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(qo,{className:"h-4 w-4"}),"Work Order"]})]})]})]}),n.jsx(Ha,{open:L,onOpenChange:R,children:n.jsxs(Ma,{children:[n.jsx(Fa,{children:n.jsx(za,{children:"Change Machine Status"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Status"}),n.jsxs("select",{className:"w-full border rounded px-2 py-1 text-sm",value:D,onChange:K=>U(K.target.value),children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"down",children:"Down"})]})]}),D==="down"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Downtime Reason (required)"}),n.jsx("textarea",{className:"w-full border rounded px-2 py-1 text-sm",rows:3,value:G,onChange:K=>$(K.target.value)})]}),B&&n.jsx("div",{className:"text-sm text-red-600",children:B})]}),n.jsxs(Uu,{children:[n.jsx(Ue,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),n.jsx(Ue,{onClick:async()=>{Y(null);try{if(!e)return;const K={status:D};D==="down"&&(K.downReason=G.trim());const H=await q4(e.id,K);V(H.status),F(H.downReason),R(!1)}catch(K){let H="Failed to update status";if(K instanceof Error)H=K.message;else if(typeof K=="object"&&K&&"message"in K){const ue=K.message;typeof ue=="string"&&(H=ue)}Y(H)}},children:"Save"})]})]})})]})}function vF({start:e}){const[t,s]=T.useState(0);T.useEffect(()=>{if(!e)return;const d=setInterval(()=>{s(Date.now()-e)},1e3);return()=>clearInterval(d)},[e]);const i=Math.floor(t/1e3)%60,o=Math.floor(t/(1e3*60))%60,u=[Math.floor(t/(1e3*60*60)),o,i].map(d=>String(d).padStart(2,"0")).join(":");return n.jsx("span",{className:"tabular-nums",children:u})}const ga=[{id:"CNC001-T12",machineId:"CNC001",machineName:"CNC Cutter 1",haasToolNumber:"T12",description:"10 carbide rougher",operationCode:"OP20",materialGroup:"4140",currentLifeLimitMin:80,currentWarningMin:72,kFactor:2,taylorC:9500,taylorN:3.1,nominalSpeedSfm:450,manufacturerSpecMin:70,lastUpdated:"2025-10-05"},{id:"CNC001-T10",machineId:"CNC001",machineName:"CNC Cutter 1",haasToolNumber:"T10",description:"12 finisher - 5F",operationCode:"OP25",materialGroup:"4140",currentLifeLimitMin:95,currentWarningMin:86,kFactor:1.9,taylorC:11e3,taylorN:2.9,nominalSpeedSfm:520,manufacturerSpecMin:90,lastUpdated:"2025-10-05"},{id:"CNC001-T21",machineId:"CNC001",machineName:"CNC Cutter 1",haasToolNumber:"T21",description:"6 cobalt drill",operationCode:"DR20",materialGroup:"4140",currentLifeLimitMin:65,currentWarningMin:58,kFactor:1.6,taylorC:8200,taylorN:3,nominalSpeedSfm:250,manufacturerSpecMin:60,lastUpdated:"2025-10-04"},{id:"CNC002-T08",machineId:"CNC002",machineName:"CNC Cutter 2",haasToolNumber:"T08",description:"8 finisher - 4F",operationCode:"OP40",materialGroup:"A6061",currentLifeLimitMin:95,currentWarningMin:86,kFactor:1.8,taylorC:6e5,taylorN:1.4,nominalSpeedSfm:1200,manufacturerSpecMin:85,lastUpdated:"2025-10-06"},{id:"CNC002-T04",machineId:"CNC002",machineName:"CNC Cutter 2",haasToolNumber:"T04",description:"6 chamfer mill",operationCode:"OP35",materialGroup:"A6061",currentLifeLimitMin:140,currentWarningMin:126,kFactor:1.6,taylorC:9e5,taylorN:1.6,nominalSpeedSfm:1100,manufacturerSpecMin:130,lastUpdated:"2025-10-06"},{id:"CNC002-T16",machineId:"CNC002",machineName:"CNC Cutter 2",haasToolNumber:"T16",description:"10 ball - finishing",operationCode:"OP45",materialGroup:"A6061",currentLifeLimitMin:120,currentWarningMin:108,kFactor:1.7,taylorC:75e4,taylorN:1.5,nominalSpeedSfm:1150,manufacturerSpecMin:110,lastUpdated:"2025-10-06"},{id:"DRL001-T18",machineId:"DRL001",machineName:"Drill Cell 1",haasToolNumber:"T18",description:"6 cobalt drill",operationCode:"OP15",materialGroup:"4140",currentLifeLimitMin:65,currentWarningMin:58,kFactor:1.6,taylorC:8200,taylorN:3,nominalSpeedSfm:250,manufacturerSpecMin:55,lastUpdated:"2025-10-04"},{id:"DRL001-T20",machineId:"DRL001",machineName:"Drill Cell 1",haasToolNumber:"T20",description:"8 TiAlN drill",operationCode:"OP18",materialGroup:"4140",currentLifeLimitMin:70,currentWarningMin:63,kFactor:1.7,taylorC:9e3,taylorN:2.8,nominalSpeedSfm:230,manufacturerSpecMin:60,lastUpdated:"2025-10-04"},{id:"DRL001-T05",machineId:"DRL001",machineName:"Drill Cell 1",haasToolNumber:"T05",description:"4 coolant-through drill",operationCode:"OP12",materialGroup:"4140",currentLifeLimitMin:80,currentWarningMin:72,kFactor:1.8,taylorC:9500,taylorN:2.7,nominalSpeedSfm:280,manufacturerSpecMin:70,lastUpdated:"2025-10-04"},{id:"BG001-T07",machineId:"BG001",machineName:"Block Grinder 1",haasToolNumber:"T07",description:"Wheel set - finish side",operationCode:"GRD50",materialGroup:"Bearing steel",currentLifeLimitMin:75,currentWarningMin:68,kFactor:2,taylorC:6e3,taylorN:2.4,nominalSpeedSfm:6e3,manufacturerSpecMin:60,lastUpdated:"2025-10-02"},{id:"BG001-T09",machineId:"BG001",machineName:"Block Grinder 1",haasToolNumber:"T09",description:"Wheel set - rough side",operationCode:"GRD30",materialGroup:"Bearing steel",currentLifeLimitMin:55,currentWarningMin:50,kFactor:2.2,taylorC:4800,taylorN:2.3,nominalSpeedSfm:5800,manufacturerSpecMin:50,lastUpdated:"2025-10-02"},{id:"BG001-T03",machineId:"BG001",machineName:"Block Grinder 1",haasToolNumber:"T03",description:"Polish wheel",operationCode:"GRD70",materialGroup:"Bearing steel",currentLifeLimitMin:90,currentWarningMin:81,kFactor:1.9,taylorC:7200,taylorN:2.5,nominalSpeedSfm:6100,manufacturerSpecMin:85,lastUpdated:"2025-10-02"}],lp=[{id:"CNC001-T12-C1",toolId:"CNC001-T12",cycleIndex:1,startMinutesTotal:120,endMinutesTotal:195,lifeMinutes:75,endReason:"WORN"},{id:"CNC001-T12-C2",toolId:"CNC001-T12",cycleIndex:2,startMinutesTotal:195,endMinutesTotal:276,lifeMinutes:81,endReason:"WORN"},{id:"CNC001-T12-C3",toolId:"CNC001-T12",cycleIndex:3,startMinutesTotal:276,endMinutesTotal:359,lifeMinutes:83,endReason:"WORN"},{id:"CNC001-T12-C4",toolId:"CNC001-T12",cycleIndex:4,startMinutesTotal:359,endMinutesTotal:410,lifeMinutes:51,endReason:"BROKEN"},{id:"CNC001-T10-C1",toolId:"CNC001-T10",cycleIndex:1,startMinutesTotal:80,endMinutesTotal:170,lifeMinutes:90,endReason:"WORN"},{id:"CNC001-T10-C2",toolId:"CNC001-T10",cycleIndex:2,startMinutesTotal:170,endMinutesTotal:260,lifeMinutes:90,endReason:"PREVENTIVE"},{id:"CNC001-T10-C3",toolId:"CNC001-T10",cycleIndex:3,startMinutesTotal:260,endMinutesTotal:345,lifeMinutes:85,endReason:"WORN"},{id:"CNC001-T21-C1",toolId:"CNC001-T21",cycleIndex:1,startMinutesTotal:300,endMinutesTotal:362,lifeMinutes:62,endReason:"WORN"},{id:"CNC001-T21-C2",toolId:"CNC001-T21",cycleIndex:2,startMinutesTotal:362,endMinutesTotal:420,lifeMinutes:58,endReason:"WORN"},{id:"CNC001-T21-C3",toolId:"CNC001-T21",cycleIndex:3,startMinutesTotal:420,endMinutesTotal:478,lifeMinutes:58,endReason:"SCRAP"},{id:"CNC002-T08-C1",toolId:"CNC002-T08",cycleIndex:1,startMinutesTotal:40,endMinutesTotal:128,lifeMinutes:88,endReason:"WORN"},{id:"CNC002-T08-C2",toolId:"CNC002-T08",cycleIndex:2,startMinutesTotal:128,endMinutesTotal:222,lifeMinutes:94,endReason:"WORN"},{id:"CNC002-T08-C3",toolId:"CNC002-T08",cycleIndex:3,startMinutesTotal:222,endMinutesTotal:315,lifeMinutes:93,endReason:"WORN"},{id:"CNC002-T08-C4",toolId:"CNC002-T08",cycleIndex:4,startMinutesTotal:315,endMinutesTotal:402,lifeMinutes:87,endReason:"PREVENTIVE"},{id:"CNC002-T04-C1",toolId:"CNC002-T04",cycleIndex:1,startMinutesTotal:60,endMinutesTotal:210,lifeMinutes:150,endReason:"WORN"},{id:"CNC002-T04-C2",toolId:"CNC002-T04",cycleIndex:2,startMinutesTotal:210,endMinutesTotal:360,lifeMinutes:150,endReason:"PREVENTIVE"},{id:"CNC002-T04-C3",toolId:"CNC002-T04",cycleIndex:3,startMinutesTotal:360,endMinutesTotal:495,lifeMinutes:135,endReason:"WORN"},{id:"CNC002-T16-C1",toolId:"CNC002-T16",cycleIndex:1,startMinutesTotal:50,endMinutesTotal:165,lifeMinutes:115,endReason:"WORN"},{id:"CNC002-T16-C2",toolId:"CNC002-T16",cycleIndex:2,startMinutesTotal:165,endMinutesTotal:282,lifeMinutes:117,endReason:"WORN"},{id:"CNC002-T16-C3",toolId:"CNC002-T16",cycleIndex:3,startMinutesTotal:282,endMinutesTotal:392,lifeMinutes:110,endReason:"SCRAP"},{id:"DRL001-T18-C1",toolId:"DRL001-T18",cycleIndex:1,startMinutesTotal:400,endMinutesTotal:463,lifeMinutes:63,endReason:"WORN"},{id:"DRL001-T18-C2",toolId:"DRL001-T18",cycleIndex:2,startMinutesTotal:463,endMinutesTotal:525,lifeMinutes:62,endReason:"WORN"},{id:"DRL001-T18-C3",toolId:"DRL001-T18",cycleIndex:3,startMinutesTotal:525,endMinutesTotal:580,lifeMinutes:55,endReason:"BROKEN"},{id:"DRL001-T18-C4",toolId:"DRL001-T18",cycleIndex:4,startMinutesTotal:580,endMinutesTotal:638,lifeMinutes:58,endReason:"WORN"},{id:"DRL001-T20-C1",toolId:"DRL001-T20",cycleIndex:1,startMinutesTotal:200,endMinutesTotal:264,lifeMinutes:64,endReason:"WORN"},{id:"DRL001-T20-C2",toolId:"DRL001-T20",cycleIndex:2,startMinutesTotal:264,endMinutesTotal:330,lifeMinutes:66,endReason:"PREVENTIVE"},{id:"DRL001-T20-C3",toolId:"DRL001-T20",cycleIndex:3,startMinutesTotal:330,endMinutesTotal:396,lifeMinutes:66,endReason:"WORN"},{id:"DRL001-T05-C1",toolId:"DRL001-T05",cycleIndex:1,startMinutesTotal:120,endMinutesTotal:200,lifeMinutes:80,endReason:"WORN"},{id:"DRL001-T05-C2",toolId:"DRL001-T05",cycleIndex:2,startMinutesTotal:200,endMinutesTotal:278,lifeMinutes:78,endReason:"WORN"},{id:"DRL001-T05-C3",toolId:"DRL001-T05",cycleIndex:3,startMinutesTotal:278,endMinutesTotal:352,lifeMinutes:74,endReason:"PREVENTIVE"},{id:"BG001-T07-C1",toolId:"BG001-T07",cycleIndex:1,startMinutesTotal:200,endMinutesTotal:272,lifeMinutes:72,endReason:"WORN"},{id:"BG001-T07-C2",toolId:"BG001-T07",cycleIndex:2,startMinutesTotal:272,endMinutesTotal:346,lifeMinutes:74,endReason:"WORN"},{id:"BG001-T07-C3",toolId:"BG001-T07",cycleIndex:3,startMinutesTotal:346,endMinutesTotal:420,lifeMinutes:74,endReason:"WORN"},{id:"BG001-T07-C4",toolId:"BG001-T07",cycleIndex:4,startMinutesTotal:420,endMinutesTotal:482,lifeMinutes:62,endReason:"SCRAP"},{id:"BG001-T09-C1",toolId:"BG001-T09",cycleIndex:1,startMinutesTotal:150,endMinutesTotal:205,lifeMinutes:55,endReason:"WORN"},{id:"BG001-T09-C2",toolId:"BG001-T09",cycleIndex:2,startMinutesTotal:205,endMinutesTotal:260,lifeMinutes:55,endReason:"WORN"},{id:"BG001-T09-C3",toolId:"BG001-T09",cycleIndex:3,startMinutesTotal:260,endMinutesTotal:316,lifeMinutes:56,endReason:"WORN"},{id:"BG001-T03-C1",toolId:"BG001-T03",cycleIndex:1,startMinutesTotal:180,endMinutesTotal:270,lifeMinutes:90,endReason:"WORN"},{id:"BG001-T03-C2",toolId:"BG001-T03",cycleIndex:2,startMinutesTotal:270,endMinutesTotal:360,lifeMinutes:90,endReason:"WORN"},{id:"BG001-T03-C3",toolId:"BG001-T03",cycleIndex:3,startMinutesTotal:360,endMinutesTotal:436,lifeMinutes:76,endReason:"PREVENTIVE"}],yF=[{id:"u1",toolId:"CNC001-T12",machineId:"CNC001",timestamp:"2025-10-08T09:30:00Z",cuttingMinutesTotal:418,programId:"OP20_MAIN",material:"4140",surfaceSpeedSfm:420,spindleRpm:5100,feedPerTooth:.0025},{id:"u2",toolId:"CNC001-T12",machineId:"CNC001",timestamp:"2025-10-08T09:35:00Z",cuttingMinutesTotal:426,programId:"OP20_MAIN",material:"4140",surfaceSpeedSfm:440,spindleRpm:5300,feedPerTooth:.0023},{id:"u3",toolId:"CNC002-T08",machineId:"CNC002",timestamp:"2025-10-08T09:32:00Z",cuttingMinutesTotal:410,programId:"OP40_FIN",material:"A6061",surfaceSpeedSfm:1250,spindleRpm:15e3,feedPerTooth:.0015},{id:"u4",toolId:"DRL001-T18",machineId:"DRL001",timestamp:"2025-10-08T09:28:00Z",cuttingMinutesTotal:642,programId:"OP15_CORE",material:"4140",surfaceSpeedSfm:240,spindleRpm:3800,feedPerTooth:.0045},{id:"u5",toolId:"BG001-T07",machineId:"BG001",timestamp:"2025-10-08T09:20:00Z",cuttingMinutesTotal:490,programId:"GRD50",material:"Bearing steel",surfaceSpeedSfm:6200,spindleRpm:1800},{id:"u6",toolId:"CNC002-T08",machineId:"CNC002",timestamp:"2025-10-08T10:05:00Z",cuttingMinutesTotal:438,programId:"OP40_FIN_ALT",material:"A6061",surfaceSpeedSfm:1320,spindleRpm:15800,feedPerTooth:.0014},{id:"u7",toolId:"CNC002-T04",machineId:"CNC002",timestamp:"2025-10-08T09:50:00Z",cuttingMinutesTotal:365,programId:"OP35_CHAM",material:"A6061",surfaceSpeedSfm:1180,spindleRpm:14e3,feedPerTooth:.0018},{id:"u8",toolId:"CNC002-T16",machineId:"CNC002",timestamp:"2025-10-08T09:55:00Z",cuttingMinutesTotal:398,programId:"OP45_FIN",material:"A6061",surfaceSpeedSfm:1200,spindleRpm:14600,feedPerTooth:.0016},{id:"u9",toolId:"CNC001-T10",machineId:"CNC001",timestamp:"2025-10-08T08:10:00Z",cuttingMinutesTotal:348,programId:"OP25_FIN",material:"4140",surfaceSpeedSfm:500,spindleRpm:6200,feedPerTooth:.002},{id:"u10",toolId:"CNC001-T21",machineId:"CNC001",timestamp:"2025-10-08T07:55:00Z",cuttingMinutesTotal:482,programId:"DR20",material:"4140",surfaceSpeedSfm:260,spindleRpm:4e3,feedPerTooth:.005},{id:"u11",toolId:"DRL001-T20",machineId:"DRL001",timestamp:"2025-10-08T07:40:00Z",cuttingMinutesTotal:402,programId:"OP18",material:"4140",surfaceSpeedSfm:240,spindleRpm:3600,feedPerTooth:.0042},{id:"u12",toolId:"DRL001-T05",machineId:"DRL001",timestamp:"2025-10-08T07:25:00Z",cuttingMinutesTotal:360,programId:"OP12",material:"4140",surfaceSpeedSfm:270,spindleRpm:5200,feedPerTooth:.0035},{id:"u13",toolId:"BG001-T09",machineId:"BG001",timestamp:"2025-10-08T06:50:00Z",cuttingMinutesTotal:318,programId:"GRD30",material:"Bearing steel",surfaceSpeedSfm:5800,spindleRpm:1700},{id:"u14",toolId:"BG001-T03",machineId:"BG001",timestamp:"2025-10-08T06:40:00Z",cuttingMinutesTotal:438,programId:"GRD70",material:"Bearing steel",surfaceSpeedSfm:6100,spindleRpm:1650}],bF=[{id:"q1",toolId:"CNC001-T12",toolCycleId:"CNC001-T12-C3",timestamp:"2025-10-07T22:10:00Z",usageMinutesAtSample:338,qualityRating:"WARN",dimensionName:"Slot width",dimensionValue:9.996,withinTolerance:!0,note:"Borderline finish; chips accumulating"},{id:"q5",toolId:"CNC002-T08",toolCycleId:"CNC002-T08-C4",timestamp:"2025-10-07T19:45:00Z",usageMinutesAtSample:118,qualityRating:"WARN",dimensionName:"Surface Ra",dimensionValue:1.25,withinTolerance:!1,offsetAdjustment:.018,offsetAxis:"Z",note:"Finish trending rough; small Z tweak"},{id:"q8",toolId:"CNC002-T08",toolCycleId:"CNC002-T08-C4",timestamp:"2025-10-07T20:30:00Z",usageMinutesAtSample:220,qualityRating:"OK",dimensionName:"Surface Ra",dimensionValue:.95,withinTolerance:!0},{id:"q9",toolId:"CNC002-T04",toolCycleId:"CNC002-T04-C3",timestamp:"2025-10-07T21:10:00Z",usageMinutesAtSample:355,qualityRating:"WARN",dimensionName:"Chamfer width",dimensionValue:.505,withinTolerance:!1,note:"Dimensional drift on chamfer width"},{id:"q10",toolId:"CNC002-T16",toolCycleId:"CNC002-T16-C3",timestamp:"2025-10-07T22:05:00Z",usageMinutesAtSample:310,qualityRating:"SCRAP",dimensionName:"Surface Ra",dimensionValue:1.6,withinTolerance:!1,note:"Complete tool failure; poor finish"},{id:"q11",toolId:"CNC001-T10",toolCycleId:"CNC001-T10-C3",timestamp:"2025-10-07T18:30:00Z",usageMinutesAtSample:320,qualityRating:"WARN",dimensionName:"Wall flatness",dimensionValue:.042,withinTolerance:!1,offsetAdjustment:.02,offsetAxis:"Z",note:"Borderline finish; minor Z offset applied"},{id:"q12",toolId:"CNC001-T21",toolCycleId:"CNC001-T21-C3",timestamp:"2025-10-07T18:55:00Z",usageMinutesAtSample:460,qualityRating:"SCRAP",dimensionName:"Hole size",dimensionValue:6.048,withinTolerance:!1,note:"Chip-form issues leading to oversize hole"},{id:"q3",toolId:"DRL001-T18",toolCycleId:"DRL001-T18-C2",timestamp:"2025-10-07T20:55:00Z",usageMinutesAtSample:518,qualityRating:"SCRAP",dimensionName:"Hole size",dimensionValue:6.042,withinTolerance:!1,note:"Complete tool failure before break"},{id:"q13",toolId:"DRL001-T20",toolCycleId:"DRL001-T20-C3",timestamp:"2025-10-07T21:25:00Z",usageMinutesAtSample:385,qualityRating:"WARN",dimensionName:"Burr height",dimensionValue:.12,withinTolerance:!1,offsetAdjustment:.01,offsetAxis:"Z",note:"Burrs forming; small Z offset"},{id:"q14",toolId:"DRL001-T05",toolCycleId:"DRL001-T05-C3",timestamp:"2025-10-07T21:40:00Z",usageMinutesAtSample:340,qualityRating:"OK",dimensionName:"Hole size",dimensionValue:4.002,withinTolerance:!0},{id:"q4",toolId:"BG001-T07",toolCycleId:"BG001-T07-C4",timestamp:"2025-10-07T22:25:00Z",usageMinutesAtSample:468,qualityRating:"WARN",dimensionName:"Thickness",dimensionValue:.114,withinTolerance:!1,note:"Finish haze detected; pulled early"},{id:"q15",toolId:"BG001-T09",toolCycleId:"BG001-T09-C3",timestamp:"2025-10-07T22:45:00Z",usageMinutesAtSample:312,qualityRating:"WARN",dimensionName:"Flatness",dimensionValue:.09,withinTolerance:!1,note:"Rough wheel chipping; chip-form issues"},{id:"q16",toolId:"BG001-T03",toolCycleId:"BG001-T03-C3",timestamp:"2025-10-07T23:05:00Z",usageMinutesAtSample:430,qualityRating:"OK",dimensionName:"Roughness",dimensionValue:.35,withinTolerance:!0}],Rl=15,mh=1.645,no=(e,t=1)=>Math.round(e*10**t)/10**t,Jr=e=>`${no(e,1)} min`,Ll=new Map(ga.map(e=>[e.id,e])),wF=(e,t)=>{const s=t.filter(C=>C.toolId===e&&typeof C.dimensionValue=="number").sort((C,M)=>C.usageMinutesAtSample-M.usageMinutesAtSample);if(s.length<2){const C=t.filter(M=>M.toolId===e&&M.offsetAdjustment!==void 0).sort((M,S)=>M.usageMinutesAtSample-S.usageMinutesAtSample)[0];return C?Math.max(Rl,C.usageMinutesAtSample):void 0}const i=s.length,o=s.reduce((C,M)=>C+M.usageMinutesAtSample,0),l=s.reduce((C,M)=>C+(M.dimensionValue??0),0),u=s.reduce((C,M)=>C+M.usageMinutesAtSample*(M.dimensionValue??0),0),d=s.reduce((C,M)=>C+M.usageMinutesAtSample**2,0),f=i*d-o**2;if(f===0)return;const m=(i*u-o*l)/f,p=(l-m*o)/i;if(!Number.isFinite(m)||m===0)return;const x=t.filter(C=>C.toolId===e&&(C.qualityRating!=="OK"||C.withinTolerance===!1||C.offsetAdjustment!==void 0)).sort((C,M)=>C.usageMinutesAtSample-M.usageMinutesAtSample)[0]??s[s.length-1];if(!x)return;if(typeof x.dimensionValue!="number")return Math.max(Rl,x.usageMinutesAtSample);const N=(x.dimensionValue-p)/m;if(!Number.isFinite(N)||N<=0)return Math.max(Rl,x.usageMinutesAtSample);const y=Math.min(N,x.usageMinutesAtSample);return Math.max(no(y,1),Rl)},e6=(e,t,s)=>{const i=t.filter(l=>l.toolId===e&&l.surfaceSpeedSfm!==void 0);return i.length&&i.reduce((l,u)=>l+(u.surfaceSpeedSfm??0),0)/i.length||s},NF=(e,t,s,i,o)=>{const u=t.filter(L=>L.toolId===e&&(L.endReason==="WORN"||L.endReason==="SCRAP")).map(L=>L.lifeMinutes),d=wF(e,s);if(u.length===0)return{meanLifeMinutes:0,sigmaMinutes:0,statLimitMin:0,reliabilityLimitMin:0,dimensionalLimitMin:d,taylorLimitMin:void 0,recommendedLimitMin:d??0,warningMin:d?no(d*.9,1):0,sampleCount:0,kFactor:o};const f=u.reduce((L,R)=>L+R,0)/u.length,m=u.reduce((L,R)=>L+(R-f)**2,0)/Math.max(u.length-1,1),p=Math.sqrt(m),x=Math.max(no(f-o*p,1),Rl),N=Math.max(no(f-mh*p,1),Rl),y=Math.min(x,N),C=Ll.get(e),M=e6(e,i,C?.nominalSpeedSfm),S=C&&M&&C.taylorC&&C.taylorN?Math.max(no((C.taylorC/M)**(1/C.taylorN),1),Rl):void 0,j=Math.min(y,d??Number.POSITIVE_INFINITY,S??Number.POSITIVE_INFINITY);return{meanLifeMinutes:no(f,1),sigmaMinutes:no(p,2),statLimitMin:x,reliabilityLimitMin:N,dimensionalLimitMin:d,taylorLimitMin:S,recommendedLimitMin:j,warningMin:no(j*.9,1),sampleCount:u.length,kFactor:o}},wu=(e,t)=>[...t.filter(s=>s.toolId===e)].sort((s,i)=>i.cycleIndex-s.cycleIndex)[0],JN=["WORN","BROKEN","PREVENTIVE","TRIAL","SCRAP"],ej=["OK","WARN","SCRAP"];function jF(){const[e,t]=T.useState(lp),[s,i]=T.useState(yF),[o,l]=T.useState(bF),[u,d]=T.useState(ga[0]?.id??""),[f,m]=T.useState(()=>Object.fromEntries(ga.map(_=>[_.id,_.kFactor]))),[p,x]=T.useState(!1),[N,y]=T.useState(!1),[C,M]=T.useState(()=>ga[0]?.machineId??""),S=T.useMemo(()=>Array.from(new Set(ga.map(_=>_.machineId))),[]),j=T.useMemo(()=>{const _=new Map;return ga.forEach(k=>{_.set(k.machineId,[..._.get(k.machineId)??[],k])}),Array.from(_.entries()).sort((k,q)=>k[0].localeCompare(q[0]))},[]),[L,R]=T.useState({machineId:ga[0]?.machineId??"",toolId:ga[0]?.id??"",cuttingMinutesTotal:wu(ga[0]?.id??"",lp)?.endMinutesTotal??0,reason:JN[0],programId:"",material:"",notes:""}),[D,U]=T.useState({toolId:ga[0]?.id??"",toolCycleId:wu(ga[0]?.id??"",lp)?.id??"",usageMinutesAtSample:wu(ga[0]?.id??"",lp)?.endMinutesTotal??0,qualityRating:ej[0],dimensionName:"",dimensionValue:"",withinTolerance:!0,note:""}),G=Ll.get(u),$=T.useMemo(()=>ga.filter(_=>_.machineId===C),[C]);T.useEffect(()=>{const _=$[0];_&&_.id!==u&&d(_.id)},[C,$]);const B=T.useMemo(()=>{const _={};for(const k of ga){const q=f[k.id]??k.kFactor;_[k.id]=NF(k.id,e,o,s,q)}return _},[e,f,o,s]),Y=T.useMemo(()=>e.filter(_=>_.endReason==="BROKEN").length,[e]),fe=T.useMemo(()=>o.filter(_=>_.qualityRating==="SCRAP").length,[o]),V=T.useMemo(()=>{const _=Object.values(B).map(k=>k.recommendedLimitMin).filter(k=>k>0);return _.length?no(_.reduce((k,q)=>k+q,0)/_.length,1):0},[B]),P=_=>{_.preventDefault();const k=Number(L.cuttingMinutesTotal);if(Number.isNaN(k))return;const q=Ll.get(L.toolId);if(!q)return;const J=wu(q.id,e),oe=(J?.cycleIndex??0)+1,ce=J?.endMinutesTotal??k,me=Math.max(k-ce,0),be={id:`${q.id}-C${oe}`,toolId:q.id,cycleIndex:oe,startMinutesTotal:ce,endMinutesTotal:k,lifeMinutes:me,endReason:L.reason};t(ve=>[...ve,be]),i(ve=>[...ve,{id:`u-${Date.now()}`,toolId:q.id,machineId:q.machineId,timestamp:new Date().toISOString(),cuttingMinutesTotal:k,programId:L.programId||void 0,material:L.material||void 0}]),R(ve=>({...ve,cuttingMinutesTotal:k+10,notes:""})),vn("Tool change logged",{description:`${q.haasToolNumber} on ${q.machineName} captured with ${me} minutes (${L.reason}).`})},F=_=>{_.preventDefault();const k=Ll.get(D.toolId);if(!k)return;const q={id:`q-${Date.now()}`,toolId:D.toolId,toolCycleId:D.toolCycleId,timestamp:new Date().toISOString(),usageMinutesAtSample:Number(D.usageMinutesAtSample),qualityRating:D.qualityRating,dimensionName:D.dimensionName||void 0,dimensionValue:D.dimensionValue===""?void 0:Number(D.dimensionValue),withinTolerance:D.withinTolerance,note:D.note||void 0};l(J=>[...J,q]),vn("Quality sample logged",{description:`${k.haasToolNumber}  ${q.qualityRating} at ${q.usageMinutesAtSample} min`}),U(J=>({...J,note:""}))},W=_=>ga.filter(k=>k.machineId===_),te=[...o.filter(_=>_.toolId===u)].sort((_,k)=>_.timestamp.localeCompare(k.timestamp)),z=[...s.filter(_=>_.toolId===u)].sort((_,k)=>k.timestamp.localeCompare(_.timestamp))[0],K=te.filter(_=>_.offsetAdjustment!==void 0).map(_=>({..._,magnitude:Math.abs(_.offsetAdjustment??0)})).sort((_,k)=>_.timestamp.localeCompare(k.timestamp)),H=T.useMemo(()=>[...s.map(_=>({kind:"usage",timestamp:_.timestamp,id:_.id,toolId:_.toolId,machineName:Ll.get(_.toolId)?.machineName??_.machineId,cuttingMinutesTotal:_.cuttingMinutesTotal,programId:_.programId,material:_.material,offsetAdjustment:void 0,offsetAxis:void 0})),...o.map(_=>({kind:"quality",timestamp:_.timestamp,id:_.id,toolId:_.toolId,qualityRating:_.qualityRating,usageMinutesAtSample:_.usageMinutesAtSample,dimensionName:_.dimensionName,dimensionValue:_.dimensionValue,withinTolerance:_.withinTolerance,offsetAdjustment:_.offsetAdjustment,offsetAxis:_.offsetAxis,note:_.note,machineName:Ll.get(_.toolId)?.machineName}))].sort((_,k)=>k.timestamp.localeCompare(_.timestamp)),[o,s]),ue=T.useMemo(()=>H.filter(_=>Ll.get(_.toolId)?.machineId===C||_.machineName===C),[H,C]),ae=T.useMemo(()=>H.filter(_=>_.toolId===u),[H,u]);return n.jsx("div",{className:"w-full h-full overflow-auto bg-gradient-to-b from-white to-slate-50",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ve,{variant:"outline",children:"Tool Life"}),n.jsx(Ve,{className:"bg-blue-50 text-blue-700",variant:"secondary",children:"CNC  Cutting  Drilling  Grinding"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Tool Life Estimation"}),n.jsxs("p",{className:"text-muted-foreground max-w-3xl",children:["Track consumable tooling, capture operator changes, and give engineers a data-backed Haas life recommendation using "," - k"," blended with dimensional drift signals."]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracked tools"}),n.jsx("p",{className:"text-2xl font-semibold",children:ga.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",S.length," CNC/cutting assets"]})]}),n.jsx(m3,{className:"h-6 w-6 text-primary"})]})}),n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg recommended life"}),n.jsx("p",{className:"text-2xl font-semibold",children:Jr(V)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Using live "," - k"," calc"]})]}),n.jsx(Qb,{className:"h-6 w-6 text-primary"})]})}),n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Broken pulls"}),n.jsx("p",{className:"text-2xl font-semibold",children:Y}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Investigate for early limits"})]}),n.jsx(er,{className:"h-6 w-6 text-amber-500"})]})}),n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Scrap hits"}),n.jsx("p",{className:"text-2xl font-semibold",children:fe}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"From quality samples"})]}),n.jsx(p3,{className:"h-6 w-6 text-rose-500"})]})})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Operator console"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Log tool pulls and quality calls; everything else tucks behind settings when you need it."})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>x(_=>!_),children:[n.jsx(ax,{className:"mr-2 h-4 w-4"}),p?"Hide usage feed":"Show usage feed"]}),n.jsxs(Ue,{variant:"ghost",size:"sm",onClick:()=>y(_=>!_),children:[n.jsx(rx,{className:"mr-2 h-4 w-4"}),N?"Hide engineer view":"Engineer settings"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs(Ie,{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"Operator console"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("form",{onSubmit:P,className:"space-y-3 p-3 border rounded-lg bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Tool change"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"I just pulled T12, worn"})]}),n.jsx(Ve,{variant:"outline",children:"cycles"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Machine"}),n.jsxs(an,{value:L.machineId,onValueChange:_=>{const k=W(_)[0];R(q=>({...q,machineId:_,toolId:k?.id??q.toolId,cuttingMinutesTotal:wu(k?.id??"",e)?.endMinutesTotal??q.cuttingMinutesTotal}))},children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Choose machine"})}),n.jsx(ln,{children:S.map(_=>n.jsx(it,{value:_,children:_},_))})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Tool"}),n.jsxs(an,{value:L.toolId,onValueChange:_=>R(k=>({...k,toolId:_,cuttingMinutesTotal:wu(_,e)?.endMinutesTotal??k.cuttingMinutesTotal})),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Choose tool"})}),n.jsx(ln,{children:W(L.machineId).map(_=>n.jsxs(it,{value:_.id,children:[_.haasToolNumber,"  ",_.description]},_.id))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Current cutting minutes (controller)"}),n.jsx(nt,{type:"number",value:L.cuttingMinutesTotal,onChange:_=>R(k=>({...k,cuttingMinutesTotal:Number(_.target.value)})),min:0,required:!0})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Reason"}),n.jsxs(an,{value:L.reason,onValueChange:_=>R(k=>({...k,reason:_})),children:[n.jsx(on,{children:n.jsx(rn,{})}),n.jsx(ln,{children:JN.map(_=>n.jsx(it,{value:_,children:_},_))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Program ID (optional)"}),n.jsx(nt,{value:L.programId,onChange:_=>R(k=>({...k,programId:_.target.value}))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Material (optional)"}),n.jsx(nt,{value:L.material,onChange:_=>R(k=>({...k,material:_.target.value}))})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Notes"}),n.jsx(Qa,{value:L.notes,onChange:_=>R(k=>({...k,notes:_.target.value})),placeholder:"Chip control poor, chatter on wall, etc."})]}),n.jsx(Ue,{type:"submit",className:"w-full",children:"Log change and recompute life"})]}),n.jsxs("form",{onSubmit:F,className:"space-y-3 p-3 border rounded-lg bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Quality / inspection"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tag finish degradation against minutes"})]}),n.jsx(Ve,{variant:"outline",children:"quality"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Tool"}),n.jsxs(an,{value:D.toolId,onValueChange:_=>{const k=wu(_,e);U(q=>({...q,toolId:_,toolCycleId:k?.id??"",usageMinutesAtSample:k?.endMinutesTotal??0}))},children:[n.jsx(on,{children:n.jsx(rn,{})}),n.jsx(ln,{children:ga.map(_=>n.jsxs(it,{value:_.id,children:[_.haasToolNumber,"  ",_.description]},_.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Cycle"}),n.jsxs(an,{value:D.toolCycleId,onValueChange:_=>U(k=>({...k,toolCycleId:_})),children:[n.jsx(on,{children:n.jsx(rn,{placeholder:"Select cycle"})}),n.jsx(ln,{children:[...e.filter(_=>_.toolId===D.toolId)].sort((_,k)=>k.cycleIndex-_.cycleIndex).map(_=>n.jsxs(it,{value:_.id,children:["Cycle ",_.cycleIndex,"  ",_.lifeMinutes," min (",_.endReason,")"]},_.id))})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Minutes at sample"}),n.jsx(nt,{type:"number",value:D.usageMinutesAtSample,onChange:_=>U(k=>({...k,usageMinutesAtSample:Number(_.target.value)})),min:0,required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Rating"}),n.jsxs(an,{value:D.qualityRating,onValueChange:_=>U(k=>({...k,qualityRating:_})),children:[n.jsx(on,{children:n.jsx(rn,{})}),n.jsx(ln,{children:ej.map(_=>n.jsx(it,{value:_,children:_},_))})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Dimension value"}),n.jsx(nt,{type:"number",value:D.dimensionValue,onChange:_=>U(k=>({...k,dimensionValue:_.target.value})),placeholder:"54.003"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Dimension name (optional)"}),n.jsx(nt,{value:D.dimensionName,onChange:_=>U(k=>({...k,dimensionName:_.target.value})),placeholder:"Bore_Dia, Slot_W"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Within tolerance?"}),n.jsxs(an,{value:D.withinTolerance?"true":"false",onValueChange:_=>U(k=>({...k,withinTolerance:_==="true"})),children:[n.jsx(on,{children:n.jsx(rn,{})}),n.jsxs(ln,{children:[n.jsx(it,{value:"true",children:"Yes"}),n.jsx(it,{value:"false",children:"No"})]})]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Be,{children:"Notes"}),n.jsx(Qa,{value:D.note,onChange:_=>U(k=>({...k,note:_.target.value})),placeholder:"Finish hazing, burr trend, etc."})]}),n.jsx(Ue,{type:"submit",className:"w-full",variant:"secondary",children:"Log sample"})]})]})]})}),n.jsxs(Ie,{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_c,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"Tool life by machine"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsx("div",{className:"space-y-2",children:j.map(([_,k])=>{const q=_===C,J=o.filter(ce=>k.some(me=>me.id===ce.toolId)).length,oe=k.map(ce=>{const me=B[ce.id],be=ce.manufacturerSpecMin??(ce.currentLifeLimitMin||1),ve=Math.min(100,(me?.recommendedLimitMin??0)/be*100);return{id:ce.id,percent:ve,label:`${ce.haasToolNumber} ${Math.round(ve)}%`}});return n.jsxs("button",{type:"button",onClick:()=>M(_),className:`w-full text-left rounded-md border p-3 shadow-sm hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40 ${q?"border-primary bg-primary/5":"bg-white"}`,children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("p",{className:"font-medium",children:_}),n.jsxs(Ve,{variant:q?"secondary":"outline",children:[k.length," tools"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[J," quality tags across this machine"]}),n.jsx("div",{className:"mt-2 space-y-1",children:oe.map(ce=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[11px] text-muted-foreground w-16",children:ce.label}),n.jsx("div",{className:"h-2 flex-1 rounded bg-slate-100 overflow-hidden",children:n.jsx("div",{className:"h-2 bg-primary/70",style:{width:`${ce.percent}%`}})})]},ce.id))})]},_)})}),n.jsx("div",{className:"lg:col-span-2 space-y-3",children:C?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Machine details"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:C})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsxs(Ve,{variant:"outline",children:[j.find(([_])=>_===C)?.[1].length??0," tools"]}),n.jsxs(Ve,{variant:"secondary",children:[ue.filter(_=>_.kind==="quality").length," quality"]})]})]}),n.jsxs("div",{className:"space-y-3 border rounded-md p-3 bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tool timeline"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ve,{variant:"outline",children:[$.length," tools"]}),n.jsxs(an,{value:u,onValueChange:_=>d(_),children:[n.jsx(on,{className:"w-40",children:n.jsx(rn,{})}),n.jsx(ln,{children:$.map(_=>n.jsxs(it,{value:_.id,children:[_.haasToolNumber,"  ",_.description]},_.id))})]})]})]}),G&&n.jsxs("div",{className:"space-y-2",children:[(()=>{const _=B[G.id];if(!_)return null;const k=G.manufacturerSpecMin??(G.currentLifeLimitMin||1),q=Math.min(100,(_.recommendedLimitMin??0)/k*100);return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-[11px] text-muted-foreground w-20",children:[G.haasToolNumber," ",Math.round(q),"%"]}),n.jsx("div",{className:"h-2 flex-1 rounded bg-slate-100 overflow-hidden",children:n.jsx("div",{className:"h-2 bg-primary/70",style:{width:`${q}%`}})}),n.jsx("span",{className:"text-[11px] text-muted-foreground w-16 text-right",children:Jr(_.recommendedLimitMin??0)})]})})(),n.jsxs("div",{className:"space-y-2 border-l pl-3",children:[ae.slice(0,8).map(_=>{const k=Ll.get(_.toolId),q=new Date(_.timestamp).toLocaleString(),J=_.offsetAdjustment!==void 0;return n.jsxs("div",{className:"relative pl-2",children:[n.jsx("span",{className:"absolute -left-[9px] h-2 w-2 rounded-full bg-primary"}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:[k?.haasToolNumber??_.toolId,"  ",k?.machineName??C]}),n.jsx("p",{className:"text-[11px] text-muted-foreground",children:q})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.kind==="usage"?`Cycle @ ${_.cuttingMinutesTotal} min`:`${_.qualityRating} at ${_.usageMinutesAtSample} min`,J?`  offset ${_.offsetAdjustment}${_.offsetAxis?` ${_.offsetAxis}`:""}`:""]})]},_.id)}),ae.length===0&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"No history captured for this tool yet."})]})]})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a machine to view details."})})]})]}),p&&n.jsxs(Ie,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ax,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"Usage feed (last push)"})]}),n.jsx("div",{className:"space-y-2 text-sm",children:[...s].sort((_,k)=>k.timestamp.localeCompare(_.timestamp)).slice(0,5).map(_=>{const k=Ll.get(_.toolId);return n.jsxs("div",{className:"flex items-start gap-3 rounded-md border p-2",children:[n.jsxs(Ve,{variant:"secondary",children:[_.cuttingMinutesTotal," min"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium",children:[k?.haasToolNumber??_.toolId,"  ",k?.machineName]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(_.timestamp).toLocaleTimeString(),"  ",_.programId||"program unknown"," ",_.material?` ${_.material}`:""]})]})]},_.id)})})]}),N&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie,{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qb,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"Engineer dashboard"})]}),n.jsx("div",{className:"overflow-auto",children:n.jsxs(Du,{children:[n.jsx(Ru,{children:n.jsxs(Ka,{children:[n.jsx(fn,{children:"Tool"}),n.jsx(fn,{children:"Material"}),n.jsx(fn,{children:"k"}),n.jsx(fn,{children:" (min)"}),n.jsx(fn,{children:" (min)"}),n.jsx(fn,{children:"Recommended"}),n.jsx(fn,{children:"Dim limit"}),n.jsx(fn,{children:"Taylor limit"}),n.jsx(fn,{children:"Haas setting"}),n.jsx(fn,{children:""}),n.jsx(fn,{children:"Samples"})]})}),n.jsx(Ou,{children:ga.map(_=>{const k=B[_.id],q=k.recommendedLimitMin-_.currentLifeLimitMin;return n.jsxs(Ka,{className:"align-middle",children:[n.jsxs(sn,{children:[n.jsx("div",{className:"font-medium",children:_.haasToolNumber}),n.jsx("div",{className:"text-xs text-muted-foreground",children:_.description}),n.jsx("div",{className:"text-xs text-muted-foreground",children:_.machineName})]}),n.jsxs(sn,{children:[n.jsx(Ve,{variant:"secondary",children:_.materialGroup}),n.jsx("div",{className:"text-xs text-muted-foreground",children:_.operationCode})]}),n.jsx(sn,{className:"w-28",children:n.jsx(nt,{type:"number",step:.1,min:0,value:f[_.id]??_.kFactor,onChange:J=>m(oe=>({...oe,[_.id]:Number(J.target.value)}))})}),n.jsx(sn,{children:k.meanLifeMinutes||""}),n.jsx(sn,{children:k.sigmaMinutes||""}),n.jsx(sn,{className:"font-medium",children:k.recommendedLimitMin||""}),n.jsx(sn,{children:k.dimensionalLimitMin??""}),n.jsx(sn,{children:k.taylorLimitMin??""}),n.jsxs(sn,{children:[_.currentLifeLimitMin," / ",_.currentWarningMin,n.jsx("div",{className:"text-xs text-muted-foreground",children:"life / warning"})]}),n.jsxs(sn,{className:q>=0?"text-emerald-600":"text-amber-600",children:[q>0?"+":"",no(q,1)," min"]}),n.jsx(sn,{children:k.sampleCount})]},_.id)})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(Ie,{className:"p-3 border-dashed border-primary/30 bg-primary/5",children:[n.jsx("p",{className:"text-sm font-medium",children:"Model rule"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recommended life = min( - k,  - ",mh,", dimensional limit from drift fit, Taylor life from V), clamped to  ",Rl," min. Warning = 90% of recommended. Adjust k per tool family."]})]}),n.jsxs(Ie,{className:"p-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Quality tie-in"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Consecutive WARN/SCRAP samples mark the cycle as true worn so it enters the life distribution. Broken pulls stay as outliers."})]}),n.jsxs(Ie,{className:"p-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Action"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Push new limit to Haas during weekend changeover; set warning to 0.9. Track verification date in tools table."})]})]})]}),n.jsxs(Ie,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_c,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"Per-tool timeline"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[n.jsx(Be,{children:"Select tool"}),n.jsxs(an,{value:u,onValueChange:d,children:[n.jsx(on,{children:n.jsx(rn,{})}),n.jsx(ln,{children:ga.map(_=>n.jsxs(it,{value:_.id,children:[_.haasToolNumber,"  ",_.machineName,"  ",_.materialGroup]},_.id))})]}),G&&n.jsxs("div",{className:"rounded-lg border p-3 bg-white shadow-sm space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ve,{variant:"secondary",children:G.materialGroup}),n.jsx(Ve,{variant:"outline",children:G.operationCode})]}),n.jsx("p",{className:"text-sm font-medium",children:G.description}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Manufacturer spec: ",Jr(G.manufacturerSpecMin??G.currentLifeLimitMin)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estimated life: ",Jr(B[G.id]?.recommendedLimitMin??0)," (k=",B[G.id]?.kFactor??G.kFactor,")"]}),n.jsxs("div",{className:"text-[11px] text-muted-foreground space-y-1",children:[n.jsxs("p",{children:["Dim limit: ",Jr(B[G.id]?.dimensionalLimitMin??0)||""]}),n.jsxs("p",{children:["Reliability:  - ",mh,"  ",Jr(B[G.id]?.reliabilityLimitMin??0)]}),B[G.id]?.taylorLimitMin?n.jsxs("p",{children:["Taylor: ",Jr(B[G.id]?.taylorLimitMin??0)," @ V_sf=",e6(G.id,s,G.nominalSpeedSfm)??G.nominalSpeedSfm??""]}):n.jsx("p",{children:"Taylor: "})]}),z&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Latest usage: ",z.cuttingMinutesTotal," min"]})]})]}),n.jsx("div",{className:"lg:col-span-2 grid grid-cols-1 gap-3",children:G?n.jsxs(n.Fragment,{children:[n.jsxs(Ie,{className:"p-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Degradation (offsets over time)"}),n.jsxs("div",{className:"space-y-2",children:[K.length===0&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"No offsets logged for this tool."}),K.map(_=>{const k=Math.min(100,Math.abs(_.offsetAdjustment??0)*2e3);return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-[11px] text-muted-foreground",children:[n.jsxs("span",{children:[new Date(_.timestamp).toLocaleTimeString(),"  ",_.offsetAdjustment," ",_.offsetAxis??""]}),n.jsxs("span",{children:[_.usageMinutesAtSample," min"]})]}),n.jsx("div",{className:"h-2 rounded bg-slate-100 overflow-hidden",children:n.jsx("div",{className:"h-2 bg-primary/70",style:{width:`${k}%`}})})]},_.id)})]})]}),n.jsxs(Ie,{className:"p-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Life snapshots"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"rounded border p-2 bg-white",children:[n.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Manufacturer spec"}),n.jsx("p",{className:"font-semibold",children:Jr(G.manufacturerSpecMin??G.currentLifeLimitMin)})]}),n.jsxs("div",{className:"rounded border p-2 bg-white",children:[n.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Estimated (blended)"}),n.jsx("p",{className:"font-semibold",children:Jr(B[G.id]?.recommendedLimitMin??0)})]}),n.jsxs("div",{className:"rounded border p-2 bg-white",children:[n.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Dimensional"}),n.jsx("p",{className:"font-semibold",children:Jr(B[G.id]?.dimensionalLimitMin??0)||""})]}),n.jsxs("div",{className:"rounded border p-2 bg-white",children:[n.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"font-semibold",children:Jr(B[G.id]?.reliabilityLimitMin??0)})]})]})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tool to view degradation and life snapshots."})})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["* Calculations tie to the table:  and  come from worn/scrap cycles for each tool, k is the per-tool factor above, reliability uses  - ",mh," (~95% LCB), dimensional drift fits a simple wear slope, Taylor life uses VT^n = C against observed surface speed, and recommended life is min( - k,  - ",mh,", dimensional limit, Taylor life) floored to ",Rl," min; warning is 90% of that."]})]})]})})}const t6=G3;function n6({className:e,side:t="left",children:s,...i}){return n.jsxs(W3,{children:[n.jsx(T2,{className:"fixed inset-0 bg-black/60"}),n.jsx(M2,{"data-side":t,className:Ut("bg-background text-foreground fixed z-50 grid gap-4 p-6 shadow-lg transition-transform",t==="left"&&"inset-y-0 left-0 w-3/4 sm:w-96",t==="right"&&"inset-y-0 right-0 w-3/4 sm:w-96",t==="top"&&"inset-x-0 top-0 h-1/2",t==="bottom"&&"inset-x-0 bottom-0 h-1/2",e),...i,children:s})]})}function s6({className:e,...t}){return n.jsx("div",{className:Ut("flex flex-col space-y-2 text-left",e),...t})}function a6({className:e,...t}){return n.jsx(X3,{className:Ut("text-lg font-semibold leading-none tracking-tight",e),...t})}const SF={administrator:["view:home","view:production","view:green-room","view:fabrication","view:shipping","view:planner","manage:documents","manage:notes","manage:events","manage:workorders","manage:ecos","view:analytics","manage:users"],engineer:["view:home","view:production","view:green-room","view:fabrication","manage:documents","manage:ecos","manage:notes","view:analytics"],maintenance:["view:home","view:green-room","view:fabrication","view:shipping","manage:events","manage:workorders","manage:notes","view:analytics"],supervisor:["view:home","view:production","view:green-room","view:fabrication","view:shipping","manage:documents","manage:notes","manage:events","manage:workorders","view:analytics"],worker:["view:home","view:green-room","view:fabrication","manage:notes","view:analytics"],viewer:["view:home","view:production","view:green-room","view:analytics"]},Pl=[{id:"user-admin",name:"Alex Rivera",role:"administrator"},{id:"user-engineer",name:"Casey Morgan",role:"engineer"},{id:"user-maintenance",name:"Riley Chen",role:"maintenance"},{id:"user-supervisor",name:"Jordan Patel",role:"supervisor"},{id:"user-worker",name:"Taylor Kim",role:"worker"},{id:"user-viewer",name:"Sam Blake",role:"viewer"}],AF=[{value:"administrator",label:"Administrator"},{value:"engineer",label:"Engineer"},{value:"maintenance",label:"Maintenance"},{value:"supervisor",label:"Supervisor"},{value:"worker",label:"Worker"},{value:"viewer",label:"Viewer"}],tj=e=>({...e,capabilities:SF[e.role]??[]}),i6="thk-mom:auth:user",r6="thk-mom:prefs:",o6="thk-mom:auth:users",l6=T.createContext(null),CF=()=>{try{const e=typeof window<"u"?window.localStorage.getItem(o6):null;if(!e)return Pl;const t=JSON.parse(e);return!Array.isArray(t)||t.length===0?Pl:t.filter(s=>s.id&&s.name&&s.role)}catch{return Pl}},nj=e=>{try{const t=typeof window<"u"?window.localStorage.getItem(i6):null;if(!t)return e[0]?.id??Pl[0]?.id;const s=JSON.parse(t);return s?.userId&&e.some(i=>i.id===s.userId)?s.userId:e[0]?.id??Pl[0]?.id}catch{return e[0]?.id??Pl[0]?.id}},L1=e=>{try{const t=window.localStorage.getItem(r6+e);return t?JSON.parse(t):{}}catch{return{}}},TF=(e,t)=>{try{window.localStorage.setItem(r6+e,JSON.stringify(t))}catch{}};function MF({children:e}){const t=T.useMemo(()=>typeof window>"u"?Pl:CF(),[]),[s,i]=T.useState(t),[o,l]=T.useState(()=>typeof window>"u"?t[0]?.id??Pl[0].id:nj(t)),[u,d]=T.useState(()=>typeof window>"u"?{}:L1(nj(t))),f=T.useMemo(()=>{const S=s[0]??Pl[0];return s.find(j=>j.id===o)??S},[o,s]),m=T.useMemo(()=>tj(f),[f]),p=T.useMemo(()=>s.map(S=>tj(S)),[s]);T.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(i6,JSON.stringify({userId:f.id}))},[f.id]),T.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(o6,JSON.stringify(s))},[s]),T.useEffect(()=>{typeof window>"u"||TF(f.id,u)},[f.id,u]);const x=T.useCallback(S=>m.capabilities.includes(S),[m.capabilities]),N=T.useCallback(S=>{s.some(j=>j.id===S)&&(l(S),d(L1(S)))},[s]),y=T.useCallback(S=>{d(j=>({...j,...S}))},[]),C=T.useCallback((S,j)=>{i(L=>L.map(R=>R.id===S?{...R,role:j}:R))},[]);T.useEffect(()=>{if(!s.some(S=>S.id===o)&&s.length>0){const S=s[0].id;l(S),d(L1(S))}},[o,s]);const M=T.useMemo(()=>({currentUser:m,users:p,preferences:u,hasCapability:x,signIn:N,updatePreferences:y,updateUserRole:C}),[m,p,u,x,N,y,C]);return n.jsx(l6.Provider,{value:M,children:e})}const iv=()=>{const e=T.useContext(l6);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function EF({className:e,...t}){return n.jsx("div",{className:Ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full border border-border bg-muted text-muted-foreground",e),...t})}function _F({className:e,children:t,...s}){return n.jsx("span",{className:Ut("flex h-full w-full items-center justify-center text-sm font-medium",e),...s,children:t})}function kF({open:e,onOpenChange:t}){const{users:s,updateUserRole:i,currentUser:o}=iv(),l=T.useMemo(()=>[...s].sort((u,d)=>u.name.localeCompare(d.name)),[s]);return n.jsx(Ha,{open:e,onOpenChange:t,children:n.jsxs(Ma,{className:"sm:max-w-lg",children:[n.jsxs(Fa,{children:[n.jsx(za,{children:"User Access Levels"}),n.jsx(fi,{children:"Assign an access level to each user. Changes apply immediately for the selected profile."})]}),n.jsx("div",{className:"space-y-4",children:l.map(u=>n.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border bg-muted/40 p-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:u.name}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:u.id===o.id?"Active session":u.id})]}),n.jsxs(an,{value:u.role,onValueChange:d=>i(u.id,d),children:[n.jsx(on,{className:"w-40",children:n.jsx(rn,{placeholder:"Select role"})}),n.jsx(ln,{align:"end",children:AF.map(d=>n.jsx(it,{value:d.value,children:d.label},d.value))})]})]},u.id))})]})})}const LF=e=>e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2);function DF(){const{currentUser:e,signIn:t,users:s,hasCapability:i}=iv(),[o,l]=T.useState(!1),u=i("manage:users");return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(EF,{className:"h-8 w-8",children:n.jsx(_F,{children:LF(e.name)})}),n.jsxs("div",{className:"hidden sm:flex flex-col leading-tight",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",children:e.name}),n.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:e.role})]}),n.jsxs(an,{value:e.id,onValueChange:t,children:[n.jsx(on,{className:"h-8 w-36 sm:w-48 text-sm",children:n.jsx(rn,{placeholder:"Select user"})}),n.jsx(ln,{align:"end",children:s.map(d=>n.jsxs(it,{value:d.id,children:[d.name,"  ",d.role]},d.id))})]}),u&&n.jsxs(n.Fragment,{children:[n.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>l(!0),children:"Manage Access"}),n.jsx(kF,{open:o,onOpenChange:l})]})]})}const RF={critical:"bg-destructive/90 text-destructive-foreground",warning:"bg-amber-500/80 text-foreground",info:"bg-accent text-accent-foreground"};function OF(){const[e,t]=T.useState(!1),{alerts:s,loading:i,error:o,dismissAlert:l,refreshAlerts:u}=qh(),d=s.length;return n.jsxs(t6,{open:e,onOpenChange:t,children:[n.jsxs(Ue,{type:"button",variant:"ghost",size:"icon",className:"relative h-9 w-9 rounded-full",onClick:()=>t(!0),children:[n.jsx(yL,{className:"h-4 w-4"}),d>0&&n.jsx("span",{className:"absolute -top-1 -right-1 inline-flex h-4 min-w-[1rem] items-center justify-center rounded-full bg-destructive px-1 text-[10px] font-semibold text-destructive-foreground",children:d>9?"9+":d})]}),n.jsxs(n6,{side:"right",className:"w-96 px-0",children:[n.jsx(s6,{className:"px-6 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(a6,{children:"Plant Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automated checks refresh every minute. Review and dismiss resolved items."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Ue,{type:"button",variant:"outline",size:"icon",disabled:i,onClick:u,"aria-label":"Refresh alerts",children:n.jsx(ax,{className:Ut("h-4 w-4",i&&"animate-spin")})})})]})}),n.jsx(J2,{className:"h-full px-6",children:n.jsxs("div",{className:"space-y-3 pb-6",children:[o&&n.jsx("div",{className:"rounded-md border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive",children:"Failed to refresh alerts. Try again shortly."}),i&&s.length===0&&n.jsx("div",{className:"rounded-md border border-border bg-muted/40 p-4 text-sm text-muted-foreground",children:"Scanning plant metrics"}),s.length===0&&!i&&!o&&n.jsx("div",{className:"rounded-md border border-border bg-muted/40 p-4 text-sm text-muted-foreground",children:"No active alerts. All systems are operating within configured thresholds."}),s.map(f=>n.jsxs("div",{className:"rounded-md border border-border bg-background/80 p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ve,{className:Ut("capitalize",RF[f.severity]??""),children:f.severity}),n.jsx(Ue,{type:"button",variant:"ghost",size:"icon",className:"ml-auto h-6 w-6",onClick:()=>l(f.id),"aria-label":"Dismiss alert",children:n.jsx(Sr,{className:"h-3 w-3"})})]}),n.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:f.title}),n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:f.message}),n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Triggered ",new Date(f.triggeredAt).toLocaleString()]})]},f.id))]})})]})]})}const PF=["home","production","green-room","fabrication","shipping","machines","tool-life"],IF={home:"view:home",production:"view:production","green-room":"view:green-room",fabrication:"view:fabrication",shipping:"view:shipping",machines:"view:planner","tool-life":"view:analytics"},BF=["fabrication","green-room"],HF=[{area:"home",label:"Home",icon:eD},{area:"production",label:"Production",icon:x2},{area:"green-room",label:"Green Room",icon:_c},{area:"fabrication",label:"Fabrication",icon:_c},{area:"shipping",label:"Shipping",icon:Qi},{area:"machines",label:"Machine Planner",icon:_c},{area:"tool-life",label:"Tool Life",icon:m3}];function FF(){const{currentUser:e,preferences:t,updatePreferences:s,hasCapability:i}=iv(),o=T.useMemo(()=>PF.filter(ge=>{const re=IF[ge];return e.capabilities.includes(re)}),[e.capabilities]),l=T.useMemo(()=>t.defaultArea&&o.includes(t.defaultArea)?t.defaultArea:o[0]??"home",[o,t.defaultArea]),[u,d]=T.useState(null),[f,m]=T.useState(null),[p,x]=T.useState(null),[N,y]=T.useState(null),[C,M]=T.useState(null),[S,j]=T.useState(null),[L,R]=T.useState(!1),[D,U]=T.useState(!1),[G,$]=T.useState(!1),[B,Y]=T.useState(!1),[fe,V]=T.useState(!1),[P,F]=T.useState(null),[W,te]=T.useState([]),[z,K]=T.useState(null),[H,ue]=T.useState(!0),[ae,_]=T.useState(l),k={home:"Home",production:"Production Overview",fabrication:"Fabrication","green-room":"Green Room",shipping:"Shipping",machines:"Machine Planner","tool-life":"Tool Life Estimation"},[q,J]=T.useState(""),[oe,ce]=T.useState(!1);T.useEffect(()=>{o.includes(ae)||_(l)},[o,ae,l]),T.useEffect(()=>{t.defaultArea!==ae&&s({defaultArea:ae})},[ae,t.defaultArea,s]),T.useEffect(()=>{const re=(t.machineFilters??{})[ae]??"";J(re)},[ae,t.machineFilters]);const me=T.useCallback(ge=>{J(ge),BF.includes(ae)&&s({machineFilters:{...t.machineFilters??{},[ae]:ge}})},[ae,t.machineFilters,s]),be=T.useCallback(()=>{d(null),m(null),x(null),y(null),j(null),M(null),F(null),K(null),R(!1),U(!1),$(!1),Y(!1),V(!1)},[]),ve=T.useCallback(ge=>{o.includes(ge)&&(be(),_(ge),ce(!1))},[o,be]),Me=new Set(["Block Grinding","Cutting","Drilling","Injection Molding","Straightening","Wash","CNC Cutting"]),Pe=us.filter(ge=>Me.has(ge.category)).map(ge=>ge.id);T.useEffect(()=>{async function ge(){try{await ck({machines:us,events:Zp,workOrders:ku,documents:Ph,ecos:so,components:Wo,machineSettings:h2,productionData:m2,categories:z4}),console.log("Database initialized successfully"),ue(!1)}catch(re){console.error("Failed to initialize database:",re),ue(!1)}}ge()},[]);const Xe=async ge=>{try{await V4(ge),te(re=>[...re,ge])}catch(re){console.error("Error creating work order:",re)}},Qe=ge=>{d(ge),j(re=>re&&re.id===ge.id?ge:re),M(re=>re&&re.id===ge.id?ge:re)};return H?n.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"mb-2",children:"Initializing THK-MOM"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading manufacturing data..."})]})}):n.jsxs("div",{className:"min-h-screen max-w-full bg-background flex flex-col",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background px-4 py-3 w-full",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(t6,{open:oe,onOpenChange:ce,children:[n.jsx(Ue,{variant:"ghost",size:"sm",className:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",onClick:()=>ce(!0),children:n.jsx(rD,{className:"w-4 h-4"})}),n.jsxs(n6,{side:"left",className:"p-0 w-72 gap-0 content-start",children:[n.jsx(s6,{className:"p-4 border-b",children:n.jsx(a6,{children:"Plant Areas"})}),n.jsx("nav",{className:"px-2 py-1",children:n.jsx("ul",{className:"space-y-1",children:HF.filter(ge=>o.includes(ge.area)).map(ge=>{const re=ge.icon;return n.jsx("li",{children:n.jsxs(Ue,{variant:ae===ge.area?"secondary":"ghost",className:"w-full justify-start gap-2",onClick:()=>ve(ge.area),children:[n.jsx(re,{className:"w-4 h-4"})," ",ge.label]})},ge.area)})})})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"THK-MOM"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Manufacturing Overview Model  ",k[ae]]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[i("manage:documents")&&n.jsxs(Ue,{variant:"outline",size:"sm",className:"hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:()=>R(!0),children:[n.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Upload"]}),i("manage:notes")&&n.jsxs(Ue,{variant:"outline",size:"sm",className:"hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:()=>U(!0),children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Note"]}),i("manage:events")&&n.jsxs(Ue,{variant:"outline",size:"sm",className:"hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:()=>$(!0),children:[n.jsx(xa,{className:"w-4 h-4 mr-2"}),"Event"]}),i("manage:workorders")&&n.jsxs(Ue,{variant:"outline",size:"sm",className:"hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:()=>Y(!0),children:[n.jsx(qo,{className:"w-4 h-4 mr-2"}),"Work Order"]}),i("manage:ecos")&&n.jsxs(Ue,{variant:"outline",size:"sm",className:"hover:shadow-sm hover:-translate-y-0.5 transition-all duration-200",onClick:()=>V(!0),children:[n.jsx(bf,{className:"w-4 h-4 mr-2"}),"ECO"]})]}),n.jsx(OF,{}),n.jsx(DF,{})]})]})}),n.jsx("main",{className:"flex-1 flex flex-col w-full overflow-hidden",children:n.jsxs("div",{className:"flex-1 w-full",children:[n.jsx(Ap,{mode:"wait",children:!u&&!f&&!p&&!N&&n.jsx(Mc.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"border-b border-border bg-background w-full",children:n.jsxs("div",{className:"p-4 sm:p-6 space-y-4 w-full max-w-full",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-foreground",children:k[ae]}),n.jsx("p",{className:"text-muted-foreground",children:"Manufacturing Overview Model"})]}),n.jsx(_9,{onMachineSelect:d,onECOSelect:m,onWorkOrderSelect:x})]})},"dashboard-header")}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx(Ap,{mode:"wait",initial:!1,children:u?n.jsx(Mc.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30,opacity:{duration:.2}},className:"min-h-full",children:n.jsx(oI,{machine:u,onBack:()=>{d(null)},onMachineUpdated:Qe})},"machine-details-page"):f?n.jsx(Mc.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30,opacity:{duration:.2}},className:"min-h-full",children:n.jsx(hF,{eco:f,workOrders:W,onBack:()=>{m(null)},onCreateWorkOrder:ge=>{F(ge),Y(!0)}})},"eco-details-page"):p?n.jsx(Mc.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30,opacity:{duration:.2}},className:"min-h-full",children:n.jsx(mF,{workOrder:p,onBack:()=>{x(null)}})},"workorder-details-page"):N?n.jsx(Mc.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30,opacity:{duration:.2}},className:"min-h-full",children:n.jsx(pF,{order:N,onBack:()=>y(null)})},"shipping-order-details-page"):n.jsx(Mc.div,{initial:{x:"-20%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-20%",opacity:0},transition:{type:"spring",stiffness:300,damping:30,opacity:{duration:.2}},className:"w-full h-full overflow-auto",children:ae==="home"?n.jsx(k9,{onSelectArea:ge=>ve(ge),isAreaEnabled:ge=>o.includes(ge)}):ae==="production"?n.jsx(z9,{onSelectArea:ge=>ve(ge)}):ae==="fabrication"?n.jsx(L9,{selectedMachine:C,onMachineSelect:ge=>{M(ge),j(ge)},onViewMachineDetails:ge=>d(ge),onViewECODetails:ge=>m(ge),onBackupMachine:ge=>{K(ge),R(!0)},onViewWorkOrderDetails:ge=>x(ge),machineFilterTerm:q,onMachineFilterChange:me}):ae==="shipping"?n.jsx(D9,{onViewOrder:ge=>y(ge),onMachineSelect:ge=>{M(ge),j(ge)}}):ae==="machines"?n.jsx(F9,{}):ae==="tool-life"?n.jsx(jF,{}):n.jsx(E9,{selectedMachine:C,onMachineSelect:ge=>{M(ge),j(ge)},onViewMachineDetails:ge=>{d(ge)},onViewECODetails:ge=>{m(ge)},onBackupMachine:ge=>{K(ge),R(!0)},onViewWorkOrderDetails:ge=>{x(ge)},machineFilterTerm:q,onMachineFilterChange:me})},"dashboard")})})]})}),n.jsx(zA,{open:L,onOpenChange:ge=>{R(ge),ge||K(null)},prefilledMachineId:z?.id,prefilledType:z?"Program Backup":void 0,allowedMachineIds:ae==="fabrication"?Pe:void 0}),n.jsx(WA,{open:D,onOpenChange:U,allowedMachineIds:ae==="fabrication"?Pe:void 0}),n.jsx(XA,{open:G,onOpenChange:$,allowedMachineIds:ae==="fabrication"?Pe:void 0}),n.jsx(F2,{open:B,onOpenChange:ge=>{Y(ge),ge||F(null)},prefilledECO:P,onWorkOrderCreated:Xe,allowedMachineIds:ae==="fabrication"?Pe:void 0}),n.jsx(ZA,{open:fe,onOpenChange:V,prefilledMachine:null,allowedMachineIds:ae==="fabrication"?Pe:void 0}),n.jsx(xF,{machine:S,isOpen:!!S,onClose:()=>j(null),onViewFullDetails:ge=>{d(ge),j(null)},onUploadDocument:()=>{S&&(K(S),R(!0))},onAddNote:()=>U(!0),onLogEvent:()=>$(!0),onCreateWorkOrder:()=>Y(!0)}),n.jsx(gF,{})]})}AT.createRoot(document.getElementById("root")).render(n.jsx(T.StrictMode,{children:n.jsx(MF,{children:n.jsx(iI,{children:n.jsx(FF,{})})})}));export{Yn as _,zF as c,sj as g};
